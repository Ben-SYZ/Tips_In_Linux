(("undefined"!==typeof self?self:this).webpackJsonp=("undefined"!==typeof self?self:this).webpackJsonp||[]).push([[41],{225:function(t,e,i){var r,s;function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}!function(){"use strict";r=[i(2),i(86)],void 0===(s=function(t,e){return t((function(){this.defaultAttrs({bundleCartSelector:".js-bundle-cart",bundleToolTipSelector:".js-bundle-tool-tip",buyerMenuSelector:".js-buyer-menu",externalLinkSelector:"a:not(.js-logout-link):not(.js-preview-link):not(.js-creator-profile-tabs a)[href]",footerSelector:".js-footer",loginSelector:".js-login",loginCloseModalSelector:".js-close-modal-trigger",productContainerSelector:".js-product-row",productDisplaySelector:".js-product-display",productListSelector:".js-bundled-product-list",productSelector:".js-product",changedMindButtonSelector:".changed_mind_button",bundleHeightSpacing:65,bundleWidthSpacing:15,bundleMenuWidth:85,bundleMenuHeight:50,footerHeight:120,minLoginModalWidth:360,productParams:{},validDurationParams:["monthly","quarterly","biannually","yearly"],validOtherParams:["permalink","offerCodeName","locale","wanted","email","gift","recommended_by","quantity","price","variant","tier","duration","url_parameters","affiliate_id"]}),this.addTargetsToLinks=function(){this.select("externalLinkSelector").attr("target","_blank")},this.cancelCheckout=function(){this.attr.checkingOut=!1,$("body").removeClass("checking-out showing-bundle"),setTimeout(function(){this.shrinkToBundleOpen()}.bind(this),350)},this.clickListener=function(t){var e=$(t.target||t.srcElement),i=["buy-form-main","bundle-container","product-row","js-login"];if(!this.attr.checkingOut||e.hasClass("js-overlay-blocker")){for(var r=0;r<i.length;r++){var s=i[r];if(e.hasClass(s)||e.parents("."+s).length>0)return}this.attr.completedPurchase?this.minimize():this.shrinkToBundleOpen()}},this.completePurchase=function(t,e){this.attr.checkingOut=!1,this.attr.completedPurchase=!0},this.notifyParentPageOfPurchase=function(t,e){e.success&&this.sendMessageToParent(n(n({},e),{},{post_message_name:"sale"}))},this.getPersistentBundle=function(){var t=this;this.trigger("uiNeedsToGetPersistentBundle"),setTimeout((function(){t.productsInBundle().length>0&&t.shrinkToBundleOpen()}),100)},this.getProduct=function(t){this.attr.productParams={},this.attr.userGoogleAnalyticsClientId=t.googleAnalyticsClientId;for(var e=0;e<this.attr.validParams.length;e++){var i=this.attr.validParams[e],r=t[i];r&&"false"!==r.toString().toLowerCase()&&(this.attr.productParams[i]=r)}this.setDuration(),this.trigger(document,"uiNeedsAProduct",this.attr.productParams)},this.gotMessage=function(t){var e={};if(t.data)try{e=JSON.parse(t.data)}catch(i){}e.overlayMethod&&this[e.overlayMethod]&&this[e.overlayMethod](e.overlayArgs)},this.keyListener=function(t){27===t.keyCode&&(t.stopPropagation(),this.minimize())},this.maximize=function(t){this.addObserverToResizeOverlay(),this.resizeOverlayOnDescriptionContentLoad(),this.refreshPreview(),$("body").removeClass("gumroad-minimized"),this.select("productContainerSelector").addClass("showing"),this.trigger("uiNeedsToShowProductCountInCircle"),setTimeout(function(){this.resizeOverlay()}.bind(this),300),this.sendMessageToParent({parentMethod:"maximizeIframe",parentArgs:{width:$("body").width()+"px",height:$("body").height()+this.attr.footerHeight+"px"}})},this.minimize=function(t){var e={parentMethod:"minimizeIframe"};if(t&&t.minimizeDimensions)e.parentArgs=t.minimizeDimensions;else if(this.attr.checkingOut)return;$("body").addClass("gumroad-minimized"),this.select("productContainerSelector").addClass("not-showing"),this.trigger("uiNeedsToPauseVideo"),setTimeout(function(){this.sendMessageToParent(e)}.bind(this),300)},this.prepareProduct=function(t,i){this.removeProduct(),this.select("productDisplaySelector").html(i.html),this.select("productSelector").addClass("relative popped"),e.attachTo(this.attr.productContainerSelector,{incrementViewCountOnInit:!0,isMobile:this.attr.isMobile,isMultiBuyEnabled:!this.attr.singleProductMode,onUserProfile:!1,overlayEmail:this.attr.productParams.email,overlayOfferCode:this.attr.productParams.offerCodeName,overlayQuantity:this.attr.productParams.quantity,overlayPrice:this.attr.productParams.price,overlayVariant:this.attr.productParams.variant,overlayTier:this.attr.productParams.tier,overlayDuration:this.attr.productParams.duration,overlayRecommendedBy:this.attr.productParams.recommended_by,overlayUrlParams:this.attr.productParams.url_parameters,permalink:this.attr.productParams.permalink,userInfoToAdd:this.attr.user,wantThis:this.attr.productParams.wanted,isOverlay:!0,userGoogleAnalyticsClientId:this.attr.userGoogleAnalyticsClientId}),this.showProduct()},this.productsInBundle=function(){var t=[];return this.select("productListSelector").find("li").each((function(e,i){t.push($(i).data("unique-permalink"))})),t},this.redirect=function(t,e){this.sendMessageToParent({parentMethod:"redirect",parentArgs:e.url})},this.refreshPreview=function(){this.trigger(document,"showPreview")},this.removeProduct=function(){this.attr.observer&&(this.attr.observer.disconnect(),this.attr.observer=null),e.teardownAll(),this.select("productDisplaySelector").empty()},this.sendMessageToParent=function(t){this.overlayParentDomain&&("object"===typeof t&&(t=JSON.stringify(t)),window.parent.postMessage(t,this.overlayParentDomain))},this.setOverlayParentDomain=function(t){this.overlayParentDomain=t,this.sendMessageToParent({parentMethod:"handshake"})},this.setDuration=function(){for(var t=0;t<this.attr.validDurationParams.length;t++){var e=this.attr.validDurationParams[t];if(this.attr.productParams[e]&&this.attr.validDurationParams.indexOf(this.attr.productParams.duration)<0){this.attr.productParams.duration=e;break}}},this.showPaymentFormIfWanted=function(){this.attr.productParams.wanted&&this.trigger("uiShowOverlayCreditCardForm")},this.showProduct=function(){this.trigger("uiTriggerECommerceView"),this.select("footerSelector").toggle(!this.select("productContainerSelector").data("custom-web-branding"));var t=this.select("productSelector").data("is-published");this.attr.productParams.wanted&&t||this.maximize()},this.startCheckout=function(){"true"===$('meta[property="gr:paypal:pay_with_paypal_enabled"]').attr("value")&&this.trigger("uiNeedsBraintreeClientTokenFetched",{isOverlay:this.attr.isOverlay,isMultiBuyEnabled:this.attr.onMultiOverlay||this.attr.isMultiBuyEnabled}),this.attr.checkingOut=!0,$("body").addClass("showing-bundle checking-out"),setTimeout(function(){this.shrinkToBundleOpen()}.bind(this),350)},this.resizeOverlay=function(t,e){var i=(e?e.height:$("body").height())+this.attr.footerHeight;this.sendMessageToParent({parentMethod:"resizeIframe",parentArgs:{width:$("body").width()+"px",height:i+"px"}})},this.addObserverToResizeOverlay=function(){if(this.attr.observer)return!1;var t=this;this.attr.observer=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.length>0&&Array.prototype.forEach.call(e.addedNodes,(function(e){e.className&&e.className.indexOf("-preview-container")>-1&&(e.className.indexOf("image-preview-container")>-1?$("img.preview")[0].complete?setTimeout((function(){t.resizeOverlay()}),50):($("img.preview").load((function(){t.resizeOverlay()})),$("img.preview").error((function(){t.resizeOverlay()}))):setTimeout((function(){t.resizeOverlay()}),300))}))}))})),this.attr.observer.observe($(".js-preview-container")[0],{childList:!0,subtree:!0})},this.resizeOverlayOnDescriptionContentLoad=function(){var t=this;$(".medium-insert-images img").load((function(){t.resizeOverlay()}))},this.shrinkToBundleOpen=function(){var t=null;if(this.productsInBundle().length>0){var e=this.select("bundleToolTipSelector");t={minimizeDimensions:{width:parseInt(e.outerWidth())+this.attr.bundleWidthSpacing+"px",height:parseInt(e.outerHeight())+this.attr.bundleHeightSpacing+"px"}}}this.minimize(t)},this.shrinkOverlay=function(t,e){this.sendMessageToParent({parentMethod:"minimizeIframe",parentArgs:{width:t+"px",height:e+"px"}})},this.shrinkToLoginModal=function(){this.shrinkOverlay(this.attr.minLoginModalWidth,$("body").height())},this.shrinkToBundleClose=function(){this.shrinkOverlay(this.attr.bundleMenuWidth,this.attr.bundleMenuHeight)},this.shrinkToBuyerMenuOpen=function(){var t=this.select("buyerMenuSelector");this.shrinkOverlay(Math.max(this.attr.bundleMenuWidth,t.outerWidth())+this.attr.bundleWidthSpacing,this.attr.bundleHeightSpacing+t.outerHeight())},this.hideOrClosePaymentForm=function(t){t.preventDefault(),this.attr.productParams.wanted?this.shrinkToBundleOpen():this.trigger(document,"uiShowProductMain")},this.after("initialize",(function(){this.attr.validParams=this.attr.validDurationParams.concat(this.attr.validOtherParams),this.attr.singleProductMode=$(".js-product-display").data("single-product-mode"),$("body").addClass("gumroad-minimized"),window.addEventListener?window.addEventListener("message",function(t){this.gotMessage(t)}.bind(this),!1):window.attachEvent&&window.attachEvent("onmessage",function(t){this.gotMessage(t)}.bind(this),!1),this.addTargetsToLinks(),this.trigger(document,"uiSetOverlayPageShareUrl",{url:this.select("productDisplaySelector").data("overlay-share-url")}),this.on(document,"dataGotAProduct",this.prepareProduct),this.on(document,"uiBundledProductPaymentFailed",this.completePurchase),this.on(document,"uiBundledProductPaymentCompleted",this.completePurchase),this.on(document,"uiBundledProductPaymentCompleted",this.notifyParentPageOfPurchase),this.on(document,"dataPurchaseSuccessful",this.notifyParentPageOfPurchase),this.on("click",{loginCloseModalSelector:this.shrinkToBuyerMenuOpen,changedMindButtonSelector:this.hideOrClosePaymentForm}),this.on(document,"uiCanShowPaymentForm",this.showPaymentFormIfWanted),this.on(document,"uiCannotShowPaymentForm",this.maximize),this.on(document,"uiNeedsToCancelBundleCheckout",this.cancelCheckout),this.on(document,"uiNeedsToStartBundleCheckout",this.startCheckout),this.on(document,"uiNeedsToRedirectOverlayFromReceipt",this.redirect),this.on(document,"uiShouldResizeOverlay",this.resizeOverlay),this.on(document,"uiShowLoginModal",this.shrinkToLoginModal),this.on(document,"uiNeedsToHideProductOverlay",this.shrinkToBundleOpen),this.on(document,"uiNeedsToShrinkToBundleClose",this.shrinkToBundleClose),this.on(document,"uiNeedsToShrinkToBundleOpen",this.shrinkToBundleOpen),this.on(document,"uiNeedsToShrinkToBuyerMenuOpen",this.shrinkToBuyerMenuOpen),this.on(document,"keydown",this.keyListener),this.on(document,"click",this.clickListener)}))}))}.apply(e,r))||(t.exports=s)}()},235:function(t,e,i){"use strict";i.r(e);var r=i(2),s=i.n(r);e.default=s()((function(){this.toggleProductPublishState=function(t,e){var i=this;return $.ajax({url:e.url,type:"POST",dataType:"json"}).done((function(t){t.success?e.isPublished?i.trigger("dataUnpublishedProduct",{reloadPage:e.reloadPage}):i.trigger("dataPublishedProduct",{reloadPage:e.reloadPage}):i.trigger("dataFailedToChangeProductPublishState",t)})),!1},this.after("initialize",(function(){this.on("uiNeedsToToggleProductPublishState",this.toggleProductPublishState)}))}))},237:function(t,e,i){"use strict";var r,s;r=[i(2),i(26),i(4)],void 0===(s=function(t,e){return t((function(){this.defaultAttrs({popoverSelector:".js-mobile-app-popover",popoverTriggerSelector:".js-mobile-app-popover-trigger",sendSMSTriggerSelector:".js-button-send-sms",phoneNumberInputSelector:".js-mobile-number-field",popoverStateTriggerSelector:".js-state-trigger",stateCreateAccountSelector:".js-state-create-account",stateDownloadAppSelector:".js-state-download-app",stateSMSLinkSelector:".js-state-sms-link",showDownloadAppSelector:".js-back",showSMSLinkSelector:".js-button-sms",purchaseEmailFieldSelector:".js-email",purchaseIdFieldSelector:".js-purchase-id",createAccountFormSelector:".js-create-account-form",createAccountTriggerSelector:".js-create-account-trigger"}),this.toggleMobilePopover=function(){this.select("purchaseEmailFieldSelector").text(this.select("popoverTriggerSelector").data("email"));var t=this.select("popoverSelector"),e=this.select("popoverTriggerSelector");t.toggleClass("showing"),e.toggleClass("button-active"),t.css({top:e.position().top+e.outerHeight()+parseInt(e.css("margin-top"))+15,left:e.position().left-t.outerWidth()/2+e.outerWidth()/2}),t.hasClass("showing")?this.trigger("uiNeedsToDisplayMobileAppPopover"):this.trigger("uiNeedsToHideMobileAppPopover")},this.togglePopover=function(t){t.preventDefault(),this.toggleMobilePopover()},this.showDownloadApp=function(t){t&&t.preventDefault(),this.select("stateCreateAccountSelector").hide(),this.select("stateSMSLinkSelector").hide(),this.select("stateDownloadAppSelector").show()},this.showSendSMSDialog=function(t){t.preventDefault(),this.select("stateDownloadAppSelector").hide(),this.select("stateSMSLinkSelector").show()},this.signupAndAddToLibrary=function(t){t.preventDefault();var e=this.select("createAccountTriggerSelector"),i=this.select("createAccountFormSelector");this.validateForm(i)&&(e.text(I18n.t("js.creating")),this.trigger("uiNeedsToSignupWithPurchase",{formData:i.serialize()}))},this.signupSuccess=function(t){this.select("stateCreateAccountSelector").hide(),this.select("stateDownloadAppSelector").show()},this.signupFailure=function(t,e){this.select("createAccountTriggerSelector").text(I18n.t("js.create")),this.trigger("uiShowFlashMessage",{message:e.message})},this.sendSMS=function(t){t.preventDefault();var e=this.select("phoneNumberInputSelector");this.select("sendSMSTriggerSelector").prop("disabled",!0),this.select("sendSMSTriggerSelector").text(I18n.t("js.sending")),this.trigger("uiNeedsToSendMobileSMSCode",{phone_number:e.val()})},this.showSMSSendSuccessPrompt=function(t,e){this.select("sendSMSTriggerSelector").prop("disabled",!1),this.select("sendSMSTriggerSelector").text(I18n.t("js.sms_send_success_title"));var i=this;setTimeout((function(){i.select("sendSMSTriggerSelector").text(I18n.t("js.send_sms"))}),2e3)},this.showSMSSendFailurePrompt=function(t,e){this.select("sendSMSTriggerSelector").prop("disabled",!1),this.select("sendSMSTriggerSelector").text(e.message);var i=this;setTimeout((function(){i.select("sendSMSTriggerSelector").text(I18n.t("js.send_sms"))}),3e3)},this.addPurchaseDetails=function(t,e){this.select("purchaseIdFieldSelector").val(e.id),this.select("purchaseEmailFieldSelector").val(e.email)},this.setCurrentUserInfo=function(t,e){e.is_logged_in&&this.showDownloadApp()},this.hidePopoverWhenUnfocused=function(t){var e=this.select("popoverSelector"),i=this.select("popoverTriggerSelector");0==$(t.target).closest(e).length&&0==$(t.target).closest(i).length&&(e.removeClass("showing"),i.removeClass("button-active"))},this.after("initialize",(function(){this.on("html","click",this.hidePopoverWhenUnfocused),this.select("popoverTriggerSelector").data("has-purchaser")&&this.showDownloadApp(),this.on("click",{popoverTriggerSelector:this.togglePopover,showDownloadAppSelector:this.showDownloadApp,showSMSLinkSelector:this.showSendSMSDialog,sendSMSTriggerSelector:this.sendSMS,createAccountTriggerSelector:this.signupAndAddToLibrary}),this.on(document,"dataCurrentUserInfo",this.setCurrentUserInfo),this.on(document,"dataPurchaseSuccessful",this.addPurchaseDetails),this.on(document,"dataSendSMSSuccess",this.showSMSSendSuccessPrompt),this.on(document,"dataSendSMSFailure",this.showSMSSendFailurePrompt),this.on(document,"dataSignupAndAddSuccess",this.signupSuccess),this.on(document,"dataSignupAndAddFailure",this.signupFailure)}))}),e)}.apply(e,r))||(t.exports=s)},725:function(t,e,i){"use strict";var r,s;r=[i(17),i(86),i(147),i(726),i(727),i(728),i(262),i(115),i(236),i(237),i(729),i(225),i(226),i(223),i(84),i(143),i(113),i(114),i(142),i(87),i(62),i(108),i(117),i(112),i(235),i(219),i(79),i(318)],void 0===(s=function(t,e,i,r,s,o,n,a,c,d,u,h,l,p,g,m,f,S,v,y,P,b,w,T,O,M,k,j){var C,D,A,z,I,B,x=s.default,F=o.default,N=n.default,L=p.default,_=g.default,E=m.default,H=f.default,W=v.default,R=y.default,U=w.default,V=O.default,q=M.default,G=k.default,J=j.default;C=J.isModal(),D=J.isEmbed(),A=J.isOutboundEmbed(),z=J.isRecommended(),I=G.isOnMobile(),B=$(".product").data("general-permalink"),t.initialize(),_.attachTo(document),E.attachTo(document),H.attachTo(document),S.attachTo(document),L.attachTo(document),W.attachTo(document),R.attachTo(document),P.attachTo(document),b.attachTo(document),U.attachTo(document),T.attachTo(document),V.attachTo(document),q.attachTo(document),c.attachTo(document),d.attachTo(document),h.attachTo(document),l.attachTo(document),F.attachTo(".js-go-to-edit-trigger"),u.attachTo(".product-description"),a.attachTo("#login"),e.attachTo(".js-main-product-row",{incrementViewCountOnInit:!0,isMobile:I,isModal:C,isEmbed:D,isOutboundEmbed:A,wasProductRecommended:z,onProductPage:!0}),i.attachTo(".js-creator-profile-card"),C?x.attachTo("body"):D&&r.attachTo("body"),N.attachTo(".js-locale-holder",{permalink:B})}.apply(e,r))||(t.exports=s)},726:function(t,e,i){"use strict";var r,s;function o(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?o(Object(i),!0).forEach((function(e){a(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}r=[i(2),i(45)],void 0===(s=function(t,e){return t((function(){this.defaultAttrs({poweredByFooterSelector:".js-powered-by-footer",productSelector:".js-product",iFrameVerticalSpacing:50,resizeInterval:10}),this.sendMessage=function(t,e){if("undefined"===typeof e&&(e={}),!this.attr.messagedHeight||this.attr.messagedHeight!==e.height){e.id=this.select("productSelector").data("general-permalink");var i=this.select("productSelector").data("unique-permalink");i!==e.id&&(e.unique_id=i);var r=JSON.stringify({type:"GumroadEmbedMessage",action:t,args:e});window.parent.postMessage(r,"*"),"setHeight"===t&&(this.attr.messagedHeight=e.height)}},this.startResizer=function(){var t=this.select("productSelector"),e=this.select("poweredByFooterSelector").outerHeight();this.resizeTimer=setInterval(function(){if(!t.is(":animated")){var i=t.outerHeight()+e+this.attr.iFrameVerticalSpacing;this.sendMessage("setHeight",{height:i+"px"})}}.bind(this),this.attr.resizeInterval)},this.notifyParentPageOfPurchase=function(t,e){e=n(n({},e),{},{post_message_name:"sale"}),window.parent.postMessage(JSON.stringify(e),"*")},this.after("initialize",(function(){this.$node.addClass("is-embed"),this.on(document,"dataPurchaseSuccessful",this.notifyParentPageOfPurchase),this.startResizer()}))}),e.default)}.apply(e,r))||(t.exports=s)},727:function(t,e,i){"use strict";i.r(e);var r=i(2),s=i.n(r);e.default=s()((function(){this.defaultAttrs({isModalSelector:".is_modal",productSelector:".js-main-product-row",loginSelector:"#login"}),this.closeIfBackgroundIsClicked=function(t){var e=this.select("productSelector"),i=this.select("loginSelector"),r=t.target;if(-1==$(r).parents().index(e)&&-1==$(r).parents().index(i)){var s=""==document.referrer?"*":document.referrer;parent.postMessage("close",s)}},this.after("initialize",(function(){this.$node.addClass("is-modal"),this.select("isModalSelector").val("true"),this.on("click",this.closeIfBackgroundIsClicked)}))}))},728:function(t,e,i){"use strict";i.r(e);var r=i(2),s=i.n(r);e.default=s()((function(){this.showPrompt=function(t,e){e.is_owner&&this.$node.show()},this.after("initialize",(function(){this.on(document,"dataCurrentUserInfo",this.showPrompt)}))}))},729:function(t,e,i){"use strict";var r,s;r=[i(2)],void 0===(s=function(t){return t((function(){this.defaultAttrs({target:"_blank"}),this.after("initialize",(function(){this.$node.find("a").attr("target",this.attr.target)}))}))}.apply(e,r))||(t.exports=s)}},[[725,0,1]]]);