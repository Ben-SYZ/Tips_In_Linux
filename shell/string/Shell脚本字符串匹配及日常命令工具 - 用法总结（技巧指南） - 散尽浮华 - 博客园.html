<!DOCTYPE html>
<html ml-update="aware" lang="zh-cn"><link type="text/css" rel="stylesheet" id="dark-mode-custom-link"><link type="text/css" rel="stylesheet" id="dark-mode-general-link"><style type="text/css" id="dark-mode-custom-style" lang="en"></style><style type="text/css" id="dark-mode-native-style" lang="en"></style><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="origin-when-crossorigin">
    <meta name="description" content="Shell提供了很多字符串和文件处理的命令，如awk、expr、grep、sed等命令，还有文件的排序、合并和分割等一系列的操作命令。下面重点总结下Shell字符串处理、文本处理以及各类命令及函数用法">
    <meta property="og:description" content="Shell提供了很多字符串和文件处理的命令，如awk、expr、grep、sed等命令，还有文件的排序、合并和分割等一系列的操作命令。下面重点总结下Shell字符串处理、文本处理以及各类命令及函数用法">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Shell脚本字符串匹配及日常命令工具 - 用法总结（技巧指南） - 散尽浮华 - 博客园</title>
    <link id="favicon" rel="shortcut icon" href="https://common.cnblogs.com/favicon.svg" type="image/svg+xml">
    
    <link rel="stylesheet" href="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/blog-common.css">
    <link id="MainCss" rel="stylesheet" href="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/bundle-coffee.css">
    
    <link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/bundle-coffee-mobile.css">
    
    <link type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/kevingrace/rss">
    <link type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/kevingrace/rsd.xml">
    <link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/kevingrace/wlwmanifest.xml">
    <script async="" src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/analytics.html"></script><script>
        var currentBlogId = 271300;
        var currentBlogApp = 'kevingrace';
        var cb_enable_mathjax = false;
        var isLogined = false;
        var isBlogOwner = false;
        var skinName = 'coffee';
        var visitorUserId = '';
    </script>
        <script>
            var currentPostDateAdded = '2016-10-25 11:44';
        </script>
    <script src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/jquery-2.js"></script>
    <script src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/blog-common.js"></script><style type="text/css">.medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}</style>
    
    
    
</head>
<body class="has-navbar has-bannerbar">
    <a name="top"></a>
        <a target="_blank" href="https://click.aliyun.com/m/1000274292/" onclick="ga('send', 'event', 'Link', 'click', 'aliyun-summit-blog-bannerbar-pc')">
            <div class="bannerbar aliyun forpc" style="background-size: contain;background-image: url(https://img2020.cnblogs.com/blog/35695/202105/35695-20210528064623383-1223824126.jpg)">
            </div>
        </a>
        <div id="bannerbar" class="bannerbar-mobile formobile">
            <a href="https://click.aliyun.com/m/1000274297/" onclick="ga('send', 'event', 'Link', 'click', 'aliyun-summit-blog-bannerbar-mobile')">
                <img src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/35695-20210528064734236-1850367172.jpg" alt="">
            </a>
        </div>
    <div id="top_nav" class="navbar forpc">
        <nav id="nav_main" class="navbar-main">
            <ul id="nav_left" class="navbar-list navbar-left">
                <li class="navbar-branding"><a href="https://www.cnblogs.com/" title="开发者的网上家园"><img src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/logo.svg" alt="博客园Logo"></a></li>
                <li><a href="https://www.cnblogs.com/" onclick="ga('send', 'event', 'Link', 'click', 'skin-navbar-sitehome')">首页</a></li>
                <li><a href="https://news.cnblogs.com/" onclick="ga('send', 'event', 'Link', 'click', 'skin-navbar-news')">新闻</a></li>
                <li><a href="https://q.cnblogs.com/" onclick="ga('send', 'event', 'Link', 'click', 'skin-navbar-q')">博问</a></li>
                <li><a id="nav_brandzone" href="https://brands.cnblogs.com/" onclick="ga('send', 'event', 'Link', 'click', 'skin-navbar-brands')">专区</a></li>
                <li><a href="https://ing.cnblogs.com/" onclick="ga('send', 'event', 'Link', 'click', 'skin-navbar-ing')">闪存</a></li>
                <li><a href="https://edu.cnblogs.com/" onclick="ga('send', 'event', 'Link', 'click', 'skin-navbar-edu')">班级</a></li>
            </ul>
            <ul id="nav_right" class="navbar-list navbar-right">
                <li>
                    <form id="zzk_search" class="navbar-search" action="https://zzk.cnblogs.com/s" method="get">
                        <input name="w" id="zzk_search_input" placeholder="代码改变世界" type="text" tabindex="3">
                        <button type="submit" id="zzk_search_button">
                            <img src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/search.svg" alt="搜索">
                        </button>
                    </form>
                </li>
                <li id="navbar_login_status" class="navbar-list">
                    <a class="navbar-user-info navbar-blog" href="https://i.cnblogs.com/EditPosts.aspx?opt=1" alt="写随笔" title="写随笔" style="display: none;">
                        <img id="new_post_icon" class="navbar-icon" src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/newpost.svg" alt="写随笔">
                    </a>
                    <a id="navblog-myblog-icon" class="navbar-user-info navbar-blog" href="https://passport.cnblogs.com/GetBlogApplyStatus.aspx" alt="我的博客" title="我的博客" style="display: none;">
                        <img id="myblog_icon" class="navbar-icon" src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/myblog.svg" alt="我的博客">
                    </a>
                    <a class="navbar-user-info navbar-message navbar-icon-wrapper" href="https://msg.cnblogs.com/" alt="短消息" title="短消息" style="display: none;">
                        <img id="msg_icon" class="navbar-icon" src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/message.svg" alt="短消息">
                        <span id="msg_count" style="display: none"></span>
                    </a>
                    <div id="user_info" class="navbar-user-info dropdown" style="display: none;">
                        <a class="dropdown-button" href="https://home.cnblogs.com/">
                            <img id="user_icon" class="navbar-avatar" src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/avatar-default.svg" alt="用户头像">
                        </a>
                        <div class="dropdown-menu">
                            <a id="navblog-myblog-text" href="https://passport.cnblogs.com/GetBlogApplyStatus.aspx">我的博客</a>
                            <a href="https://home.cnblogs.com/">我的园子</a>
                            <a href="https://account.cnblogs.com/settings/account">账号设置</a>
                            <a href="javascript:void(0)" id="navbar_lite_mode_toggle" title="简洁模式会使用简洁款皮肤显示所有博客">
    简洁模式 <img id="navbar_lite_mode_on" src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/lite-mode-check.svg" class="hide"><span id="navbar_lite_mode_spinner" class="hide">...</span>
</a>
                            <a href="javascript:void(0)" onclick="account.logout();">退出登录</a>
                        </div>
                    </div>
                    <a class="navbar-anonymous" href="https://account.cnblogs.com/signup/" style="display: inline;">注册</a>
                    <a class="navbar-anonymous" href="javascript:void(0);" onclick="account.login()" style="display: inline;">登录</a>
                </li>
            </ul>
        </nav>
    </div>

    
    
<!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
	<a href="https://www.cnblogs.com/kevingrace/"><img id="blogLogo" src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/logo.gif" alt="返回主页"></a>			
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle HeaderMainTitle" href="https://www.cnblogs.com/kevingrace/">散尽浮华</a>
</h1>
<h2>重剑无锋，大巧不工！</h2>




		
	</div><!--end: blogTitle 博客的标题和副标题 -->
</div><!--end: header 头部 -->

<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		<div id="navigator">
			
<ul id="navList">
	<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">
博客园</a>
</li>
	<li>
<a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/kevingrace/">
首页</a>
</li>
	<li>

<a id="blog_nav_newpost" class="menu" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">
新随笔</a>
</li>
	<li>
<a id="blog_nav_contact" class="menu" href="https://msg.cnblogs.com/send/%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E">
联系</a></li>
	<li>
<a id="blog_nav_admin" class="menu" href="https://i.cnblogs.com/">
管理</a>
</li>
	<li>
<a id="blog_nav_rss" class="menu" href="javascript:void(0)" data-rss="https://www.cnblogs.com/kevingrace/rss/">
订阅</a>
	
<a id="blog_nav_rss_image" href="https://www.cnblogs.com/kevingrace/rss/">
    <img src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/xml.gif" alt="订阅">
</a></li>
</ul>



			<div class="blogStats">
				
				<!--done-->
随笔- 584&nbsp;
文章- 39&nbsp;
评论- 962&nbsp;
阅读- 
<span title="总阅读数: 8940258">
894万</span>&nbsp;



				
			</div><!--end: blogStats -->
		</div><!--end: navigator 博客导航栏 -->
		<div id="post_detail">
<!--done-->
<div id="topics">
	<div class="post">
		<h1 class="postTitle">
			
<a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/kevingrace/p/5996133.html">
    <span class="">Shell脚本字符串匹配及日常命令工具 - 用法总结（技巧指南）</span>
    



</a>

		</h1>
		<div class="clear"></div>
		<div class="postBody">
			<div id="cnblogs_post_body" class="blogpost-body blogpost-body-html">
<p>&nbsp;</p>
<p>Shell提供了很多字符串和文件处理的命令，如awk、expr、grep、sed等命令，还有文件的排序、合并和分割等一系列的操作命令。下面重点总结下Shell字符串处理、文本处理以及各类命令及函数用法。</p>
<p>先从expr命令开始梳理，expr 引出通用求值表达式，可以实现算术操作、比较操作、字符串操作和逻辑操作等功能。</p>
<p class=""><span style="color: rgba(255, 102, 0, 1)"><strong>1) 计算字符串长度</strong></span><br>字符串名为string，可以使用命令 ${#string} 或 expr length ${string} 两种方法来计算字符串的长度。<br>若string中包括空格，则expr计算命令中需用双引号引起来，即expr length "${string}"。（${#string}方法对于有无空格的字符串均可使用）<br><span style="background-color: rgba(255, 255, 153, 1)">需要注意：</span>expr length后面只能跟一个参数，string有空格会当作多个参数处理。</p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_829202" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># string="kevinisgood"&nbsp;&nbsp; </code></div><div class="line number2 index1 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr length ${string}&nbsp; </code></div><div class="line number3 index2 alt2"><code class="bash plain">11</code></div><div class="line number4 index3 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr length "${string}"&nbsp; </code></div><div class="line number5 index4 alt2"><code class="bash plain">11</code></div><div class="line number6 index5 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments">#
 echo 
${#string}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 # 使用自带shell函数读取字符串长度</code></div><div class="line number7 index6 alt2"><code class="bash plain">11</code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="bash plain">如果string字符串中有空格</code></div><div class="line number10 index9 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># string="kevin is good" </code></div><div class="line number11 index10 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr length ${string} </code></div><div class="line number12 index11 alt1"><code class="bash functions">expr</code><code class="bash plain">: syntax error</code></div><div class="line number13 index12 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr length "${string}"</code></div><div class="line number14 index13 alt1"><code class="bash plain">13</code></div><div class="line number15 index14 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${#string}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number16 index15 alt1"><code class="bash plain">13</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="bash plain">注意：这里说到如果string字符串中有空格，则需要双引号引起来。但如果是单引号引起来呢？</code></div><div class="line number19 index18 alt2"><code class="bash plain">如果string字符串用单引号引起来，则统计出来的是</code><code class="bash string">"字符串去重和去掉空格"</code><code class="bash plain">后的长度</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number22 index21 alt1"><code class="bash plain">kevin is good</code></div><div class="line number23 index22 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr length '${string}'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #使用单引号的话，统计的是"字符去重以及去掉空格"之后的长度</code></div><div class="line number24 index23 alt1"><code class="bash plain">9</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># string="kevinisgood"</code></div><div class="line number27 index26 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number28 index27 alt1"><code class="bash plain">kevinisgood</code></div><div class="line number29 index28 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr length '${string}'</code></div><div class="line number30 index29 alt1"><code class="bash plain">9</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">2）匹配字符串长度</span> </strong><br>即
匹配字符串开头子串的长度！！使用命令 expr match ${string} 
$substring，表示在string字符串的开头匹配substring字符串，返回匹配到的substring字符串的长度。若string开头
匹配不到则返回0，其中substring可以是字符串也可以是正则表达式。</p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_599197" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">expr</code><code class="bash plain">匹配字符串长度的两种格式：</code></div><div class="line number2 index1 alt1"><code class="bash comments"># expr match "$string" '$substring'</code></div><div class="line number3 index2 alt2"><code class="bash comments"># expr "$string" : '$substring'</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># string="zhongguo hao"</code></div><div class="line number6 index5 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr length "${string}"</code></div><div class="line number7 index6 alt2"><code class="bash plain">12</code></div><div class="line number8 index7 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr match "${string}" "z.*"</code></div><div class="line number9 index8 alt2"><code class="bash plain">12</code></div><div class="line number10 index9 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr match "${string}" "zho"</code></div><div class="line number11 index10 alt2"><code class="bash plain">3</code></div><div class="line number12 index11 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr match "${string}" "hao"</code></div><div class="line number13 index12 alt2"><code class="bash plain">0</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="bash plain">注意：</code></div><div class="line number16 index15 alt1"><code class="bash string">"hao"</code><code class="bash plain">尽管在string字符串中出现，但是未出现在string的开头处，因此返回0!</code></div><div class="line number17 index16 alt2"><code class="bash plain">所以说，</code><code class="bash functions">expr</code> <code class="bash plain">match匹配的一定是字符串开头子串的长度！！</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="bash plain">后面的$substring可以是正则, $substring两边是单引号或双引号无所谓。</code></div><div class="line number20 index19 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># string="KEvin IS good"</code></div><div class="line number21 index20 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr match "${string}" "[A-Z]*"</code></div><div class="line number22 index21 alt1"><code class="bash plain">2</code></div><div class="line number23 index22 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr match "${string}" '[A-Z]*'&nbsp;&nbsp;&nbsp; </code></div><div class="line number24 index23 alt1"><code class="bash plain">2</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr "${string}" : "[A-Z]*"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #注意这种方法中就没有了"match"参数 </code></div><div class="line number27 index26 alt2"><code class="bash plain">2</code></div><div class="line number28 index27 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr "${string}" : '[A-Z]*[a-z]*'</code></div><div class="line number29 index28 alt2"><code class="bash plain">5</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">3）匹配字符串索引</span></strong><br>expr的索引命令格式为：expr index ${string} $substring。<br>在字符串$string上匹配$substring中字符最早第一次出现的位置（从左到右，从1开始），匹配不到，expr index返回0。<br>简单来说，就是找出子串在字符串中最早第一次出现的单个字符的位置！！</p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_657113" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># string="love beijing"</code></div><div class="line number2 index1 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number3 index2 alt2"><code class="bash plain">love beijing</code></div><div class="line number4 index3 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr index ${string} "bei"</code></div><div class="line number5 index4 alt2"><code class="bash functions">expr</code><code class="bash plain">: syntax error</code></div><div class="line number6 index5 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr index "${string}" "bei"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #注意string字符串中有空格，需要加双引号</code></div><div class="line number7 index6 alt2"><code class="bash plain">4</code></div><div class="line number8 index7 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr index "${string}" "jing"</code></div><div class="line number9 index8 alt2"><code class="bash plain">8</code></div><div class="line number10 index9 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr index "${string}" "haa" </code></div><div class="line number11 index10 alt2"><code class="bash plain">0</code></div><div class="line number12 index11 alt1">&nbsp;</div><div class="line number13 index12 alt2"><code class="bash plain">注意：</code></div><div class="line number14 index13 alt1"><code class="bash functions">expr</code> <code class="bash plain">index命令中返回的是后面$substring中</code><code class="bash string">"子串字符中"</code><code class="bash plain">最早第一次出现的位置。</code></div><div class="line number15 index14 alt2"><code class="bash string">"bei"</code><code class="bash plain">子串中在${string}字符串中最早第一次出现的是</code><code class="bash string">"e"</code><code class="bash plain">,第4位置</code></div><div class="line number16 index15 alt1"><code class="bash string">"jing"</code><code class="bash plain">子串中在${string}字符串中最早第一次出现的是</code><code class="bash string">"i"</code><code class="bash plain">,第4位置</code></div><div class="line number17 index16 alt2"><code class="bash string">"haa"</code><code class="bash plain">匹配不到，所以返回0！</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><span style="color: rgba(0, 0, 255, 1)"><strong>===&nbsp; Bash Shell命令&nbsp; ===</strong></span><br><strong><span style="color: rgba(255, 102, 0, 1)">4）抽取字符串的子串</span></strong><br>Shell提供两种命令和expr实现抽取子串功能。</p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_927865" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">正着抽取（即从左到右）有两种格式。（左边默认从0开始标号）</code></div><div class="line number2 index1 alt1"><code class="bash plain">格式一：{string:position}&nbsp; 从名称为${string}的字符串的第$position个位置开始抽取子串，从0开始标号。</code></div><div class="line number3 index2 alt2"><code class="bash plain">格式二：{string:position:length}&nbsp; 增加$length变量，表示从${string}字符串的第$position个位置开始抽取长度为$length的子串。</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="bash plain">需要注意：都是从string的左边开始计数抽取子串。</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="bash plain">示例：</code></div><div class="line number8 index7 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># string="hello world wang"</code></div><div class="line number9 index8 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string}</code></div><div class="line number10 index9 alt1"><code class="bash plain">hello world wang</code></div><div class="line number11 index10 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string:0}&nbsp;&nbsp;&nbsp; #从标号为0(即从第一个字母)开始截取，截取到结尾。</code></div><div class="line number12 index11 alt1"><code class="bash plain">hello world wang</code></div><div class="line number13 index12 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string:6}&nbsp;&nbsp;&nbsp; #从标号为6的字符开始截取，截取到结尾。</code></div><div class="line number14 index13 alt1"><code class="bash plain">world wang</code></div><div class="line number15 index14 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string:6:4}&nbsp; #从标号为6的字符开始截取，截取长度为4。</code></div><div class="line number16 index15 alt1"><code class="bash plain">worl</code></div><div class="line number17 index16 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string:6:0}&nbsp; #从标号为6的字符开始截取，截取长度为0。</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># </code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="bash plain">反着抽取（即从右到左）有两种格式。（右边默认从-1开始标号）</code></div><div class="line number22 index21 alt1"><code class="bash plain">格式一：{string: -position}。需要谨记：冒号与横杠间有一个空格！！！！</code></div><div class="line number23 index22 alt2"><code class="bash plain">格式二：{string:(position)}。如果加了括号，则冒号后面加不加空格是一样的效果！！！</code></div><div class="line number24 index23 alt1">&nbsp;</div><div class="line number25 index24 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string:-2}&nbsp;&nbsp;&nbsp; #冒号与"-"之间必要要有空格，否则截取无效！</code></div><div class="line number26 index25 alt1"><code class="bash plain">hello world wang</code></div><div class="line number27 index26 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string: -2}</code></div><div class="line number28 index27 alt1"><code class="bash plain">ng</code></div><div class="line number29 index28 alt2">&nbsp;</div><div class="line number30 index29 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string:(-2)}</code></div><div class="line number31 index30 alt2"><code class="bash plain">ng</code></div><div class="line number32 index31 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string: (-2)}</code></div><div class="line number33 index32 alt2"><code class="bash plain">ng</code></div><div class="line number34 index33 alt1">&nbsp;</div><div class="line number35 index34 alt2"><code class="bash plain">如果要想实现从右边第几个字符开始截取，截取长度为多少，则方法为：</code></div><div class="line number36 index35 alt1"><code class="bash plain">{string:m-n:x} 表示从右边第</code><code class="bash string">"m-n"</code><code class="bash plain">个字符开始截取，截取长度为x</code></div><div class="line number37 index36 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string:1-7:3}</code></div><div class="line number38 index37 alt1"><code class="bash plain">d w</code></div><div class="line number39 index38 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string:3-9:3}</code></div><div class="line number40 index39 alt1"><code class="bash plain">d w</code></div><div class="line number41 index40 alt2">&nbsp;</div><div class="line number42 index41 alt1"><code class="bash functions">expr</code> <code class="bash plain">substr也能够实现抽取子串功能，命令格式：</code><code class="bash functions">expr</code> <code class="bash plain">substr ${string} $position $length，</code></div><div class="line number43 index42 alt2"><code class="bash plain">这个与上面最大不同是</code><code class="bash functions">expr</code> <code class="bash plain">substr命令从1开始进行标号！！！！</code></div><div class="line number44 index43 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string}</code></div><div class="line number45 index44 alt2"><code class="bash plain">hello world wang</code></div><div class="line number46 index45 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string:3:5}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #从0开始进行标号&nbsp;&nbsp;&nbsp; </code></div><div class="line number47 index46 alt2"><code class="bash plain">lo wo</code></div><div class="line number48 index47 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr substr "${string}" 3 5&nbsp;&nbsp; #从1开始标号</code></div><div class="line number49 index48 alt2"><code class="bash plain">llo w</code></div><div class="line number50 index49 alt1">&nbsp;</div><div class="line number51 index50 alt2"><code class="bash plain">还可以使用正则表达式抽取子串的命令，但只能抽取string开头处或结尾处的子串。</code></div><div class="line number52 index51 alt1">&nbsp;</div><div class="line number53 index52 alt2"><code class="bash plain">抽取字符串开头处的子串：</code></div><div class="line number54 index53 alt1"><code class="bash plain">格式一：</code><code class="bash functions">expr</code> <code class="bash plain">match $string </code><code class="bash string">''</code></div><div class="line number55 index54 alt2"><code class="bash plain">格式二：</code><code class="bash functions">expr</code> <code class="bash plain">$string : </code><code class="bash string">''</code><code class="bash plain">。&nbsp; 注意：其中冒号前后都有一个空格。</code></div><div class="line number56 index55 alt1">&nbsp;</div><div class="line number57 index56 alt2"><code class="bash plain">抽取字符串结尾处的子串：</code></div><div class="line number58 index57 alt1"><code class="bash plain">格式一：</code><code class="bash functions">expr</code> <code class="bash plain">match $string </code><code class="bash string">'.*'</code></div><div class="line number59 index58 alt2"><code class="bash plain">格式二：</code><code class="bash functions">expr</code> <code class="bash plain">$string : </code><code class="bash string">'.*'</code><code class="bash plain">。&nbsp;&nbsp; 注意：.*表示任意字符的任意重复。一个.表示一个字符。</code></div><div class="line number60 index59 alt1">&nbsp;</div><div class="line number61 index60 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># string="20181112hello WORld Good"</code></div><div class="line number62 index61 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string}</code></div><div class="line number63 index62 alt2"><code class="bash plain">20181112hello WORld Good</code></div><div class="line number64 index63 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr match "$string" '\([0-9]*\)'&nbsp;&nbsp;&nbsp;&nbsp; #这里的${string}最好使用双引号引起来，因为字符串可能中有空格！如果没有空格，就可以不用使用双引号。</code></div><div class="line number65 index64 alt2"><code class="bash plain">20181112</code></div><div class="line number66 index65 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr match "$string" "\([0-9]*\)"</code></div><div class="line number67 index66 alt2"><code class="bash plain">20181112</code></div><div class="line number68 index67 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr "$string" : '\([0-9]*\)'</code></div><div class="line number69 index68 alt2"><code class="bash plain">20181112</code></div><div class="line number70 index69 alt1">&nbsp;</div><div class="line number71 index70 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr match "$string" '.*\(.\)'&nbsp; </code></div><div class="line number72 index71 alt1"><code class="bash plain">d</code></div><div class="line number73 index72 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr match "$string" '.*\(..\)'&nbsp; </code></div><div class="line number74 index73 alt1"><code class="bash functions">od</code></div><div class="line number75 index74 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr match "$string" '.*\(...\)'&nbsp; </code></div><div class="line number76 index75 alt1"><code class="bash plain">ood</code></div><div class="line number77 index76 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr match "$string" '.*\(.....\)'&nbsp; </code></div><div class="line number78 index77 alt1"><code class="bash spaces">&nbsp;</code><code class="bash plain">Good</code></div><div class="line number79 index78 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr "$string" : '.*\(.....\)'</code></div><div class="line number80 index79 alt1"><code class="bash spaces">&nbsp;</code><code class="bash plain">Good</code></div><div class="line number81 index80 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr "$string" : '.*\(.........\)'</code></div><div class="line number82 index81 alt1"><code class="bash plain">ORld Good</code></div><div class="line number83 index82 alt2">&nbsp;</div><div class="line number84 index83 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># string="heLLO2018 world"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number85 index84 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr match "$string" '\([a-z]*\)'</code></div><div class="line number86 index85 alt1"><code class="bash plain">he</code></div><div class="line number87 index86 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr match "$string" '\([a-Z]*\)'</code></div><div class="line number88 index87 alt1"><code class="bash plain">heLLO</code></div><div class="line number89 index88 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr match "$string" '\([a-Z]*[0-9]*\)'</code></div><div class="line number90 index89 alt1"><code class="bash plain">heLLO2018</code></div><div class="line number91 index90 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr match "$string" '\(.[a-Z]*[0-9]*\)'</code></div><div class="line number92 index91 alt1"><code class="bash plain">heLLO2018</code></div><div class="line number93 index92 alt2">&nbsp;</div><div class="line number94 index93 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># expr "$string" : '.*\(.........\)'</code></div><div class="line number95 index94 alt2"><code class="bash plain">018 world</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">5）删除字符串的子串</span></strong><br>删除字串是指将原字符串中符合条件的子串删除。</p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_970617" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">从string开头处删除子串：</code></div><div class="line number2 index1 alt1"><code class="bash plain">格式一：${string</code><code class="bash comments">#substring}&nbsp;&nbsp;&nbsp; 删除开头处与substring匹配的最短子串。</code></div><div class="line number3 index2 alt2"><code class="bash plain">格式二：${string</code><code class="bash comments">##substring}&nbsp;&nbsp; 删除开头处与substring匹配的最长子串。其中substring并非是正则表达式而是通配符。</code></div><div class="line number4 index3 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># string="china IS niuBIlity2018"</code></div><div class="line number5 index4 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string#c*i}&nbsp;&nbsp;&nbsp;&nbsp; #删除c开头到a的最短子串&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number6 index5 alt1"><code class="bash plain">na IS niuBIlity2018</code></div><div class="line number7 index6 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string##c*i}&nbsp;&nbsp;&nbsp; #删除c开头到a的最长子串</code></div><div class="line number8 index7 alt1"><code class="bash plain">ty2018</code></div><div class="line number9 index8 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string#c*n} </code></div><div class="line number10 index9 alt1"><code class="bash plain">a IS niuBIlity2018</code></div><div class="line number11 index10 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string##c*n}</code></div><div class="line number12 index11 alt1"><code class="bash plain">iuBIlity2018</code></div><div class="line number13 index12 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string#ch*n}&nbsp;&nbsp;&nbsp; #删除ch开头到a的最短子串&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number14 index13 alt1"><code class="bash plain">a IS niuBIlity2018</code></div><div class="line number15 index14 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string##ch*n}&nbsp;&nbsp; #删除ch开头到a的最长子串</code></div><div class="line number16 index15 alt1"><code class="bash plain">iuBIlity2018</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="bash plain">上面</code><code class="bash comments">#或##后面的字符必须是${string}字符串的开头子串！否则删除子串就无效了！</code></div><div class="line number19 index18 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string#i*n}&nbsp;&nbsp;&nbsp; #i不是开头字符，所以删除无效</code></div><div class="line number20 index19 alt1"><code class="bash plain">china IS niuBIlity2018</code></div><div class="line number21 index20 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string##i*n}&nbsp;&nbsp; #i不是开头字符，所以删除无效</code></div><div class="line number22 index21 alt1"><code class="bash plain">china IS niuBIlity2018</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="bash plain">另外：可以使用下面方式进行删除：</code></div><div class="line number25 index24 alt2"><code class="bash plain">${string</code><code class="bash comments">#*substring}&nbsp;&nbsp;&nbsp;&nbsp; 删除${string}字符串中第一个$substring及其之前的字符</code></div><div class="line number26 index25 alt1"><code class="bash plain">${string</code><code class="bash comments">##*substring}&nbsp;&nbsp;&nbsp; 删除${string}字符串中最后一个$substring及其之前的字符</code></div><div class="line number27 index26 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># string="china IS niuBIlity2018"</code></div><div class="line number28 index27 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string#*i}&nbsp;&nbsp;&nbsp; #删除第一个i及其之前的字符&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number29 index28 alt2"><code class="bash plain">na IS niuBIlity2018</code></div><div class="line number30 index29 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string##*i}&nbsp;&nbsp; #删除最后一个i及其之前的字符</code></div><div class="line number31 index30 alt2"><code class="bash plain">ty2018</code></div><div class="line number32 index31 alt1">&nbsp;</div><div class="line number33 index32 alt2"><code class="bash plain">也可以使用下面方法进行删除</code></div><div class="line number34 index33 alt1"><code class="bash plain">格式一：${string%substring*}&nbsp;&nbsp;&nbsp; 删除${string}字符串中最后一个$substring及其之后的字符</code></div><div class="line number35 index34 alt2"><code class="bash plain">格式二：${string%%substring*}&nbsp;&nbsp; 删除${string}字符串中第一个$substring及其之后的字符</code></div><div class="line number36 index35 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string}&nbsp;&nbsp;&nbsp; </code></div><div class="line number37 index36 alt2"><code class="bash plain">china IS niuBIlity2018</code></div><div class="line number38 index37 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string%i*}</code></div><div class="line number39 index38 alt2"><code class="bash plain">china IS niuBIl</code></div><div class="line number40 index39 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string%%i*}</code></div><div class="line number41 index40 alt2"><code class="bash plain">ch</code></div><div class="line number42 index41 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string%c*} </code></div><div class="line number43 index42 alt2">&nbsp;</div><div class="line number44 index43 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string%%c*}</code></div><div class="line number45 index44 alt2">&nbsp;</div><div class="line number46 index45 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments">#</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">6）字符串替换</span></strong><br>替换子串命令可以在任意处、开头处、结尾处替换满足条件的子串，其中的substring都不是正则表达式而是通配符。</p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_583356" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">在任意处替换子串命令：</code></div><div class="line number2 index1 alt1"><code class="bash plain">格式一：${string</code><code class="bash plain">/substring/replacement</code><code class="bash plain">}，仅替换第一次与substring相匹配的子串。</code></div><div class="line number3 index2 alt2"><code class="bash plain">格式二：${string</code><code class="bash plain">//substring/replacement</code><code class="bash plain">}，替换所有与substring相匹配的子串。</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># string="china IS niuBIlity2018"</code></div><div class="line number6 index5 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string/i/#}</code></div><div class="line number7 index6 alt2"><code class="bash plain">ch</code><code class="bash comments">#na IS niuBIlity2018</code></div><div class="line number8 index7 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string//i/#}</code></div><div class="line number9 index8 alt2"><code class="bash plain">ch</code><code class="bash comments">#na IS n#uBIl#ty2018</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string}</code></div><div class="line number12 index11 alt1"><code class="bash plain">china IS niuBIlity2018</code></div><div class="line number13 index12 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string/ /--}&nbsp;&nbsp; #替换空格</code></div><div class="line number14 index13 alt1"><code class="bash plain">china--IS niuBIlity2018</code></div><div class="line number15 index14 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string// /--}</code></div><div class="line number16 index15 alt1"><code class="bash plain">china--IS--niuBIlity2018</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="bash plain">在开头处替换与substring相匹配的子串，格式为：${string/</code><code class="bash comments">#substring/replacement}。</code></div><div class="line number19 index18 alt2"><code class="bash plain">在结尾除替换与substring相匹配的子串，格式为：${string/%substring</code><code class="bash plain">/replacement</code><code class="bash plain">}。</code></div><div class="line number20 index19 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string}</code></div><div class="line number21 index20 alt2"><code class="bash plain">china IS niuBIlity2018</code></div><div class="line number22 index21 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string/#ch/he} </code></div><div class="line number23 index22 alt2"><code class="bash plain">heina IS niuBIlity2018</code></div><div class="line number24 index23 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string/#china/anhui}</code></div><div class="line number25 index24 alt2"><code class="bash plain">anhui IS niuBIlity2018</code></div><div class="line number26 index25 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string/#niu/he}&nbsp;&nbsp;&nbsp;&nbsp; #注意这里#后面的字符必须是${string}字符串中开头的字符&nbsp; </code></div><div class="line number27 index26 alt2"><code class="bash plain">china IS niuBIlity2018</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string/%2018/2020}</code></div><div class="line number30 index29 alt1"><code class="bash plain">china IS niuBIlity2020</code></div><div class="line number31 index30 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string/%lity2018/hehehe}</code></div><div class="line number32 index31 alt1"><code class="bash plain">china IS niuBIhehehe</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">7）${!varprefix*} 和 ${!varprefix@}</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_77894" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># test="bobo"</code></div><div class="line number2 index1 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># test1="bobo1"&nbsp;&nbsp;&nbsp; </code></div><div class="line number3 index2 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># test2="bobo2"</code></div><div class="line number4 index3 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># test4="bobo4"</code></div><div class="line number5 index4 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${!test*}</code></div><div class="line number6 index5 alt1"><code class="bash functions">test</code> <code class="bash plain">test1 test2 test4</code></div><div class="line number7 index6 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${!test@}</code></div><div class="line number8 index7 alt1"><code class="bash functions">test</code> <code class="bash plain">test1 test2 test4</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">8）参数替换</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_692864" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">从string开头处删除子串：</code></div><div class="line number2 index1 alt1"><code class="bash plain">格式一：${string</code><code class="bash comments">#substring}&nbsp;&nbsp;&nbsp; 删除开头处与substring匹配的最短子串。</code></div><div class="line number3 index2 alt2"><code class="bash plain">格式二：${string</code><code class="bash comments">##substring}&nbsp;&nbsp; 删除开头处与substring匹配的最长子串。其中substring并非是正则表达式而是通配符。</code></div><div class="line number4 index3 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># string="china IS niuBIlity2018"</code></div><div class="line number5 index4 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string#c*i}&nbsp;&nbsp;&nbsp;&nbsp; #删除c开头到a的最短子串&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number6 index5 alt1"><code class="bash plain">na IS niuBIlity2018</code></div><div class="line number7 index6 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string##c*i}&nbsp;&nbsp;&nbsp; #删除c开头到a的最长子串</code></div><div class="line number8 index7 alt1"><code class="bash plain">ty2018</code></div><div class="line number9 index8 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string#c*n}</code></div><div class="line number10 index9 alt1"><code class="bash plain">a IS niuBIlity2018</code></div><div class="line number11 index10 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string##c*n}</code></div><div class="line number12 index11 alt1"><code class="bash plain">iuBIlity2018</code></div><div class="line number13 index12 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string#ch*n}&nbsp;&nbsp;&nbsp; #删除ch开头到a的最短子串&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number14 index13 alt1"><code class="bash plain">a IS niuBIlity2018</code></div><div class="line number15 index14 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string##ch*n}&nbsp;&nbsp; #删除ch开头到a的最长子串</code></div><div class="line number16 index15 alt1"><code class="bash plain">iuBIlity2018</code></div><div class="line number17 index16 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number18 index17 alt1"><code class="bash plain">上面</code><code class="bash comments">#或##后面的字符必须是${string}字符串的开头子串！否则删除子串就无效了！</code></div><div class="line number19 index18 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string#i*n}&nbsp;&nbsp;&nbsp; #i不是开头字符，所以删除无效</code></div><div class="line number20 index19 alt1"><code class="bash plain">china IS niuBIlity2018</code></div><div class="line number21 index20 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string##i*n}&nbsp;&nbsp; #i不是开头字符，所以删除无效</code></div><div class="line number22 index21 alt1"><code class="bash plain">china IS niuBIlity2018</code></div><div class="line number23 index22 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number24 index23 alt1"><code class="bash plain">另外：可以使用下面方式进行删除：</code></div><div class="line number25 index24 alt2"><code class="bash plain">${string</code><code class="bash comments">#*substring}&nbsp;&nbsp;&nbsp;&nbsp; 删除${string}字符串中第一个$substring及其之前的字符</code></div><div class="line number26 index25 alt1"><code class="bash plain">${string</code><code class="bash comments">##*substring}&nbsp;&nbsp;&nbsp; 删除${string}字符串中最后一个$substring及其之前的字符</code></div><div class="line number27 index26 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># string="china IS niuBIlity2018"</code></div><div class="line number28 index27 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string#*i}&nbsp;&nbsp;&nbsp; #删除第一个i及其之前的字符&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number29 index28 alt2"><code class="bash plain">na IS niuBIlity2018</code></div><div class="line number30 index29 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string##*i}&nbsp;&nbsp; #删除最后一个i及其之前的字符</code></div><div class="line number31 index30 alt2"><code class="bash plain">ty2018</code></div><div class="line number32 index31 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number33 index32 alt2"><code class="bash plain">也可以使用下面方法进行删除</code></div><div class="line number34 index33 alt1"><code class="bash plain">格式一：${string%substring*}&nbsp;&nbsp;&nbsp; 删除${string}字符串中最后一个$substring及其之后的字符</code></div><div class="line number35 index34 alt2"><code class="bash plain">格式二：${string%%substring*}&nbsp;&nbsp; 删除${string}字符串中第一个$substring及其之后的字符</code></div><div class="line number36 index35 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string}&nbsp;&nbsp; </code></div><div class="line number37 index36 alt2"><code class="bash plain">china IS niuBIlity2018</code></div><div class="line number38 index37 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string%i*}</code></div><div class="line number39 index38 alt2"><code class="bash plain">china IS niuBIl</code></div><div class="line number40 index39 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string%%i*}</code></div><div class="line number41 index40 alt2"><code class="bash plain">ch</code></div><div class="line number42 index41 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string%c*}</code></div><div class="line number43 index42 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number44 index43 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${string%%c*}</code></div><div class="line number45 index44 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number46 index45 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments">#</code></div><div class="line number47 index46 alt2">&nbsp;</div><div class="line number48 index47 alt1"><code class="bash plain">-------------------------------------------------------------------</code></div><div class="line number49 index48 alt2"><code class="bash plain">再看下面一例：</code></div><div class="line number50 index49 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># str=bo/www/kevin/data/test/ccd.log</code></div><div class="line number51 index50 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${str#*/*/}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number52 index51 alt1"><code class="bash plain">kevin</code><code class="bash plain">/data/test/ccd</code><code class="bash plain">.log</code></div><div class="line number53 index52 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${str##*/*/}</code></div><div class="line number54 index53 alt1"><code class="bash plain">ccd.log</code></div><div class="line number55 index54 alt2">&nbsp;</div><div class="line number56 index55 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${str%/*/*} </code></div><div class="line number57 index56 alt2"><code class="bash plain">bo</code><code class="bash plain">/www/kevin/data</code></div><div class="line number58 index57 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo ${str%%/*/*}</code></div><div class="line number59 index58 alt2"><code class="bash plain">bo</code></div><div class="line number60 index59 alt1">&nbsp;</div><div class="line number61 index60 alt2"><code class="bash plain">以上是以/*/作为匹配的字符串，即正则匹配的字符串。</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><span style="color: rgba(255, 102, 0, 1)"><strong>9）如何判断一个字符串是否由字母数字开头&nbsp;<span style="color: rgba(255, 0, 255, 1)">（grep）</span></strong></span></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_610497" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">1）判断一个字符串是否由大小写字母或数字开头（或结尾）</code></div><div class="line number2 index1 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number3 index2 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number4 index3 alt1"><code class="bash comments">#str="This IS a root USER, 20171aaabb"</code></div><div class="line number5 index4 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="bash functions">read</code> <code class="bash plain">-p </code><code class="bash string">"请输入内容:"</code> <code class="bash plain">str</code></div><div class="line number7 index6 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number8 index7 alt1"><code class="bash keyword">if</code> <code class="bash functions">echo</code> <code class="bash string">"${str}"</code> <code class="bash plain">| </code><code class="bash functions">grep</code> <code class="bash plain">-q </code><code class="bash string">'^[A-Za-z0-9].*\+$'</code><code class="bash plain">; </code><code class="bash keyword">then</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div class="line number9 index8 alt2"><code class="bash functions">echo</code> <code class="bash plain">-e </code><code class="bash string">"${str}\nok"</code></div><div class="line number10 index9 alt1"><code class="bash keyword">else</code></div><div class="line number11 index10 alt2"><code class="bash functions">echo</code> <code class="bash string">"invaliad"</code></div><div class="line number12 index11 alt1"><code class="bash keyword">fi</code></div><div class="line number13 index12 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number14 index13 alt1"><code class="bash plain">需要注意：</code></div><div class="line number15 index14 alt2"><code class="bash plain">脚本中的</code><code class="bash functions">echo</code><code class="bash plain">后面只需要添加-e参数，是为了让打印中的\n换行符生效！如果不加-e参数，则\n就被做当普通字符打印出来了！</code></div><div class="line number16 index15 alt1"><code class="bash functions">read</code> <code class="bash plain">-p 表示</code><code class="bash string">"指定要显示的提示"</code><code class="bash plain">。如果添加-s参数，即</code><code class="bash string">"read -sp"</code><code class="bash plain">，则表示</code><code class="bash string">"静默输入，即隐藏输入的数据，一般用于密码输入"</code></div><div class="line number17 index16 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number18 index17 alt1"><code class="bash plain">执行脚本：</code></div><div class="line number19 index18 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number20 index19 alt1"><code class="bash plain">请输入内容:TOOk213gg</code></div><div class="line number21 index20 alt2"><code class="bash plain">TOOk213gg</code></div><div class="line number22 index21 alt1"><code class="bash plain">ok</code></div><div class="line number23 index22 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number24 index23 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number25 index24 alt2"><code class="bash plain">请输入内容:@</code><code class="bash comments">#sadf123</code></div><div class="line number26 index25 alt1"><code class="bash plain">invaliad</code></div><div class="line number27 index26 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number28 index27 alt1"><code class="bash plain">[root@VM_16_9_centos ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number29 index28 alt2"><code class="bash plain">请输入内容:arTR213</code><code class="bash comments">#$1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number30 index29 alt1"><code class="bash plain">arTR213</code><code class="bash comments">#$1</code></div><div class="line number31 index30 alt2"><code class="bash plain">ok</code></div><div class="line number32 index31 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number33 index32 alt2"><code class="bash plain">==============================================================</code></div><div class="line number34 index33 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># read -p "输入你想要输入的内容:"</code></div><div class="line number35 index34 alt2"><code class="bash plain">输入你想要输入的内容:asdfsafsaf</code></div><div class="line number36 index35 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number37 index36 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># read -sp "输入你想要输入的内容:"&nbsp;&nbsp; #加了-s参数后，即为静默输入，隐藏输入的内容</code></div><div class="line number38 index37 alt1"><code class="bash plain">输入你想要输入的内容:</code></div><div class="line number39 index38 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments">#</code></div><div class="line number40 index39 alt1"><code class="bash plain">==============================================================</code></div><div class="line number41 index40 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number42 index41 alt1"><code class="bash plain">为了简化，还可以将上面脚本中的:</code></div><div class="line number43 index42 alt2"><code class="bash functions">grep</code> <code class="bash plain">-q </code><code class="bash string">'^[A-Za-z0-9].*\+$'</code></div><div class="line number44 index43 alt1"><code class="bash plain">改为</code></div><div class="line number45 index44 alt2"><code class="bash functions">grep</code> <code class="bash plain">-q </code><code class="bash string">'^[A-Za-z0-9].*'</code></div><div class="line number46 index45 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number47 index46 alt2"><code class="bash plain">--------------------------------------</code></div><div class="line number48 index47 alt1"><code class="bash plain">如果判断一个字符串是否由大小写字母或数字结尾!!!!!&nbsp; 则只需要将上面脚本中的：</code></div><div class="line number49 index48 alt2"><code class="bash functions">grep</code> <code class="bash plain">-q </code><code class="bash string">'^[A-Za-z0-9].*\+$'</code></div><div class="line number50 index49 alt1"><code class="bash plain">改为</code></div><div class="line number51 index50 alt2"><code class="bash functions">grep</code> <code class="bash plain">-q </code><code class="bash string">'.*[A-Za-z0-9]$'</code></div><div class="line number52 index51 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number53 index52 alt2"><code class="bash plain">==============================================================</code></div><div class="line number54 index53 alt1"><code class="bash plain">还要注意：</code></div><div class="line number55 index54 alt2"><code class="bash string">'^[A-Za-z0-9].*\+$'</code>&nbsp; <code class="bash plain">表示以大写字母或小写字母或数字为开头。没有顺序要求！！</code></div><div class="line number56 index55 alt1"><code class="bash string">'^[A-Za-z0-9].*'</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash plain">可以直接去掉后面的</code><code class="bash string">"\+$"</code><code class="bash plain">部分</code></div><div class="line number57 index56 alt2"><code class="bash string">'^[A-Z].*'</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash plain">表示以大写字母开头 </code></div><div class="line number58 index57 alt1"><code class="bash string">'^[a-z].*'</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash plain">表示以小写字母开头</code></div><div class="line number59 index58 alt2"><code class="bash string">'^[0-9].*'</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash plain">表示以数字字母开头</code></div><div class="line number60 index59 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number61 index60 alt2"><code class="bash plain">下面都是最常用的</code></div><div class="line number62 index61 alt1"><code class="bash functions">grep</code> <code class="bash plain">^[0-9]</code></div><div class="line number63 index62 alt2"><code class="bash functions">grep</code> <code class="bash string">"^[0-9]"</code></div><div class="line number64 index63 alt1"><code class="bash functions">grep</code> <code class="bash plain">^[a-z]</code></div><div class="line number65 index64 alt2"><code class="bash functions">grep</code> <code class="bash string">"^[a-z]"</code></div><div class="line number66 index65 alt1"><code class="bash functions">grep</code> <code class="bash plain">^[A-Z]</code></div><div class="line number67 index66 alt2"><code class="bash functions">grep</code> <code class="bash string">"^[A-Z]"</code></div><div class="line number68 index67 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number69 index68 alt2"><code class="bash functions">grep</code> <code class="bash plain">^[a-Z]</code></div><div class="line number70 index69 alt1"><code class="bash functions">grep</code> <code class="bash string">"^[a-Z]"</code></div><div class="line number71 index70 alt2">&nbsp;</div><div class="line number72 index71 alt1"><code class="bash functions">grep</code> <code class="bash plain">.*[0-9]$</code></div><div class="line number73 index72 alt2"><code class="bash functions">grep</code> <code class="bash string">".*[0-9]$"</code></div><div class="line number74 index73 alt1"><code class="bash functions">grep</code> <code class="bash string">".*[a-z]$"</code></div><div class="line number75 index74 alt2"><code class="bash functions">grep</code> <code class="bash string">".*[a-z]$"</code></div><div class="line number76 index75 alt1"><code class="bash functions">grep</code> <code class="bash string">".*[A-Z]$"</code></div><div class="line number77 index76 alt2"><code class="bash functions">grep</code> <code class="bash string">".*[A-Z]$"</code></div><div class="line number78 index77 alt1">&nbsp;</div><div class="line number79 index78 alt2"><code class="bash functions">grep</code> <code class="bash plain">.*[a-Z]$</code></div><div class="line number80 index79 alt1"><code class="bash functions">grep</code> <code class="bash string">".*[a-Z]$"</code></div><div class="line number81 index80 alt2">&nbsp;</div><div class="line number82 index81 alt1"><code class="bash functions">grep</code> <code class="bash plain">[0-9]G</code></div><div class="line number83 index82 alt2"><code class="bash functions">grep</code> <code class="bash plain">[a-z]2018_data</code></div><div class="line number84 index83 alt1">&nbsp;</div><div class="line number85 index84 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat a.txt</code></div><div class="line number86 index85 alt1"><code class="bash plain">Good study 2018! hahahah~</code></div><div class="line number87 index86 alt2"><code class="bash plain">good Study 2018hehehehe</code></div><div class="line number88 index87 alt1"><code class="bash plain">2018 Good study 1wqe</code></div><div class="line number89 index88 alt2"><code class="bash plain">2018stuDY is heht6ttt</code></div><div class="line number90 index89 alt1"><code class="bash plain">!@</code><code class="bash comments">#asdf</code></div><div class="line number91 index90 alt2"><code class="bash plain">TOOk213gg asdfasdf</code></div><div class="line number92 index91 alt1"><code class="bash plain">anhui 2018asdfjlsadfdsaff</code></div><div class="line number93 index92 alt2"><code class="bash comments">#$$$$$</code></div><div class="line number94 index93 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number95 index94 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat a.txt|grep '^[A-Z].*\+$'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number96 index95 alt1"><code class="bash plain">Good study 2018! hahahah~</code></div><div class="line number97 index96 alt2"><code class="bash plain">TOOk213gg asdfasdf</code></div><div class="line number98 index97 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number99 index98 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat a.txt|grep '^[a-z].*\+$'&nbsp;&nbsp; </code></div><div class="line number100 index99 alt1"><code class="bash plain">good Study 2018hehehehe</code></div><div class="line number101 index100 alt2"><code class="bash plain">anhui 2018asdfjlsadfdsaff</code></div><div class="line number102 index101 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number103 index102 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat a.txt|grep '^[0-9].*\+$'&nbsp;&nbsp; </code></div><div class="line number104 index103 alt1"><code class="bash plain">2018 Good study 1wqe</code></div><div class="line number105 index104 alt2"><code class="bash plain">2018stuDY is heht6ttt</code></div><div class="line number106 index105 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number107 index106 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat a.txt|grep '^[A-Za-z0-9].*\+$'&nbsp;&nbsp; </code></div><div class="line number108 index107 alt1"><code class="bash plain">Good study 2018! hahahah~</code></div><div class="line number109 index108 alt2"><code class="bash plain">good Study 2018hehehehe</code></div><div class="line number110 index109 alt1"><code class="bash plain">2018 Good study 1wqe</code></div><div class="line number111 index110 alt2"><code class="bash plain">2018stuDY is heht6ttt</code></div><div class="line number112 index111 alt1"><code class="bash plain">TOOk213gg asdfasdf</code></div><div class="line number113 index112 alt2"><code class="bash plain">anhui 2018asdfjlsadfdsaff</code></div><div class="line number114 index113 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number115 index114 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat a.txt|grep -v '^[A-Za-z0-9].*\+$'</code></div><div class="line number116 index115 alt1"><code class="bash plain">!@</code><code class="bash comments">#asdf</code></div><div class="line number117 index116 alt2"><code class="bash comments">#$$$$$</code></div><div class="line number118 index117 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number119 index118 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat a.txt|grep -v '^[A-Z].*\+$'|grep -v '^[a-z].*\+$'|grep -v '^[0-9].*\+$'&nbsp;&nbsp; </code></div><div class="line number120 index119 alt1"><code class="bash plain">!@</code><code class="bash comments">#asdf</code></div><div class="line number121 index120 alt2"><code class="bash comments">#$$$$$</code></div><div class="line number122 index121 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number123 index122 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat a.txt |grep -v ^[a-Z]</code></div><div class="line number124 index123 alt1"><code class="bash plain">2018 Good study 1wqe</code></div><div class="line number125 index124 alt2"><code class="bash plain">2018stuDY is heht6ttt</code></div><div class="line number126 index125 alt1"><code class="bash plain">!@</code><code class="bash comments">#asdf</code></div><div class="line number127 index126 alt2"><code class="bash comments">#$$$$$</code></div><div class="line number128 index127 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number129 index128 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat a.txt |grep -v ^[a-Z]|grep -v [0-9]</code></div><div class="line number130 index129 alt1"><code class="bash plain">!@</code><code class="bash comments">#asdf</code></div><div class="line number131 index130 alt2"><code class="bash comments">#$$$$$</code></div><div class="line number132 index131 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number133 index132 alt2"><code class="bash functions">grep</code><code class="bash plain">获取多个条件（</code><code class="bash functions">grep</code> <code class="bash plain">-E </code><code class="bash string">"条件1|条件2|条件3"</code><code class="bash plain">）</code></div><div class="line number134 index133 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat a.txt |grep -E "^[a-z]|^[0-9]"</code></div><div class="line number135 index134 alt2"><code class="bash plain">good Study 2018hehehehe</code></div><div class="line number136 index135 alt1"><code class="bash plain">2018 Good study 1wqe</code></div><div class="line number137 index136 alt2"><code class="bash plain">2018stuDY is heht6ttt</code></div><div class="line number138 index137 alt1"><code class="bash plain">anhui 2018asdfjlsadfdsaff</code></div><div class="line number139 index138 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number140 index139 alt1"><code class="bash functions">grep</code><code class="bash plain">过滤多个条件（</code><code class="bash functions">grep</code> <code class="bash plain">-</code><code class="bash functions">v</code> <code class="bash string">"条件1\|条件2\|条件3"</code><code class="bash plain">），注意</code><code class="bash string">""</code><code class="bash plain">里面有转义符"\"</code></div><div class="line number141 index140 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat a.txt |grep -v "^[a-z]\|^[0-9]"</code></div><div class="line number142 index141 alt1"><code class="bash plain">Good study 2018! hahahah~</code></div><div class="line number143 index142 alt2"><code class="bash plain">!@</code><code class="bash comments">#asdf</code></div><div class="line number144 index143 alt1"><code class="bash plain">TOOk213gg asdfasdf</code></div><div class="line number145 index144 alt2"><code class="bash comments">#$$$$$</code></div><div class="line number146 index145 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number147 index146 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat a.txt |grep -v "[a-z]\|^[0-9]"</code></div><div class="line number148 index147 alt1"><code class="bash comments">#$$$$$</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">10）删除字符串中指定字符（<span style="color: rgba(255, 0, 255, 1)">tr</span>命令、sed命令）</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_908863" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div><div class="line number169 index168 alt2">169</div><div class="line number170 index169 alt1">170</div><div class="line number171 index170 alt2">171</div><div class="line number172 index171 alt1">172</div><div class="line number173 index172 alt2">173</div><div class="line number174 index173 alt1">174</div><div class="line number175 index174 alt2">175</div><div class="line number176 index175 alt1">176</div><div class="line number177 index176 alt2">177</div><div class="line number178 index177 alt1">178</div><div class="line number179 index178 alt2">179</div><div class="line number180 index179 alt1">180</div><div class="line number181 index180 alt2">181</div><div class="line number182 index181 alt1">182</div><div class="line number183 index182 alt2">183</div><div class="line number184 index183 alt1">184</div><div class="line number185 index184 alt2">185</div><div class="line number186 index185 alt1">186</div><div class="line number187 index186 alt2">187</div><div class="line number188 index187 alt1">188</div><div class="line number189 index188 alt2">189</div><div class="line number190 index189 alt1">190</div><div class="line number191 index190 alt2">191</div><div class="line number192 index191 alt1">192</div><div class="line number193 index192 alt2">193</div><div class="line number194 index193 alt1">194</div><div class="line number195 index194 alt2">195</div><div class="line number196 index195 alt1">196</div><div class="line number197 index196 alt2">197</div><div class="line number198 index197 alt1">198</div><div class="line number199 index198 alt2">199</div><div class="line number200 index199 alt1">200</div><div class="line number201 index200 alt2">201</div><div class="line number202 index201 alt1">202</div><div class="line number203 index202 alt2">203</div><div class="line number204 index203 alt1">204</div><div class="line number205 index204 alt2">205</div><div class="line number206 index205 alt1">206</div><div class="line number207 index206 alt2">207</div><div class="line number208 index207 alt1">208</div><div class="line number209 index208 alt2">209</div><div class="line number210 index209 alt1">210</div><div class="line number211 index210 alt2">211</div><div class="line number212 index211 alt1">212</div><div class="line number213 index212 alt2">213</div><div class="line number214 index213 alt1">214</div><div class="line number215 index214 alt2">215</div><div class="line number216 index215 alt1">216</div><div class="line number217 index216 alt2">217</div><div class="line number218 index217 alt1">218</div><div class="line number219 index218 alt2">219</div><div class="line number220 index219 alt1">220</div><div class="line number221 index220 alt2">221</div><div class="line number222 index221 alt1">222</div><div class="line number223 index222 alt2">223</div><div class="line number224 index223 alt1">224</div><div class="line number225 index224 alt2">225</div><div class="line number226 index225 alt1">226</div><div class="line number227 index226 alt2">227</div><div class="line number228 index227 alt1">228</div><div class="line number229 index228 alt2">229</div><div class="line number230 index229 alt1">230</div><div class="line number231 index230 alt2">231</div><div class="line number232 index231 alt1">232</div><div class="line number233 index232 alt2">233</div><div class="line number234 index233 alt1">234</div><div class="line number235 index234 alt2">235</div><div class="line number236 index235 alt1">236</div><div class="line number237 index236 alt2">237</div><div class="line number238 index237 alt1">238</div><div class="line number239 index238 alt2">239</div><div class="line number240 index239 alt1">240</div><div class="line number241 index240 alt2">241</div><div class="line number242 index241 alt1">242</div><div class="line number243 index242 alt2">243</div><div class="line number244 index243 alt1">244</div><div class="line number245 index244 alt2">245</div><div class="line number246 index245 alt1">246</div><div class="line number247 index246 alt2">247</div><div class="line number248 index247 alt1">248</div><div class="line number249 index248 alt2">249</div><div class="line number250 index249 alt1">250</div><div class="line number251 index250 alt2">251</div><div class="line number252 index251 alt1">252</div><div class="line number253 index252 alt2">253</div><div class="line number254 index253 alt1">254</div><div class="line number255 index254 alt2">255</div><div class="line number256 index255 alt1">256</div><div class="line number257 index256 alt2">257</div><div class="line number258 index257 alt1">258</div><div class="line number259 index258 alt2">259</div><div class="line number260 index259 alt1">260</div><div class="line number261 index260 alt2">261</div><div class="line number262 index261 alt1">262</div><div class="line number263 index262 alt2">263</div><div class="line number264 index263 alt1">264</div><div class="line number265 index264 alt2">265</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">一、使用</code><code class="bash functions">sed</code><code class="bash plain">将字符串中指定的字符删除</code></div><div class="line number2 index1 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "2018-10-08 15:19:05"|sed 's/-//g'|sed 's#:##g'</code></div><div class="line number3 index2 alt2"><code class="bash plain">20181008 151905</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="bash plain">删除字符串中的特殊字符</code></div><div class="line number6 index5 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.sh </code></div><div class="line number7 index6 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number8 index7 alt1"><code class="bash plain">str=</code><code class="bash string">"root!@#QWE123"</code></div><div class="line number9 index8 alt2"><code class="bash functions">echo</code> <code class="bash plain">${str}| </code><code class="bash functions">sed</code> <code class="bash string">'s/\!//g'</code> <code class="bash plain">| </code><code class="bash functions">sed</code> <code class="bash string">'s/\@//g'</code> <code class="bash plain">| </code><code class="bash functions">sed</code> <code class="bash string">'s/\#//g'</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number12 index11 alt1"><code class="bash plain">rootQWE123</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="bash plain">还可以使用</code><code class="bash functions">tr</code> <code class="bash plain">-d命令进行删除：</code></div><div class="line number15 index14 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number16 index15 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number17 index16 alt2"><code class="bash plain">str=</code><code class="bash string">"root!@#QWE123"</code></div><div class="line number18 index17 alt1"><code class="bash functions">echo</code> <code class="bash plain">${str}| </code><code class="bash functions">tr</code> <code class="bash plain">-d </code><code class="bash string">"!"</code> <code class="bash plain">| </code><code class="bash functions">tr</code> <code class="bash plain">-d </code><code class="bash string">"@"</code> <code class="bash plain">| </code><code class="bash functions">tr</code> <code class="bash plain">-d </code><code class="bash string">"#"</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number21 index20 alt2"><code class="bash plain">rootQWE123</code></div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="bash plain">-------------------------------------------------------------------------------</code></div><div class="line number24 index23 alt1"><code class="bash plain">另外：</code><code class="bash functions">sed</code><code class="bash plain">也支持正则</code></div><div class="line number25 index24 alt2"><code class="bash functions">sed</code> <code class="bash plain">-n </code><code class="bash string">'/[0-9]/p'</code> <code class="bash plain">filename&nbsp;&nbsp; 将文件中匹配数字的行打印出来</code></div><div class="line number26 index25 alt1"><code class="bash functions">sed</code> <code class="bash plain">-n </code><code class="bash string">'/[a-z]/p'</code> <code class="bash plain">filename&nbsp;&nbsp; 将文件中匹配小写字母的行打印出来</code></div><div class="line number27 index26 alt2"><code class="bash functions">sed</code> <code class="bash plain">-n </code><code class="bash string">'/[A-Z]/p'</code> <code class="bash plain">filename&nbsp;&nbsp; 将文件中匹配大写字母的行打印出来</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="bash functions">sed</code> <code class="bash plain">-i </code><code class="bash string">'/[0-9]/d'</code> <code class="bash plain">filename&nbsp;&nbsp; 将文件中匹配数字的行删除</code></div><div class="line number30 index29 alt1"><code class="bash functions">sed</code> <code class="bash plain">-n </code><code class="bash string">'/[a-z]/d'</code> <code class="bash plain">filename&nbsp;&nbsp; 将文件中匹配小写字母的行删除</code></div><div class="line number31 index30 alt2"><code class="bash functions">sed</code> <code class="bash plain">-n </code><code class="bash string">'/[A-Z]/d'</code> <code class="bash plain">filename&nbsp;&nbsp; 将文件中匹配大写字母的行删除</code></div><div class="line number32 index31 alt1">&nbsp;</div><div class="line number33 index32 alt2"><code class="bash functions">sed</code> <code class="bash plain">-i </code><code class="bash string">'/[0-9]/s/root/huoqiu/g'</code> <code class="bash plain">filename&nbsp;&nbsp; 将文件中匹配数字的行里的root替换为huoqiu</code></div><div class="line number34 index33 alt1"><code class="bash functions">sed</code> <code class="bash plain">-i </code><code class="bash string">'/[a-z]/s/root/huoqiu/g'</code> <code class="bash plain">filename&nbsp;&nbsp; 将文件中匹配小写字母的行里的root替换为huoqiu</code></div><div class="line number35 index34 alt2"><code class="bash functions">sed</code> <code class="bash plain">-i </code><code class="bash string">'/[A-Z]/s/root/huoqiu/g'</code> <code class="bash plain">filename&nbsp;&nbsp; 将文件中匹配大写字母的行里的root替换为huoqiu</code></div><div class="line number36 index35 alt1">&nbsp;</div><div class="line number37 index36 alt2"><code class="bash plain">===============================================================================================</code></div><div class="line number38 index37 alt1"><code class="bash plain">二、使用</code><code class="bash functions">tr</code><code class="bash plain">命令删除字符串中指定字符。</code><code class="bash functions">tr</code><code class="bash plain">使用-d参数可以起到删除字符的效果。支持正则表达式</code></div><div class="line number39 index38 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "huoqiu123GOOD"|tr -d "a-z"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #删除字符串中的小写字母</code></div><div class="line number40 index39 alt1"><code class="bash plain">123GOOD</code></div><div class="line number41 index40 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "huoqiu123GOOD"|tr -d "a-zA-Z"&nbsp;&nbsp;&nbsp;&nbsp; #删除字符串中的大写字母</code></div><div class="line number42 index41 alt1"><code class="bash plain">123</code></div><div class="line number43 index42 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "huoqiu123GOOD"|tr -d "0-9"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #删除字符串中的数字</code></div><div class="line number44 index43 alt1"><code class="bash plain">huoqiuGOOD</code></div><div class="line number45 index44 alt2">&nbsp;</div><div class="line number46 index45 alt1"><code class="bash plain">删除字符串中指定的部分字符</code></div><div class="line number47 index46 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "huoqiu123GOOD"|tr -d "k"|tr -d "G"</code></div><div class="line number48 index47 alt1"><code class="bash plain">evin123OOD</code></div><div class="line number49 index48 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "huoqiu123GOOD"|tr -d "123"</code></div><div class="line number50 index49 alt1"><code class="bash plain">huoqiuGOOD</code></div><div class="line number51 index50 alt2">&nbsp;</div><div class="line number52 index51 alt1"><code class="bash plain">截取字符串中的特殊字符</code></div><div class="line number53 index52 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number54 index53 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number55 index54 alt2"><code class="bash plain">str=</code><code class="bash string">"root!@#QWE123"</code></div><div class="line number56 index55 alt1"><code class="bash functions">echo</code> <code class="bash plain">${str}| </code><code class="bash functions">tr</code> <code class="bash plain">-d </code><code class="bash string">"a-z"</code><code class="bash plain">| </code><code class="bash functions">tr</code> <code class="bash plain">-d </code><code class="bash string">"A-Z"</code><code class="bash plain">| </code><code class="bash functions">tr</code> <code class="bash plain">-d </code><code class="bash string">"0-9"</code></div><div class="line number57 index56 alt2">&nbsp;</div><div class="line number58 index57 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number59 index58 alt2"><code class="bash plain">!@</code><code class="bash comments">#</code></div><div class="line number60 index59 alt1">&nbsp;</div><div class="line number61 index60 alt2"><code class="bash plain">3）这里简单介绍下</code><code class="bash functions">tr</code><code class="bash plain">命令的日常用法</code></div><div class="line number62 index61 alt1"><code class="bash functions">tr</code><code class="bash plain">命令可以对来自标准输入的字符进行替换、压缩和删除。它可以将一组字符变成另一组字符，经常用来编写优美的单行命令，作用很强大。</code></div><div class="line number63 index62 alt2">&nbsp;</div><div class="line number64 index63 alt1"><code class="bash plain">语法</code></div><div class="line number65 index64 alt2"><code class="bash comments"># tr (选项) (参数)</code></div><div class="line number66 index65 alt1">&nbsp;</div><div class="line number67 index66 alt2"><code class="bash plain">选项</code></div><div class="line number68 index67 alt1"><code class="bash plain">-c或——complerment：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 用字符集1中的字符串替换，要求字符集为ASCII。</code></div><div class="line number69 index68 alt2"><code class="bash plain">-d或——delete：&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 删除所有属于字符集1的字符；</code></div><div class="line number70 index69 alt1"><code class="bash plain">-s或--squeeze-repeats：&nbsp; 把连续重复的字符以单独一个字符表示。即压缩字符，但是必须是连续重复的单个字符！</code></div><div class="line number71 index70 alt2"><code class="bash plain">-t或--truncate-set1：&nbsp;&nbsp;&nbsp; 先删除字符集1较字符集2多出的字符。</code></div><div class="line number72 index71 alt1">&nbsp;</div><div class="line number73 index72 alt2"><code class="bash plain">参数</code></div><div class="line number74 index73 alt1"><code class="bash plain">字符集1：指定要转换或删除的原字符集。当执行转换操作时，必须使用参数“字符集2”指定转换的目标字符集。但执行删除操作时，不需要参数“字符集2”；</code></div><div class="line number75 index74 alt2"><code class="bash plain">字符集2：指定要转换成的目标字符集。</code></div><div class="line number76 index75 alt1">&nbsp;</div><div class="line number77 index76 alt2"><code class="bash functions">tr</code><code class="bash plain">用来从标准输入中通过替换或删除操作进行字符转换。</code></div><div class="line number78 index77 alt1"><code class="bash functions">tr</code><code class="bash plain">主要用于删除文件中控制字符或进行字符转换。</code></div><div class="line number79 index78 alt2"><code class="bash plain">使用</code><code class="bash functions">tr</code><code class="bash plain">时要转换两个字符串：字符串1用于查询，字符串2用于处理各种转换。</code></div><div class="line number80 index79 alt1"><code class="bash functions">tr</code><code class="bash plain">刚执行时，字符串1中的字符被映射到字符串2中的字符，然后转换操作开始。</code></div><div class="line number81 index80 alt2">&nbsp;</div><div class="line number82 index81 alt1"><code class="bash plain">通过使用</code><code class="bash functions">tr</code><code class="bash plain">可以非常容易地实现</code><code class="bash functions">sed</code><code class="bash plain">的许多最基本功能，可以将</code><code class="bash functions">tr</code><code class="bash plain">看作为</code><code class="bash functions">sed</code><code class="bash plain">的（极其）简化的变体。</code></div><div class="line number83 index82 alt2"><code class="bash plain">它可以用一个字符来替换另一个字符，或者可以完全除去一些字符。您也可以用它来除去重复字符。这就是所有 </code><code class="bash functions">tr</code> <code class="bash plain">所能够做的。</code></div><div class="line number84 index83 alt1">&nbsp;</div><div class="line number85 index84 alt2"><code class="bash plain">看看下面示例：</code></div><div class="line number86 index85 alt1"><code class="bash plain">1）</code><code class="bash functions">tr</code><code class="bash plain">的替换命令</code></div><div class="line number87 index86 alt2"><code class="bash plain">将输入字符由小写转换为大写：</code></div><div class="line number88 index87 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "anhui@root"|tr "a-z" "A-Z"</code></div><div class="line number89 index88 alt2"><code class="bash plain">ANHUI@ROOT</code></div><div class="line number90 index89 alt1">&nbsp;</div><div class="line number91 index90 alt2"><code class="bash plain">将输入字符由大写转换为小写：</code></div><div class="line number92 index91 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "ANhui@ROOT"|tr "A-Z" "a-z"</code></div><div class="line number93 index92 alt2"><code class="bash plain">anhui@root</code></div><div class="line number94 index93 alt1">&nbsp;</div><div class="line number95 index94 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "172.16.60.34 data-node01"|tr "." "_"</code></div><div class="line number96 index95 alt1"><code class="bash plain">172_16_60_34 data-node01</code></div><div class="line number97 index96 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "root \n 213"| tr " " "#"</code></div><div class="line number98 index97 alt1"><code class="bash plain">root</code><code class="bash comments">#\n#213</code></div><div class="line number99 index98 alt2">&nbsp;</div><div class="line number100 index99 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "123456@abc"|tr "0-9" "#"</code></div><div class="line number101 index100 alt2"><code class="bash comments">######@abc</code></div><div class="line number102 index101 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "123456@abc"|tr "123" "pas"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; # 替换两个字符集的时候，分别是一个字符对应一个字符的关系</code></div><div class="line number103 index102 alt2"><code class="bash plain">pas456@abc</code></div><div class="line number104 index103 alt1">&nbsp;</div><div class="line number105 index104 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "123456@abc"|tr "123" "password"&nbsp; # 当字符集1的字符数少于字符集2的字符数时，就取字符集2的前面对应数目的字符进行替换</code></div><div class="line number106 index105 alt1"><code class="bash plain">pas456@abc</code></div><div class="line number107 index106 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "123456@abc"|tr "1234" "password"</code></div><div class="line number108 index107 alt1"><code class="bash plain">pass56@abc</code></div><div class="line number109 index108 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "123456@abc"|tr "12345" "password"</code></div><div class="line number110 index109 alt1"><code class="bash plain">passw6@abc</code></div><div class="line number111 index110 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "123456@abc"|tr "123456" "password"</code></div><div class="line number112 index111 alt1"><code class="bash plain">passwo@abc</code></div><div class="line number113 index112 alt2">&nbsp;</div><div class="line number114 index113 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments">#
 echo "123456@abc"|tr "123456" "T"&nbsp;&nbsp;&nbsp;&nbsp; 
#当字符集1的字符数多于字符集2的字符数时，先进行两个字符集对应数目字符的替换，剩下多余的字符集1字符就使用字符集2的最后一个字符进行重复替换</code></div><div class="line number115 index114 alt2"><code class="bash plain">TTTTTT@abc</code></div><div class="line number116 index115 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "123456@abc"|tr "123456" "TM"</code></div><div class="line number117 index116 alt2"><code class="bash plain">TMMMMM@abc</code></div><div class="line number118 index117 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "123456@abc"|tr "123456" "TMC"</code></div><div class="line number119 index118 alt2"><code class="bash plain">TMCCCC@abc</code></div><div class="line number120 index119 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "123456@abc"|tr "123456" "TMCH"</code></div><div class="line number121 index120 alt2"><code class="bash plain">TMCHHH@abc</code></div><div class="line number122 index121 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "123456@abc"|tr "123456" "TMCHR"</code></div><div class="line number123 index122 alt2"><code class="bash plain">TMCHRR@abc</code></div><div class="line number124 index123 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "123456@abc"|tr "123456" "TMCHRY"</code></div><div class="line number125 index124 alt2"><code class="bash plain">TMCHRY@abc</code></div><div class="line number126 index125 alt1">&nbsp;</div><div class="line number127 index126 alt2"><code class="bash plain">需要注意：</code></div><div class="line number128 index127 alt1"><code class="bash string">'A-Z'</code> <code class="bash plain">和 </code><code class="bash string">'a-z'</code><code class="bash plain">都是集合，集合是可以自己制定的，例如：</code><code class="bash string">'ABD-}'</code><code class="bash plain">、</code><code class="bash string">'bB.,'</code><code class="bash plain">、</code><code class="bash string">'a-de-h'</code><code class="bash plain">、</code><code class="bash string">'a-c0-9'</code><code class="bash plain">都属于集合，集合里可以使用</code><code class="bash string">'\n'</code><code class="bash plain">、</code><code class="bash string">'\t'</code><code class="bash plain">，可以可以使用其他ASCII字符。</code></div><div class="line number129 index128 alt2"><code class="bash plain">替换两个字符集的时候，分别是一个字符对应一个字符的关系</code></div><div class="line number130 index129 alt1"><code class="bash plain">当字符集1的字符数少于字符集2的字符数时，就取字符集2的前面对应数目的字符进行替换</code></div><div class="line number131 index130 alt2"><code class="bash plain">当字符集1的字符数多于字符集2的字符数时，先进行两个字符集对应数目字符的替换，剩下多余的字符集1字符就使用字符集2的最后一个字符进行重复替换</code></div><div class="line number132 index131 alt1">&nbsp;</div><div class="line number133 index132 alt2"><code class="bash plain">另外：</code><code class="bash string">"O*n"</code> <code class="bash plain">表示字符O重复出现指定次数n。因此</code><code class="bash string">"O*2"</code><code class="bash plain">匹配OO的字符串！！！！</code></div><div class="line number134 index133 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "aaa123"|tr "a*3" "w"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #将a和3都替换为了w</code></div><div class="line number135 index134 alt2"><code class="bash plain">www12w</code></div><div class="line number136 index135 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "aaa123"|tr "a*3" "xy"&nbsp;&nbsp;&nbsp;&nbsp; #将a替换为了x，3替换为了y</code></div><div class="line number137 index136 alt2"><code class="bash plain">xxx12y</code></div><div class="line number138 index137 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "aaa123"|tr "a3" "xy" </code></div><div class="line number139 index138 alt2"><code class="bash plain">xxx12y</code></div><div class="line number140 index139 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "aaaaaaaa123"|tr "a*3" "xyz"</code></div><div class="line number141 index140 alt2"><code class="bash plain">xxxxxxxx12z</code></div><div class="line number142 index141 alt1">&nbsp;</div><div class="line number143 index142 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "aaa123"|tr "aaa" "w"&nbsp;&nbsp;&nbsp;&nbsp; #匹配字符集1中最后一个字符对应字符集2中的那个字符</code></div><div class="line number144 index143 alt1"><code class="bash plain">www123</code></div><div class="line number145 index144 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "aaa123"|tr "aaa" "wx"&nbsp; </code></div><div class="line number146 index145 alt1"><code class="bash plain">xxx123</code></div><div class="line number147 index146 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "aaa123"|tr "aaa" "wxy" </code></div><div class="line number148 index147 alt1"><code class="bash plain">yyy123</code></div><div class="line number149 index148 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "aaa123"|tr "aaa" "wxym"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number150 index149 alt1"><code class="bash plain">yyy123</code></div><div class="line number151 index150 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "aaa123"|tr "aaa" "wxymn" </code></div><div class="line number152 index151 alt1"><code class="bash plain">yyy123</code></div><div class="line number153 index152 alt2">&nbsp;</div><div class="line number154 index153 alt1"><code class="bash plain">2）</code><code class="bash functions">tr</code><code class="bash plain">的删除命令 （上面案例已经说明）</code></div><div class="line number155 index154 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "hello 123 world 456" | tr -d '0-9'</code></div><div class="line number156 index155 alt1"><code class="bash plain">hello&nbsp; world </code></div><div class="line number157 index156 alt2">&nbsp;</div><div class="line number158 index157 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test</code></div><div class="line number159 index158 alt2"><code class="bash plain">beijing</code></div><div class="line number160 index159 alt1"><code class="bash plain">shanghai</code></div><div class="line number161 index160 alt2"><code class="bash plain">abcde</code></div><div class="line number162 index161 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test|tr -d "abcji"&nbsp;&nbsp;&nbsp; #即凡是test文件中出现的a,b,c,j,i都会被删除</code></div><div class="line number163 index162 alt2"><code class="bash plain">eng</code></div><div class="line number164 index163 alt1"><code class="bash plain">shngh</code></div><div class="line number165 index164 alt2"><code class="bash plain">de</code></div><div class="line number166 index165 alt1">&nbsp;</div><div class="line number167 index166 alt2"><code class="bash plain">3）用</code><code class="bash functions">tr</code><code class="bash plain">压缩字符，可以压缩输入中重复的字符。但是注意：必须是连续重复的单个字符！！</code></div><div class="line number168 index167 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "thissss is&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a text linnnnnnne." | tr -s ' sn'</code></div><div class="line number169 index168 alt2"><code class="bash plain">this is a text line.</code></div><div class="line number170 index169 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "123123123"|tr -s "123"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number171 index170 alt2"><code class="bash plain">123123123</code></div><div class="line number172 index171 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "123333344444"|tr -s "3"|tr -s "4"</code></div><div class="line number173 index172 alt2"><code class="bash plain">1234</code></div><div class="line number174 index173 alt1">&nbsp;</div><div class="line number175 index174 alt2"><code class="bash plain">4）巧妙使用</code><code class="bash functions">tr</code><code class="bash plain">命令进行数字相加操作：</code></div><div class="line number176 index175 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo 1 2 3 4 5 6 7 8 9 | xargs -n1 | echo $[ $(tr '\n' '+') 0 ]</code></div><div class="line number177 index176 alt2"><code class="bash plain">45</code></div><div class="line number178 index177 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "10 11 12 13 14"|xargs -n1|echo $[ $(tr '\n' '+') 0 ]&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number179 index178 alt2"><code class="bash plain">60</code></div><div class="line number180 index179 alt1">&nbsp;</div><div class="line number181 index180 alt2"><code class="bash plain">--------------------------------------------------------------------------------------</code></div><div class="line number182 index181 alt1"><code class="bash plain">&lt;&lt;&lt;&lt;&lt;&nbsp;&nbsp; </code><code class="bash string">"xargs -n[数字]"</code><code class="bash plain">用法&nbsp; &gt;&gt;&gt;&gt;&gt;</code></div><div class="line number183 index182 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "aa bb cc 1 2 3"|xargs</code></div><div class="line number184 index183 alt1"><code class="bash plain">aa bb cc 1 2 3</code></div><div class="line number185 index184 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "aa bb cc 1 2 3"|xargs -n1</code></div><div class="line number186 index185 alt1"><code class="bash plain">aa</code></div><div class="line number187 index186 alt2"><code class="bash plain">bb</code></div><div class="line number188 index187 alt1"><code class="bash plain">cc</code></div><div class="line number189 index188 alt2"><code class="bash plain">1</code></div><div class="line number190 index189 alt1"><code class="bash plain">2</code></div><div class="line number191 index190 alt2"><code class="bash plain">3</code></div><div class="line number192 index191 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "aa bb cc 1 2 3"|xargs -n2</code></div><div class="line number193 index192 alt2"><code class="bash plain">aa bb</code></div><div class="line number194 index193 alt1"><code class="bash plain">cc 1</code></div><div class="line number195 index194 alt2"><code class="bash plain">2 3</code></div><div class="line number196 index195 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "aa bb cc 1 2 3"|xargs -n3</code></div><div class="line number197 index196 alt2"><code class="bash plain">aa bb cc</code></div><div class="line number198 index197 alt1"><code class="bash plain">1 2 3</code></div><div class="line number199 index198 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "aa bb cc 1 2 3"|xargs -n4</code></div><div class="line number200 index199 alt1"><code class="bash plain">aa bb cc 1</code></div><div class="line number201 index200 alt2"><code class="bash plain">2 3</code></div><div class="line number202 index201 alt1"><code class="bash plain">--------------------------------------------------------------------------------------</code></div><div class="line number203 index202 alt2">&nbsp;</div><div class="line number204 index203 alt1"><code class="bash plain">5）把文件中的数字0-9替换为a-j （都是10个字符，一一对应）</code></div><div class="line number205 index204 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat filename |tr [0-9] [a-j]</code></div><div class="line number206 index205 alt1">&nbsp;</div><div class="line number207 index206 alt2"><code class="bash plain">6）删除文件</code><code class="bash functions">file</code><code class="bash plain">中出现的换行</code><code class="bash string">'\n'</code><code class="bash plain">、制表</code><code class="bash string">'\t'</code><code class="bash plain">字符 </code></div><div class="line number208 index207 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat filename | tr -d "\n\t"</code></div><div class="line number209 index208 alt2">&nbsp;</div><div class="line number210 index209 alt1"><code class="bash plain">删除换行符等</code></div><div class="line number211 index210 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo -e "asdf\n123"|tr -d "\n"</code></div><div class="line number212 index211 alt1"><code class="bash plain">asdf123</code></div><div class="line number213 index212 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo -e "asdf\n\r\t123"|tr -d "\n\r\t"</code></div><div class="line number214 index213 alt1"><code class="bash plain">asdf123</code></div><div class="line number215 index214 alt2">&nbsp;</div><div class="line number216 index215 alt1"><code class="bash plain">7）删除空行</code></div><div class="line number217 index216 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat file | tr -s "\n" &gt; new_file</code></div><div class="line number218 index217 alt1">&nbsp;</div><div class="line number219 index218 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test</code></div><div class="line number220 index219 alt1"><code class="bash plain">beijing</code></div><div class="line number221 index220 alt2"><code class="bash plain">shanghai</code></div><div class="line number222 index221 alt1">&nbsp;</div><div class="line number223 index222 alt2"><code class="bash plain">abcde</code></div><div class="line number224 index223 alt1">&nbsp;</div><div class="line number225 index224 alt2">&nbsp;</div><div class="line number226 index225 alt1"><code class="bash plain">123123</code></div><div class="line number227 index226 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test| tr -s "\n"&nbsp;&nbsp;&nbsp; </code></div><div class="line number228 index227 alt1"><code class="bash plain">beijing</code></div><div class="line number229 index228 alt2"><code class="bash plain">shanghai</code></div><div class="line number230 index229 alt1"><code class="bash plain">abcde</code></div><div class="line number231 index230 alt2"><code class="bash plain">123123</code></div><div class="line number232 index231 alt1">&nbsp;</div><div class="line number233 index232 alt2"><code class="bash plain">8）把路径变量中的冒号</code><code class="bash string">":"</code><code class="bash plain">，替换成换行符</code><code class="bash string">"\n"</code></div><div class="line number234 index233 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "a:b:c:d"|tr ":" "\n"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number235 index234 alt2"><code class="bash plain">a</code></div><div class="line number236 index235 alt1"><code class="bash plain">b</code></div><div class="line number237 index236 alt2"><code class="bash plain">c</code></div><div class="line number238 index237 alt1"><code class="bash plain">d</code></div><div class="line number239 index238 alt2">&nbsp;</div><div class="line number240 index239 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "/www/data/haha/html"|tr "/" ":"</code></div><div class="line number241 index240 alt2"><code class="bash plain">:www:data:haha:html</code></div><div class="line number242 index241 alt1">&nbsp;</div><div class="line number243 index242 alt2"><code class="bash plain">9）字符集补集！！！&nbsp; （</code><code class="bash functions">tr</code> <code class="bash plain">-d -c）</code></div><div class="line number244 index243 alt1"><code class="bash plain">set1的补集意味着从这个集合中包含set1中没有的所有字符。</code></div><div class="line number245 index244 alt2"><code class="bash plain">最典型的用法就是从输入文本中将不在补集中的所有字符全部删除！！！！</code></div><div class="line number246 index245 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "hello 123 world " | tr -d -c '0-9 \n'</code></div><div class="line number247 index246 alt2"><code class="bash spaces">&nbsp;</code><code class="bash plain">123&nbsp; </code></div><div class="line number248 index247 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "wang beijinganhui"|tr -d -c 'a-m\n'</code></div><div class="line number249 index248 alt2"><code class="bash plain">agbeijigahi</code></div><div class="line number250 index249 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "123WRsdf"|tr -d -c "a-z\n"</code></div><div class="line number251 index250 alt2"><code class="bash plain">sdf</code></div><div class="line number252 index251 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># echo "123@#QWEanhui"|tr -d -c "anhui\n" </code></div><div class="line number253 index252 alt2"><code class="bash plain">anhui</code></div><div class="line number254 index253 alt1">&nbsp;</div><div class="line number255 index254 alt2"><code class="bash plain">10) 删除Windows文件</code><code class="bash string">"造成"</code><code class="bash plain">的</code><code class="bash string">'^M'</code><code class="bash plain">字符</code></div><div class="line number256 index255 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat file | tr -s "\r" "\n" &gt; new_file</code></div><div class="line number257 index256 alt2"><code class="bash plain">或</code></div><div class="line number258 index257 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat file | tr -d "\r" &gt; new_file</code></div><div class="line number259 index258 alt2">&nbsp;</div><div class="line number260 index259 alt1"><code class="bash plain">11) 使用</code><code class="bash functions">tr</code><code class="bash plain">命令生成固定长度的随机密码！！！！</code></div><div class="line number261 index260 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># head /dev/urandom | tr -dc A-Za-z0-9 | head -c 20</code></div><div class="line number262 index261 alt1"><code class="bash plain">koR3ZjLekd6Xujfeslu1</code></div><div class="line number263 index262 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># head /dev/urandom | tr -dc A-Za-z0-9 | head -c 20</code></div><div class="line number264 index263 alt1"><code class="bash plain">vgOKX39zeQSWP6KD6rjd</code></div><div class="line number265 index264 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments">#</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">11）shell的 <span style="color: rgba(255, 0, 255, 1)">read</span> 输入用法</span></strong><br>read命令用于接收键盘或其它文件描述符的输入。<br>read命令接收标准输入（键盘）的输入，或其他文件描述符的输入（后面在说）。得到输入后，read命令将数据放入一个标准变量中。</p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_788372" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div><div class="line number169 index168 alt2">169</div><div class="line number170 index169 alt1">170</div><div class="line number171 index170 alt2">171</div><div class="line number172 index171 alt1">172</div><div class="line number173 index172 alt2">173</div><div class="line number174 index173 alt1">174</div><div class="line number175 index174 alt2">175</div><div class="line number176 index175 alt1">176</div><div class="line number177 index176 alt2">177</div><div class="line number178 index177 alt1">178</div><div class="line number179 index178 alt2">179</div><div class="line number180 index179 alt1">180</div><div class="line number181 index180 alt2">181</div><div class="line number182 index181 alt1">182</div><div class="line number183 index182 alt2">183</div><div class="line number184 index183 alt1">184</div><div class="line number185 index184 alt2">185</div><div class="line number186 index185 alt1">186</div><div class="line number187 index186 alt2">187</div><div class="line number188 index187 alt1">188</div><div class="line number189 index188 alt2">189</div><div class="line number190 index189 alt1">190</div><div class="line number191 index190 alt2">191</div><div class="line number192 index191 alt1">192</div><div class="line number193 index192 alt2">193</div><div class="line number194 index193 alt1">194</div><div class="line number195 index194 alt2">195</div><div class="line number196 index195 alt1">196</div><div class="line number197 index196 alt2">197</div><div class="line number198 index197 alt1">198</div><div class="line number199 index198 alt2">199</div><div class="line number200 index199 alt1">200</div><div class="line number201 index200 alt2">201</div><div class="line number202 index201 alt1">202</div><div class="line number203 index202 alt2">203</div><div class="line number204 index203 alt1">204</div><div class="line number205 index204 alt2">205</div><div class="line number206 index205 alt1">206</div><div class="line number207 index206 alt2">207</div><div class="line number208 index207 alt1">208</div><div class="line number209 index208 alt2">209</div><div class="line number210 index209 alt1">210</div><div class="line number211 index210 alt2">211</div><div class="line number212 index211 alt1">212</div><div class="line number213 index212 alt2">213</div><div class="line number214 index213 alt1">214</div><div class="line number215 index214 alt2">215</div><div class="line number216 index215 alt1">216</div><div class="line number217 index216 alt2">217</div><div class="line number218 index217 alt1">218</div><div class="line number219 index218 alt2">219</div><div class="line number220 index219 alt1">220</div><div class="line number221 index220 alt2">221</div><div class="line number222 index221 alt1">222</div><div class="line number223 index222 alt2">223</div><div class="line number224 index223 alt1">224</div><div class="line number225 index224 alt2">225</div><div class="line number226 index225 alt1">226</div><div class="line number227 index226 alt2">227</div><div class="line number228 index227 alt1">228</div><div class="line number229 index228 alt2">229</div><div class="line number230 index229 alt1">230</div><div class="line number231 index230 alt2">231</div><div class="line number232 index231 alt1">232</div><div class="line number233 index232 alt2">233</div><div class="line number234 index233 alt1">234</div><div class="line number235 index234 alt2">235</div><div class="line number236 index235 alt1">236</div><div class="line number237 index236 alt2">237</div><div class="line number238 index237 alt1">238</div><div class="line number239 index238 alt2">239</div><div class="line number240 index239 alt1">240</div><div class="line number241 index240 alt2">241</div><div class="line number242 index241 alt1">242</div><div class="line number243 index242 alt2">243</div><div class="line number244 index243 alt1">244</div><div class="line number245 index244 alt2">245</div><div class="line number246 index245 alt1">246</div><div class="line number247 index246 alt2">247</div><div class="line number248 index247 alt1">248</div><div class="line number249 index248 alt2">249</div><div class="line number250 index249 alt1">250</div><div class="line number251 index250 alt2">251</div><div class="line number252 index251 alt1">252</div><div class="line number253 index252 alt2">253</div><div class="line number254 index253 alt1">254</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">read</code> <code class="bash plain">命令格式如下：</code></div><div class="line number2 index1 alt1"><code class="bash comments">#read [选项] [变量名]</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="bash plain">选项：</code></div><div class="line number5 index4 alt2"><code class="bash plain">-p:&nbsp;&nbsp;&nbsp; 指定要显示的提示</code></div><div class="line number6 index5 alt1"><code class="bash plain">-s:&nbsp;&nbsp;&nbsp; 静默输入，输入的数据不显示出来。实际上输入数据是显示的，只是</code><code class="bash functions">read</code><code class="bash plain">命令将文本颜色设置成与背景相同的颜色！！！一般用于密码输入。</code></div><div class="line number7 index6 alt2"><code class="bash plain">-n:&nbsp;&nbsp;&nbsp; 指定输入的字符长度最大值。如果超出了，就默认使用前面最大长度值的字符！</code></div><div class="line number8 index7 alt1"><code class="bash plain">-d </code><code class="bash string">'字符'</code><code class="bash plain">:&nbsp; 输入结束符，当你输入的内容出现这个字符时，立即结束输入</code></div><div class="line number9 index8 alt2"><code class="bash plain">-t N:&nbsp;&nbsp; 超出N秒没有进行输入，则自动退出。</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="bash plain">需要注意：</code></div><div class="line number12 index11 alt1"><code class="bash plain">变量名可以自定义。如果不指定变量名，则会把输入保存到默认变量REPLY中；</code></div><div class="line number13 index12 alt2"><code class="bash plain">如果只提供了一个变量名，则将整个输入行赋予该变量；</code></div><div class="line number14 index13 alt1"><code class="bash plain">如果提供了一个以上的变量名，则输入行分为若干字，一个接一个地赋予各个变量，而命令行上的最后一个变量取得剩余的所有字；</code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># read -p "请输入你的内容: " haha;echo "${haha}"</code></div><div class="line number17 index16 alt2"><code class="bash plain">请输入你的内容: 123456</code></div><div class="line number18 index17 alt1"><code class="bash plain">123456</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="bash plain">加了-s参数，即静默输入。输入数据的时候看不到。默认不换行！</code></div><div class="line number21 index20 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># read -sp "请输入你的内容: " haha;echo "${haha}"</code></div><div class="line number22 index21 alt1"><code class="bash plain">请输入你的内容: 123456</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># read -sp "请输入你的内容: " haha;echo -e "\n${haha}"</code></div><div class="line number25 index24 alt2"><code class="bash plain">请输入你的内容: </code></div><div class="line number26 index25 alt1"><code class="bash plain">123456</code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="bash plain">下面来看看下面的一些示例：</code></div><div class="line number29 index28 alt2"><code class="bash plain">1）基本读取 </code></div><div class="line number30 index29 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number31 index30 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number32 index31 alt1"><code class="bash functions">echo</code> <code class="bash plain">-n </code><code class="bash string">"Enter your name:"</code>&nbsp;&nbsp; <code class="bash comments">#参数-n的作用是不换行，echo默认是换行！</code></div><div class="line number33 index32 alt2"><code class="bash functions">read</code>&nbsp; <code class="bash plain">name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#从键盘输入</code></div><div class="line number34 index33 alt1"><code class="bash functions">echo</code> <code class="bash string">"hello $name,welcome to my program"</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash comments">#显示信息</code></div><div class="line number35 index34 alt2"><code class="bash functions">exit</code> <code class="bash plain">0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="bash comments">#退出shell程序。</code></div><div class="line number36 index35 alt1">&nbsp;</div><div class="line number37 index36 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number38 index37 alt1"><code class="bash plain">Enter your name:beijing</code></div><div class="line number39 index38 alt2"><code class="bash plain">hello beijing,welcome to my program</code></div><div class="line number40 index39 alt1">&nbsp;</div><div class="line number41 index40 alt2"><code class="bash plain">2）使用</code><code class="bash functions">read</code><code class="bash plain">输入 (</code><code class="bash functions">read</code> <code class="bash plain">-p)</code></div><div class="line number42 index41 alt1"><code class="bash plain">由于</code><code class="bash functions">read</code><code class="bash plain">命令提供了-p参数，允许在</code><code class="bash functions">read</code><code class="bash plain">命令行中直接指定一个提示。</code></div><div class="line number43 index42 alt2"><code class="bash plain">上面脚本可以改进为：</code></div><div class="line number44 index43 alt1"><code class="bash plain">[注意：</code><code class="bash functions">read</code><code class="bash plain">命令后必须加它自己的参数，如果不加参数，则不执行！]</code></div><div class="line number45 index44 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number46 index45 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number47 index46 alt2"><code class="bash functions">read</code> <code class="bash plain">-p </code><code class="bash string">"Enter your name:"</code> <code class="bash plain">name</code></div><div class="line number48 index47 alt1"><code class="bash functions">echo</code> <code class="bash string">"hello $name, welcome to my program"</code></div><div class="line number49 index48 alt2"><code class="bash functions">exit</code> <code class="bash plain">0</code></div><div class="line number50 index49 alt1">&nbsp;</div><div class="line number51 index50 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number52 index51 alt1"><code class="bash plain">Enter your name:beijing</code></div><div class="line number53 index52 alt2"><code class="bash plain">hello beijing, welcome to my program</code></div><div class="line number54 index53 alt1">&nbsp;</div><div class="line number55 index54 alt2"><code class="bash plain">需要注意：</code></div><div class="line number56 index55 alt1"><code class="bash plain">在上面</code><code class="bash functions">read</code><code class="bash plain">后面的变量只有name一个，也可以有多个，多个变量使用空格隔开，这时如果输入多个数据，则第一个数据给第一个变量，第二个数据给第二个变量；</code></div><div class="line number57 index56 alt2"><code class="bash plain">如果输入数据个数过多，则最后所有的值都给最后那个变量！！</code></div><div class="line number58 index57 alt1"><code class="bash plain">如果输入数据太少，则对应不到数据的变量为空！</code></div><div class="line number59 index58 alt2"><code class="bash plain">在</code><code class="bash functions">read</code><code class="bash plain">命令行中也可以不指定变量，如果不指定变量，那么</code><code class="bash functions">read</code><code class="bash plain">命令会将接收到的数据放置在环境变量REPLY中。</code></div><div class="line number60 index59 alt1">&nbsp;</div><div class="line number61 index60 alt2"><code class="bash plain">3）</code><code class="bash functions">read</code><code class="bash plain">后面可以跟多个变量</code></div><div class="line number62 index61 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number63 index62 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number64 index63 alt1"><code class="bash functions">read</code> <code class="bash plain">-p </code><code class="bash string">"Enter your name:"</code> <code class="bash plain">name age city</code></div><div class="line number65 index64 alt2"><code class="bash functions">echo</code> <code class="bash string">"hello ${name},${age},${city}, welcome to my program"</code></div><div class="line number66 index65 alt1"><code class="bash functions">exit</code> <code class="bash plain">0</code></div><div class="line number67 index66 alt2">&nbsp;</div><div class="line number68 index67 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number69 index68 alt2"><code class="bash plain">Enter your name:bobo 26 beijing</code></div><div class="line number70 index69 alt1"><code class="bash plain">hello bobo,26,beijing, welcome to my program</code></div><div class="line number71 index70 alt2">&nbsp;</div><div class="line number72 index71 alt1"><code class="bash plain">如果输入数据多余变量，则多余的数据都给最后那个变量！！</code></div><div class="line number73 index72 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number74 index73 alt1"><code class="bash plain">Enter your name:yang 26 shanghai huoqiu haha</code></div><div class="line number75 index74 alt2"><code class="bash plain">hello yang,26,shanghai huoqiu haha, welcome to my program</code></div><div class="line number76 index75 alt1">&nbsp;</div><div class="line number77 index76 alt2"><code class="bash plain">如果输入数据少于变量，则对应不到数据的变量为空！</code></div><div class="line number78 index77 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number79 index78 alt2"><code class="bash plain">Enter your name:yang 26</code></div><div class="line number80 index79 alt1"><code class="bash plain">hello yang,26,, welcome to my program</code></div><div class="line number81 index80 alt2">&nbsp;</div><div class="line number82 index81 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number83 index82 alt2"><code class="bash plain">Enter your name:yui</code></div><div class="line number84 index83 alt1"><code class="bash plain">hello yui,,, welcome to my program</code></div><div class="line number85 index84 alt2">&nbsp;</div><div class="line number86 index85 alt1"><code class="bash plain">4）不跟变量，默认使用${REPLY}</code></div><div class="line number87 index86 alt2"><code class="bash plain">如果</code><code class="bash functions">read</code><code class="bash plain">后面不指定变量，则</code><code class="bash functions">read</code><code class="bash plain">命令会将接收到的数据放置在环境变量REPLY中!!!!</code></div><div class="line number88 index87 alt1"><code class="bash plain">环境变量REPLY中包含输入的所有数据，可以像使用其他变量一样在shell脚本中使用环境变量REPLY，即${REPLY}</code></div><div class="line number89 index88 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.sh </code></div><div class="line number90 index89 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number91 index90 alt2"><code class="bash functions">read</code> <code class="bash plain">-p </code><code class="bash string">"Enter your name:"</code></div><div class="line number92 index91 alt1"><code class="bash functions">echo</code> <code class="bash string">"${REPLY}是输入的内容"</code></div><div class="line number93 index92 alt2"><code class="bash functions">exit</code> <code class="bash plain">0</code></div><div class="line number94 index93 alt1">&nbsp;</div><div class="line number95 index94 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number96 index95 alt1"><code class="bash plain">Enter your name:zhangyang is 27,very </code><code class="bash functions">nice</code><code class="bash plain">!!</code></div><div class="line number97 index96 alt2"><code class="bash plain">zhangyang is 27,very </code><code class="bash functions">nice</code><code class="bash plain">!!是输入的内容</code></div><div class="line number98 index97 alt1">&nbsp;</div><div class="line number99 index98 alt2"><code class="bash plain">5）</code><code class="bash functions">read</code><code class="bash plain">的计时输入 (</code><code class="bash functions">read</code> <code class="bash plain">-t)</code></div><div class="line number100 index99 alt1"><code class="bash plain">使用</code><code class="bash functions">read</code><code class="bash plain">命令存在着潜在危险，脚本很可能会停下来一直等待用户的输入。</code></div><div class="line number101 index100 alt2"><code class="bash plain">如果无论是否输入数据脚本都必须继续执行，那么可以使用-t选项指定一个计时器。</code></div><div class="line number102 index101 alt1"><code class="bash plain">-t选项指定</code><code class="bash functions">read</code><code class="bash plain">命令等待输入的秒数。当计时满时，</code><code class="bash functions">read</code><code class="bash plain">命令返回一个非零退出状态;</code></div><div class="line number103 index102 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number104 index103 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number105 index104 alt2"><code class="bash keyword">if</code> <code class="bash functions">read</code> <code class="bash plain">-t 5 -p </code><code class="bash string">"please enter your name:"</code> <code class="bash plain">name</code></div><div class="line number106 index105 alt1"><code class="bash keyword">then</code></div><div class="line number107 index106 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"hello $name ,welcome to my script"</code></div><div class="line number108 index107 alt1"><code class="bash keyword">else</code></div><div class="line number109 index108 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"sorry,too slow"</code></div><div class="line number110 index109 alt1"><code class="bash keyword">fi</code></div><div class="line number111 index110 alt2"><code class="bash functions">exit</code> <code class="bash plain">0</code></div><div class="line number112 index111 alt1">&nbsp;</div><div class="line number113 index112 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh </code></div><div class="line number114 index113 alt1"><code class="bash plain">please enter your name:zhangtianba</code></div><div class="line number115 index114 alt2"><code class="bash plain">hello zhangtianba ,welcome to my script</code></div><div class="line number116 index115 alt1">&nbsp;</div><div class="line number117 index116 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number118 index117 alt1"><code class="bash plain">please enter your name:sorry,too slow</code></div><div class="line number119 index118 alt2">&nbsp;</div><div class="line number120 index119 alt1"><code class="bash plain">即超出5s没有输入内容，脚本就自动结束！</code></div><div class="line number121 index120 alt2">&nbsp;</div><div class="line number122 index121 alt1"><code class="bash plain">6）</code><code class="bash functions">read</code><code class="bash plain">的计算字符长度输入 (</code><code class="bash functions">read</code> <code class="bash plain">-n)</code></div><div class="line number123 index122 alt2"><code class="bash plain">除了输入时间计时，还可以设置</code><code class="bash functions">read</code><code class="bash plain">命令计数输入的字符。当输入的字符数目达到预定数目时，自动退出，并将输入的数据赋值给变量。</code></div><div class="line number124 index123 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number125 index124 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number126 index125 alt1"><code class="bash functions">read</code> <code class="bash plain">-n1 -p </code><code class="bash string">"Do you want to continue [Y/N]?"</code> <code class="bash plain">answer</code></div><div class="line number127 index126 alt2"><code class="bash keyword">case</code> <code class="bash plain">$answer </code><code class="bash keyword">in</code></div><div class="line number128 index127 alt1"><code class="bash plain">Y | y)</code></div><div class="line number129 index128 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">-e </code><code class="bash string">"\nfine ,continue"</code><code class="bash plain">;;</code></div><div class="line number130 index129 alt1"><code class="bash plain">N | n)</code></div><div class="line number131 index130 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">-e </code><code class="bash string">"\nok,good bye"</code><code class="bash plain">;;</code></div><div class="line number132 index131 alt1"><code class="bash plain">*)</code></div><div class="line number133 index132 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">-e </code><code class="bash string">"\nerror choice"</code><code class="bash plain">;;</code></div><div class="line number134 index133 alt1"><code class="bash keyword">esac</code></div><div class="line number135 index134 alt2"><code class="bash functions">exit</code> <code class="bash plain">0</code></div><div class="line number136 index135 alt1">&nbsp;</div><div class="line number137 index136 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number138 index137 alt1"><code class="bash plain">Do you want to </code><code class="bash keyword">continue</code> <code class="bash plain">[Y</code><code class="bash plain">/N</code><code class="bash plain">]?y</code></div><div class="line number139 index138 alt2"><code class="bash plain">fine ,</code><code class="bash keyword">continue</code></div><div class="line number140 index139 alt1">&nbsp;</div><div class="line number141 index140 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number142 index141 alt1"><code class="bash plain">Do you want to </code><code class="bash keyword">continue</code> <code class="bash plain">[Y</code><code class="bash plain">/N</code><code class="bash plain">]?N</code></div><div class="line number143 index142 alt2"><code class="bash plain">ok,good bye</code></div><div class="line number144 index143 alt1">&nbsp;</div><div class="line number145 index144 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number146 index145 alt1"><code class="bash plain">Do you want to </code><code class="bash keyword">continue</code> <code class="bash plain">[Y</code><code class="bash plain">/N</code><code class="bash plain">]?A</code></div><div class="line number147 index146 alt2"><code class="bash plain">error choice</code></div><div class="line number148 index147 alt1">&nbsp;</div><div class="line number149 index148 alt2"><code class="bash plain">注意：</code></div><div class="line number150 index149 alt1"><code class="bash plain">该例子使用了-n选项，后接数值1，指示</code><code class="bash functions">read</code><code class="bash plain">命令只要接受到一个字符就退出。</code></div><div class="line number151 index150 alt2"><code class="bash plain">只要按下一个字符进行回答，</code><code class="bash functions">read</code><code class="bash plain">命令立即接受输入并将其传给变量。无需按回车键。</code></div><div class="line number152 index151 alt1"><code class="bash plain">上面脚本中要在</code><code class="bash functions">echo</code><code class="bash plain">语句中添加换行符</code><code class="bash string">"\n"</code><code class="bash plain">，否则执行脚本，在输入内容后会将</code><code class="bash functions">echo</code><code class="bash plain">的内容和</code><code class="bash functions">read</code><code class="bash plain">提示信息放在一行！</code></div><div class="line number153 index152 alt2"><code class="bash functions">echo</code><code class="bash plain">需要加上参数</code><code class="bash string">"-e"</code><code class="bash plain">才能将后面引号内的特殊字符</code><code class="bash string">"\n"</code><code class="bash plain">生效！否则就当普通字符处理了！</code></div><div class="line number154 index153 alt1">&nbsp;</div><div class="line number155 index154 alt2"><code class="bash plain">如果输入的字符超过了设定的最大字符长度，则就默认使用前面最大长度值的字符！</code></div><div class="line number156 index155 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number157 index156 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number158 index157 alt1"><code class="bash functions">read</code> <code class="bash plain">-n5 -p </code><code class="bash string">"please input name:"</code> <code class="bash plain">name</code></div><div class="line number159 index158 alt2"><code class="bash functions">echo</code> <code class="bash string">"需要输入的名字是:${name}"</code></div><div class="line number160 index159 alt1">&nbsp;</div><div class="line number161 index160 alt2"><code class="bash plain">没有超过设定的最大字符长度，这时候会自动换行！</code></div><div class="line number162 index161 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh </code></div><div class="line number163 index162 alt2"><code class="bash plain">please input name:bao</code></div><div class="line number164 index163 alt1"><code class="bash plain">需要输入的名字是:bao</code></div><div class="line number165 index164 alt2">&nbsp;</div><div class="line number166 index165 alt1"><code class="bash plain">超过了设定的最大字符长度。</code></div><div class="line number167 index166 alt2"><code class="bash plain">本来输入的是zhangzihua，但是默认使用了前面5个字符：zhang</code></div><div class="line number168 index167 alt1"><code class="bash plain">超过后，不会自动换行！</code></div><div class="line number169 index168 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number170 index169 alt1"><code class="bash plain">please input name:zhang需要输入的名字是:zhang</code></div><div class="line number171 index170 alt2">&nbsp;</div><div class="line number172 index171 alt1"><code class="bash plain">改进下，解决不换行问题：</code></div><div class="line number173 index172 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number174 index173 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number175 index174 alt2"><code class="bash functions">read</code> <code class="bash plain">-n5 -p </code><code class="bash string">"please input name:"</code> <code class="bash plain">name</code></div><div class="line number176 index175 alt1"><code class="bash functions">echo</code> <code class="bash plain">-e </code><code class="bash string">"\n需要输入的名字是:${name}"</code></div><div class="line number177 index176 alt2">&nbsp;</div><div class="line number178 index177 alt1"><code class="bash plain">这样，输入字符超过设定的最大字符长度时，就会自动换行了！</code></div><div class="line number179 index178 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number180 index179 alt1"><code class="bash plain">please input name:zhang</code></div><div class="line number181 index180 alt2"><code class="bash plain">需要输入的名字是:zhang</code></div><div class="line number182 index181 alt1">&nbsp;</div><div class="line number183 index182 alt2"><code class="bash plain">再来改进下脚本：</code></div><div class="line number184 index183 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number185 index184 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number186 index185 alt1"><code class="bash functions">read</code> <code class="bash plain">-n5 -p </code><code class="bash string">"please input name:"</code> <code class="bash plain">name</code></div><div class="line number187 index186 alt2">&nbsp;</div><div class="line number188 index187 alt1"><code class="bash plain">len=$(</code><code class="bash functions">expr</code> <code class="bash plain">length </code><code class="bash string">"${name}"</code><code class="bash plain">)</code></div><div class="line number189 index188 alt2"><code class="bash comments">#或者使用len=`echo ${#name}`</code></div><div class="line number190 index189 alt1"><code class="bash keyword">if</code> <code class="bash plain">[ ${len} -lt 5 ];</code><code class="bash keyword">then</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash comments">#注意第一个逻辑判断中的len变量不能等于设置的最大长度值，否则下面就不会执行。</code></div><div class="line number191 index190 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"输入的名字为:${name}"</code>&nbsp;&nbsp; <code class="bash comments">#当不超过设定的字符长度时，会自动换行</code></div><div class="line number192 index191 alt1"><code class="bash keyword">else</code></div><div class="line number193 index192 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">-e </code><code class="bash string">"\n输入的名字长度超过5,当前名字为${name}"</code></div><div class="line number194 index193 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">exit</code> <code class="bash plain">0</code></div><div class="line number195 index194 alt2"><code class="bash keyword">fi</code></div><div class="line number196 index195 alt1">&nbsp;</div><div class="line number197 index196 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh </code></div><div class="line number198 index197 alt1"><code class="bash plain">please input name:bao</code></div><div class="line number199 index198 alt2"><code class="bash plain">输入的名字为:bao</code></div><div class="line number200 index199 alt1">&nbsp;</div><div class="line number201 index200 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh </code></div><div class="line number202 index201 alt1"><code class="bash plain">please input name:hangu</code></div><div class="line number203 index202 alt2"><code class="bash plain">输入的名字长度超过5,当前名字为hangu</code></div><div class="line number204 index203 alt1">&nbsp;</div><div class="line number205 index204 alt2"><code class="bash plain">7）</code><code class="bash functions">read</code><code class="bash plain">的静默输入。（</code><code class="bash functions">read</code> <code class="bash plain">-s）</code></div><div class="line number206 index205 alt1"><code class="bash plain">有时会需要脚本用户输入，但不希望输入的数据显示在监视器上。典型的例子就是输入密码，当然还有很多其他需要隐藏的数据。</code></div><div class="line number207 index206 alt2"><code class="bash plain">-s选项能够使</code><code class="bash functions">read</code><code class="bash plain">命令中输入的数据不显示在监视器上（实际上，数据是显示的，只是</code><code class="bash functions">read</code><code class="bash plain">命令将文本颜色设置成与背景相同的颜色！！！）。</code></div><div class="line number208 index207 alt1"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number209 index208 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number210 index209 alt1"><code class="bash functions">read</code>&nbsp; <code class="bash plain">-s -p </code><code class="bash string">"Enter your password: "</code> <code class="bash plain">pass</code></div><div class="line number211 index210 alt2"><code class="bash functions">echo</code> <code class="bash plain">-e </code><code class="bash string">"\nyour password is $pass"</code></div><div class="line number212 index211 alt1"><code class="bash functions">exit</code> <code class="bash plain">0</code></div><div class="line number213 index212 alt2">&nbsp;</div><div class="line number214 index213 alt1"><code class="bash plain">静默输入，即输入的数据是看不到的。</code></div><div class="line number215 index214 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number216 index215 alt1"><code class="bash plain">Enter your password: </code></div><div class="line number217 index216 alt2"><code class="bash plain">your password is 123456</code></div><div class="line number218 index217 alt1">&nbsp;</div><div class="line number219 index218 alt2"><code class="bash plain">8）</code><code class="bash functions">read</code><code class="bash plain">读取文件！！！！（</code><code class="bash functions">cat</code> <code class="bash plain">filename | </code><code class="bash keyword">while</code> <code class="bash functions">read</code> <code class="bash plain">line）</code></div><div class="line number220 index219 alt1"><code class="bash plain">可以使用</code><code class="bash functions">read</code><code class="bash plain">命令读取Linux系统上的文件。</code></div><div class="line number221 index220 alt2"><code class="bash plain">每次调用</code><code class="bash functions">read</code><code class="bash plain">命令都会读取文件中的</code><code class="bash string">"一行"</code><code class="bash plain">文本！！</code></div><div class="line number222 index221 alt1"><code class="bash plain">当文件没有可读的行时，</code><code class="bash functions">read</code><code class="bash plain">命令将以非零状态退出。</code></div><div class="line number223 index222 alt2"><code class="bash plain">读取文件的关键是如何将文本中的数据传送给</code><code class="bash functions">read</code><code class="bash plain">命令？？</code></div><div class="line number224 index223 alt1">&nbsp;</div><div class="line number225 index224 alt2"><code class="bash plain">最常用的方法：对文件使用</code><code class="bash functions">cat</code><code class="bash plain">命令并通过管道将结果直接传送给包含</code><code class="bash functions">read</code><code class="bash plain">命令的</code><code class="bash keyword">while</code><code class="bash plain">命令</code></div><div class="line number226 index225 alt1">&nbsp;</div><div class="line number227 index226 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.txt </code></div><div class="line number228 index227 alt1"><code class="bash plain">wangbo is a boy!</code></div><div class="line number229 index228 alt2"><code class="bash plain">beijing is good!</code></div><div class="line number230 index229 alt1"><code class="bash plain">abc 123 sahdfksfah</code></div><div class="line number231 index230 alt2"><code class="bash plain">asf</code><code class="bash comments">#$$!QA</code></div><div class="line number232 index231 alt1">&nbsp;</div><div class="line number233 index232 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># cat test.sh </code></div><div class="line number234 index233 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number235 index234 alt2"><code class="bash plain">count=1&nbsp;&nbsp; </code></div><div class="line number236 index235 alt1"><code class="bash functions">cat</code> <code class="bash functions">test</code><code class="bash plain">.txt | </code><code class="bash keyword">while</code> <code class="bash functions">read</code> <code class="bash plain">line&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#cat命令的输出作为read命令的输入,read读到的值放在line中。line为读取文件行内容的变量</code></div><div class="line number237 index236 alt2"><code class="bash keyword">do</code></div><div class="line number238 index237 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">${line}|</code><code class="bash functions">grep</code> <code class="bash plain">-w </code><code class="bash string">"beijing"</code> <code class="bash plain">&gt;</code><code class="bash plain">/dev/null</code> <code class="bash plain">2&gt;&amp;1</code></div><div class="line number239 index238 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">if</code> <code class="bash plain">[ $? -</code><code class="bash keyword">eq</code> <code class="bash plain">0 ];</code><code class="bash keyword">then</code></div><div class="line number240 index239 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"想要的是:${line}"</code></div><div class="line number241 index240 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">else</code></div><div class="line number242 index241 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"Line ${count}:${line}"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash comments">#读取的内容默认为变量${line}</code></div><div class="line number243 index242 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">count=$[ ${count} + 1 ]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#注意中括号中的空格。</code></div><div class="line number244 index243 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">fi</code></div><div class="line number245 index244 alt2"><code class="bash keyword">done</code></div><div class="line number246 index245 alt1"><code class="bash functions">echo</code> <code class="bash string">"finish"</code></div><div class="line number247 index246 alt2"><code class="bash functions">exit</code> <code class="bash plain">0</code></div><div class="line number248 index247 alt1">&nbsp;</div><div class="line number249 index248 alt2"><code class="bash plain">[root@kevin ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number250 index249 alt1"><code class="bash plain">Line 1:wangbo is a boy!</code></div><div class="line number251 index250 alt2"><code class="bash plain">想要的是:beijing is good!</code></div><div class="line number252 index251 alt1"><code class="bash plain">Line 2:abc 123 sahdfksfah</code></div><div class="line number253 index252 alt2"><code class="bash plain">Line 3:asf</code><code class="bash comments">#$$!QA</code></div><div class="line number254 index253 alt1"><code class="bash plain">finish</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">12）shell的 <span style="color: rgba(255, 0, 255, 1)">case</span> 用法</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_293410" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div><div class="line number169 index168 alt2">169</div><div class="line number170 index169 alt1">170</div><div class="line number171 index170 alt2">171</div><div class="line number172 index171 alt1">172</div><div class="line number173 index172 alt2">173</div><div class="line number174 index173 alt1">174</div><div class="line number175 index174 alt2">175</div><div class="line number176 index175 alt1">176</div><div class="line number177 index176 alt2">177</div><div class="line number178 index177 alt1">178</div><div class="line number179 index178 alt2">179</div><div class="line number180 index179 alt1">180</div><div class="line number181 index180 alt2">181</div><div class="line number182 index181 alt1">182</div><div class="line number183 index182 alt2">183</div><div class="line number184 index183 alt1">184</div><div class="line number185 index184 alt2">185</div><div class="line number186 index185 alt1">186</div><div class="line number187 index186 alt2">187</div><div class="line number188 index187 alt1">188</div><div class="line number189 index188 alt2">189</div><div class="line number190 index189 alt1">190</div><div class="line number191 index190 alt2">191</div><div class="line number192 index191 alt1">192</div><div class="line number193 index192 alt2">193</div><div class="line number194 index193 alt1">194</div><div class="line number195 index194 alt2">195</div><div class="line number196 index195 alt1">196</div><div class="line number197 index196 alt2">197</div><div class="line number198 index197 alt1">198</div><div class="line number199 index198 alt2">199</div><div class="line number200 index199 alt1">200</div><div class="line number201 index200 alt2">201</div><div class="line number202 index201 alt1">202</div><div class="line number203 index202 alt2">203</div><div class="line number204 index203 alt1">204</div><div class="line number205 index204 alt2">205</div><div class="line number206 index205 alt1">206</div><div class="line number207 index206 alt2">207</div><div class="line number208 index207 alt1">208</div><div class="line number209 index208 alt2">209</div><div class="line number210 index209 alt1">210</div><div class="line number211 index210 alt2">211</div><div class="line number212 index211 alt1">212</div><div class="line number213 index212 alt2">213</div><div class="line number214 index213 alt1">214</div><div class="line number215 index214 alt2">215</div><div class="line number216 index215 alt1">216</div><div class="line number217 index216 alt2">217</div><div class="line number218 index217 alt1">218</div><div class="line number219 index218 alt2">219</div><div class="line number220 index219 alt1">220</div><div class="line number221 index220 alt2">221</div><div class="line number222 index221 alt1">222</div><div class="line number223 index222 alt2">223</div><div class="line number224 index223 alt1">224</div><div class="line number225 index224 alt2">225</div><div class="line number226 index225 alt1">226</div><div class="line number227 index226 alt2">227</div><div class="line number228 index227 alt1">228</div><div class="line number229 index228 alt2">229</div><div class="line number230 index229 alt1">230</div><div class="line number231 index230 alt2">231</div><div class="line number232 index231 alt1">232</div><div class="line number233 index232 alt2">233</div><div class="line number234 index233 alt1">234</div><div class="line number235 index234 alt2">235</div><div class="line number236 index235 alt1">236</div><div class="line number237 index236 alt2">237</div><div class="line number238 index237 alt1">238</div><div class="line number239 index238 alt2">239</div><div class="line number240 index239 alt1">240</div><div class="line number241 index240 alt2">241</div><div class="line number242 index241 alt1">242</div><div class="line number243 index242 alt2">243</div><div class="line number244 index243 alt1">244</div><div class="line number245 index244 alt2">245</div><div class="line number246 index245 alt1">246</div><div class="line number247 index246 alt2">247</div><div class="line number248 index247 alt1">248</div><div class="line number249 index248 alt2">249</div><div class="line number250 index249 alt1">250</div><div class="line number251 index250 alt2">251</div><div class="line number252 index251 alt1">252</div><div class="line number253 index252 alt2">253</div><div class="line number254 index253 alt1">254</div><div class="line number255 index254 alt2">255</div><div class="line number256 index255 alt1">256</div><div class="line number257 index256 alt2">257</div><div class="line number258 index257 alt1">258</div><div class="line number259 index258 alt2">259</div><div class="line number260 index259 alt1">260</div><div class="line number261 index260 alt2">261</div><div class="line number262 index261 alt1">262</div><div class="line number263 index262 alt2">263</div><div class="line number264 index263 alt1">264</div><div class="line number265 index264 alt2">265</div><div class="line number266 index265 alt1">266</div><div class="line number267 index266 alt2">267</div><div class="line number268 index267 alt1">268</div><div class="line number269 index268 alt2">269</div><div class="line number270 index269 alt1">270</div><div class="line number271 index270 alt2">271</div><div class="line number272 index271 alt1">272</div><div class="line number273 index272 alt2">273</div><div class="line number274 index273 alt1">274</div><div class="line number275 index274 alt2">275</div><div class="line number276 index275 alt1">276</div><div class="line number277 index276 alt2">277</div><div class="line number278 index277 alt1">278</div><div class="line number279 index278 alt2">279</div><div class="line number280 index279 alt1">280</div><div class="line number281 index280 alt2">281</div><div class="line number282 index281 alt1">282</div><div class="line number283 index282 alt2">283</div><div class="line number284 index283 alt1">284</div><div class="line number285 index284 alt2">285</div><div class="line number286 index285 alt1">286</div><div class="line number287 index286 alt2">287</div><div class="line number288 index287 alt1">288</div><div class="line number289 index288 alt2">289</div><div class="line number290 index289 alt1">290</div><div class="line number291 index290 alt2">291</div><div class="line number292 index291 alt1">292</div><div class="line number293 index292 alt2">293</div><div class="line number294 index293 alt1">294</div><div class="line number295 index294 alt2">295</div><div class="line number296 index295 alt1">296</div><div class="line number297 index296 alt2">297</div><div class="line number298 index297 alt1">298</div><div class="line number299 index298 alt2">299</div><div class="line number300 index299 alt1">300</div><div class="line number301 index300 alt2">301</div><div class="line number302 index301 alt1">302</div><div class="line number303 index302 alt2">303</div><div class="line number304 index303 alt1">304</div><div class="line number305 index304 alt2">305</div><div class="line number306 index305 alt1">306</div><div class="line number307 index306 alt2">307</div><div class="line number308 index307 alt1">308</div><div class="line number309 index308 alt2">309</div><div class="line number310 index309 alt1">310</div><div class="line number311 index310 alt2">311</div><div class="line number312 index311 alt1">312</div><div class="line number313 index312 alt2">313</div><div class="line number314 index313 alt1">314</div><div class="line number315 index314 alt2">315</div><div class="line number316 index315 alt1">316</div><div class="line number317 index316 alt2">317</div><div class="line number318 index317 alt1">318</div><div class="line number319 index318 alt2">319</div><div class="line number320 index319 alt1">320</div><div class="line number321 index320 alt2">321</div><div class="line number322 index321 alt1">322</div><div class="line number323 index322 alt2">323</div><div class="line number324 index323 alt1">324</div><div class="line number325 index324 alt2">325</div><div class="line number326 index325 alt1">326</div><div class="line number327 index326 alt2">327</div><div class="line number328 index327 alt1">328</div><div class="line number329 index328 alt2">329</div><div class="line number330 index329 alt1">330</div><div class="line number331 index330 alt2">331</div><div class="line number332 index331 alt1">332</div><div class="line number333 index332 alt2">333</div><div class="line number334 index333 alt1">334</div><div class="line number335 index334 alt2">335</div><div class="line number336 index335 alt1">336</div><div class="line number337 index336 alt2">337</div><div class="line number338 index337 alt1">338</div><div class="line number339 index338 alt2">339</div><div class="line number340 index339 alt1">340</div><div class="line number341 index340 alt2">341</div><div class="line number342 index341 alt1">342</div><div class="line number343 index342 alt2">343</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash keyword">case</code><code class="bash plain">语句还是很好理解的，在shell编程中，</code><code class="bash keyword">if</code><code class="bash plain">语句有它的语法，函数也有它的语法，那么在shell编程中的</code><code class="bash keyword">case</code><code class="bash plain">语句也是有它的语法的，语法格式如下：</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="bash keyword">case</code> <code class="bash plain">${变量名} </code><code class="bash keyword">in</code></div><div class="line number4 index3 alt1"><code class="bash plain">赋值1) </code></div><div class="line number5 index4 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">执行指令1 </code></div><div class="line number6 index5 alt1"><code class="bash plain">;;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments"># 每一个选择都以双;;结束。(需要注意：;;相当于break语句)</code></div><div class="line number7 index6 alt2"><code class="bash plain">赋值2) </code></div><div class="line number8 index7 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">执行指令2 </code></div><div class="line number9 index8 alt2"><code class="bash plain">;; </code></div><div class="line number10 index9 alt1"><code class="bash plain">赋值3) </code></div><div class="line number11 index10 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">执行指令3 </code></div><div class="line number12 index11 alt1"><code class="bash plain">;; </code></div><div class="line number13 index12 alt2"><code class="bash plain">*)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments"># *未匹配到相符的其他值&nbsp;&nbsp; </code></div><div class="line number14 index13 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">执行其他指令</code></div><div class="line number15 index14 alt2"><code class="bash plain">;; </code></div><div class="line number16 index15 alt1"><code class="bash keyword">esac</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="bash plain">示例一</code></div><div class="line number19 index18 alt2"><code class="bash plain">当命令行参数是 1 时，输出 </code><code class="bash string">"周一"</code><code class="bash plain">, 是 2 时，就输出</code><code class="bash string">"周二"</code><code class="bash plain">， 其它情况输出 </code><code class="bash string">"其他"</code></div><div class="line number20 index19 alt1"><code class="bash plain">---------------------------------------------------------------------</code></div><div class="line number21 index20 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number22 index21 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number23 index22 alt2"><code class="bash keyword">case</code> <code class="bash plain">$1 </code><code class="bash keyword">in</code></div><div class="line number24 index23 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">1)</code></div><div class="line number25 index24 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"周一"</code></div><div class="line number26 index25 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number27 index26 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">2) </code></div><div class="line number28 index27 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"周二"</code></div><div class="line number29 index28 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number30 index29 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">*)</code></div><div class="line number31 index30 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"其他"</code></div><div class="line number32 index31 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number33 index32 alt2"><code class="bash keyword">esac</code></div><div class="line number34 index33 alt1">&nbsp;</div><div class="line number35 index34 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh 1</code></div><div class="line number36 index35 alt1"><code class="bash plain">周一</code></div><div class="line number37 index36 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh 2</code></div><div class="line number38 index37 alt1"><code class="bash plain">周二</code></div><div class="line number39 index38 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh 3</code></div><div class="line number40 index39 alt1"><code class="bash plain">其他</code></div><div class="line number41 index40 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh 4</code></div><div class="line number42 index41 alt1"><code class="bash plain">其他</code></div><div class="line number43 index42 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh </code></div><div class="line number44 index43 alt1"><code class="bash plain">其他</code></div><div class="line number45 index44 alt2">&nbsp;</div><div class="line number46 index45 alt1"><code class="bash plain">示例二</code></div><div class="line number47 index46 alt2"><code class="bash plain">shell脚本中</code><code class="bash keyword">case</code><code class="bash plain">选择语句可以结合</code><code class="bash functions">read</code><code class="bash plain">指令实现比较好的交互应答操作，</code><code class="bash keyword">case</code><code class="bash plain">接收到</code><code class="bash functions">read</code><code class="bash plain">指令传入的一个或多个参数，然后</code><code class="bash keyword">case</code><code class="bash plain">根据参数做选择操作。</code></div><div class="line number48 index47 alt1"><code class="bash plain">---------------------------------------------------------------------</code></div><div class="line number49 index48 alt2"><code class="bash plain">1) 案例1</code></div><div class="line number50 index49 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh </code></div><div class="line number51 index50 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number52 index51 alt1"><code class="bash functions">echo</code> <code class="bash string">"Please enter A,B,C"</code></div><div class="line number53 index52 alt2"><code class="bash functions">read</code> <code class="bash plain">letter</code></div><div class="line number54 index53 alt1"><code class="bash comments">#上面两句可以改进为:</code></div><div class="line number55 index54 alt2"><code class="bash comments">#read -p "Please enter A,B,C:&nbsp; " letter</code></div><div class="line number56 index55 alt1"><code class="bash keyword">case</code> <code class="bash plain">$letter </code><code class="bash keyword">in</code></div><div class="line number57 index56 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">A|a) </code></div><div class="line number58 index57 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"you entered A"</code></div><div class="line number59 index58 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;; </code></div><div class="line number60 index59 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">B|b) </code></div><div class="line number61 index60 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"you entered B"</code></div><div class="line number62 index61 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number63 index62 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">C|c) </code></div><div class="line number64 index63 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"you entered C"</code></div><div class="line number65 index64 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number66 index65 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">*)</code></div><div class="line number67 index66 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"Not in A,B,C"</code></div><div class="line number68 index67 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number69 index68 alt2"><code class="bash keyword">esac</code></div><div class="line number70 index69 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number71 index70 alt2"><code class="bash plain">Please enter A,B,C</code></div><div class="line number72 index71 alt1"><code class="bash plain">A</code></div><div class="line number73 index72 alt2"><code class="bash plain">you entered A</code></div><div class="line number74 index73 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number75 index74 alt2"><code class="bash plain">Please enter A,B,C</code></div><div class="line number76 index75 alt1"><code class="bash plain">b</code></div><div class="line number77 index76 alt2"><code class="bash plain">you entered B</code></div><div class="line number78 index77 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number79 index78 alt2"><code class="bash plain">Please enter A,B,C</code></div><div class="line number80 index79 alt1"><code class="bash plain">C</code></div><div class="line number81 index80 alt2"><code class="bash plain">you entered C</code></div><div class="line number82 index81 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number83 index82 alt2"><code class="bash plain">Please enter A,B,C</code></div><div class="line number84 index83 alt1"><code class="bash plain">w3</code></div><div class="line number85 index84 alt2"><code class="bash plain">Not </code><code class="bash keyword">in</code> <code class="bash plain">A,B,C</code></div><div class="line number86 index85 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number87 index86 alt2">&nbsp;</div><div class="line number88 index87 alt1"><code class="bash plain">2) 案例二：查看系统资源使用情况</code></div><div class="line number89 index88 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number90 index89 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number91 index90 alt2"><code class="bash functions">echo</code> <code class="bash string">"check system run status"</code></div><div class="line number92 index91 alt1"><code class="bash functions">echo</code> <code class="bash string">"show CPUinfo: C/c "</code></div><div class="line number93 index92 alt2"><code class="bash functions">echo</code> <code class="bash string">"show Memery used: M/m "</code></div><div class="line number94 index93 alt1"><code class="bash functions">echo</code> <code class="bash string">"show Disk use status: D/n "</code></div><div class="line number95 index94 alt2"><code class="bash functions">echo</code> <code class="bash string">"show System user login: U/n "</code></div><div class="line number96 index95 alt1"><code class="bash functions">echo</code> <code class="bash string">"show System load average:L/l"</code></div><div class="line number97 index96 alt2"><code class="bash functions">echo</code> <code class="bash string">"show System Ip address: I/i"</code></div><div class="line number98 index97 alt1">&nbsp;</div><div class="line number99 index98 alt2"><code class="bash plain">read_input () {</code></div><div class="line number100 index99 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">read</code>&nbsp; <code class="bash plain">-t 10 -p </code><code class="bash string">"please Input C/M/D/U/L/I : "</code> <code class="bash plain">char</code></div><div class="line number101 index100 alt2"><code class="bash plain">}</code></div><div class="line number102 index101 alt1"><code class="bash plain">show_status () {</code></div><div class="line number103 index102 alt2"><code class="bash keyword">case</code> <code class="bash plain">$char </code><code class="bash keyword">in</code></div><div class="line number104 index103 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">C | c )</code></div><div class="line number105 index104 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">cat</code> <code class="bash plain">/proc/cpuinfo</code> <code class="bash plain">| </code><code class="bash functions">grep</code> <code class="bash plain">-o -i </code><code class="bash string">'model name.*'</code></div><div class="line number106 index105 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number107 index106 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">M | m )</code></div><div class="line number108 index107 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">free</code> <code class="bash plain">-m</code></div><div class="line number109 index108 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number110 index109 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">D | d )</code></div><div class="line number111 index110 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">df</code> <code class="bash plain">-h</code></div><div class="line number112 index111 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number113 index112 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">U | u )</code></div><div class="line number114 index113 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">w</code></div><div class="line number115 index114 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number116 index115 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">L | l )</code></div><div class="line number117 index116 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">top</code> <code class="bash plain">| </code><code class="bash functions">head</code> <code class="bash plain">-1 | </code><code class="bash functions">cut</code> <code class="bash plain">-d </code><code class="bash string">" "</code> <code class="bash plain">-f 11-15</code></div><div class="line number118 index117 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number119 index118 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">I | i )</code></div><div class="line number120 index119 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">ifconfig</code> <code class="bash plain">| </code><code class="bash functions">grep</code> <code class="bash plain">-o </code><code class="bash string">"[0-9.]\{7,\}"</code> <code class="bash plain">| </code><code class="bash functions">head</code> <code class="bash plain">-1</code></div><div class="line number121 index120 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number122 index121 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">* )</code></div><div class="line number123 index122 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"The characters you have entered are wrong. Please look at the hints"</code></div><div class="line number124 index123 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number125 index124 alt2"><code class="bash keyword">esac</code></div><div class="line number126 index125 alt1"><code class="bash plain">}</code></div><div class="line number127 index126 alt2">&nbsp;</div><div class="line number128 index127 alt1"><code class="bash keyword">for</code> <code class="bash plain">i </code><code class="bash keyword">in</code> <code class="bash plain">$( </code><code class="bash functions">seq</code> <code class="bash plain">1 10)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#呼应前面"read -t 10"中的10秒钟要输入内容的限制</code></div><div class="line number129 index128 alt2"><code class="bash keyword">do</code></div><div class="line number130 index129 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">read_input</code></div><div class="line number131 index130 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">show_status</code></div><div class="line number132 index131 alt1"><code class="bash keyword">if</code> <code class="bash plain">[ $i -</code><code class="bash keyword">eq</code> <code class="bash plain">10 ]; </code><code class="bash keyword">then</code></div><div class="line number133 index132 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"已经到达查询的最大次数，脚本退出;"</code></div><div class="line number134 index133 alt1"><code class="bash keyword">fi</code></div><div class="line number135 index134 alt2"><code class="bash keyword">done</code></div><div class="line number136 index135 alt1">&nbsp;</div><div class="line number137 index136 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number138 index137 alt1"><code class="bash plain">check system run status</code></div><div class="line number139 index138 alt2"><code class="bash plain">show CPUinfo: C</code><code class="bash plain">/c</code></div><div class="line number140 index139 alt1"><code class="bash plain">show Memery used: M</code><code class="bash plain">/m</code></div><div class="line number141 index140 alt2"><code class="bash plain">show Disk use status: D</code><code class="bash plain">/n</code></div><div class="line number142 index141 alt1"><code class="bash plain">show System user login: U</code><code class="bash plain">/n</code></div><div class="line number143 index142 alt2"><code class="bash plain">show System load average:L</code><code class="bash plain">/l</code></div><div class="line number144 index143 alt1"><code class="bash plain">show System Ip address: I</code><code class="bash plain">/i</code></div><div class="line number145 index144 alt2"><code class="bash plain">please Input C</code><code class="bash plain">/M/D/U/L/I</code> <code class="bash plain">: c</code></div><div class="line number146 index145 alt1"><code class="bash plain">model name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : Intel(R) Xeon(R) CPU E5-2640 v4 @ 2.40GHz</code></div><div class="line number147 index146 alt2"><code class="bash plain">model name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : Intel(R) Xeon(R) CPU E5-2640 v4 @ 2.40GHz</code></div><div class="line number148 index147 alt1"><code class="bash plain">model name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : Intel(R) Xeon(R) CPU E5-2640 v4 @ 2.40GHz</code></div><div class="line number149 index148 alt2"><code class="bash plain">model name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; : Intel(R) Xeon(R) CPU E5-2640 v4 @ 2.40GHz</code></div><div class="line number150 index149 alt1"><code class="bash plain">please Input C</code><code class="bash plain">/M/D/U/L/I</code> <code class="bash plain">: m&nbsp;&nbsp; </code></div><div class="line number151 index150 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">total&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; used&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash functions">free</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash plain">shared&nbsp; buff</code><code class="bash plain">/cache</code>&nbsp;&nbsp; <code class="bash plain">available</code></div><div class="line number152 index151 alt1"><code class="bash plain">Mem:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 7815&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
250&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
5826&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
56&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
1738&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5102</code></div><div class="line number153 index152 alt2"><code class="bash plain">Swap:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 2047&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2047</code></div><div class="line number154 index153 alt1"><code class="bash plain">please Input C</code><code class="bash plain">/M/D/U/L/I</code> <code class="bash plain">: d</code></div><div class="line number155 index154 alt2"><code class="bash plain">Filesystem&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 Size&nbsp; Used Avail Use% Mounted on</code></div><div class="line number156 index155 alt1"><code class="bash plain">devtmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 3.9G&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp; 3.9G&nbsp;&nbsp; 0% </code><code class="bash plain">/dev</code></div><div class="line number157 index156 alt2"><code class="bash plain">tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 3.9G&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp; 3.9G&nbsp;&nbsp; 0% </code><code class="bash plain">/dev/shm</code></div><div class="line number158 index157 alt1"><code class="bash plain">tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 3.9G&nbsp;&nbsp; 57M&nbsp; 3.8G&nbsp;&nbsp; 2% </code><code class="bash plain">/run</code></div><div class="line number159 index158 alt2"><code class="bash plain">tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 3.9G&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp; 3.9G&nbsp;&nbsp; 0% </code><code class="bash plain">/sys/fs/cgroup</code></div><div class="line number160 index159 alt1"><code class="bash plain">/dev/mapper/centos-root</code>&nbsp;&nbsp; <code class="bash plain">20G&nbsp; 3.2G&nbsp;&nbsp; 17G&nbsp; 16% /</code></div><div class="line number161 index160 alt2"><code class="bash plain">/dev/mapper/centos-data</code>&nbsp;&nbsp; <code class="bash plain">78G&nbsp;&nbsp; 33M&nbsp;&nbsp; 78G&nbsp;&nbsp; 1% </code><code class="bash plain">/data</code></div><div class="line number162 index161 alt1"><code class="bash plain">/dev/xvda1</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash plain">197M&nbsp; 166M&nbsp;&nbsp; 32M&nbsp; 85% </code><code class="bash plain">/boot</code></div><div class="line number163 index162 alt2"><code class="bash plain">tmpfs&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 782M&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp; 782M&nbsp;&nbsp; 0% </code><code class="bash plain">/run/user/0</code></div><div class="line number164 index163 alt1"><code class="bash plain">please Input C</code><code class="bash plain">/M/D/U/L/I</code> <code class="bash plain">: u&nbsp;&nbsp; </code></div><div class="line number165 index164 alt2"><code class="bash spaces">&nbsp;</code><code class="bash plain">11:07:27 up 31 days, 17:24,&nbsp; 2 </code><code class="bash functions">users</code><code class="bash plain">,&nbsp; load average: 0.00, 0.01, 0.05</code></div><div class="line number166 index165 alt1"><code class="bash plain">USER&nbsp;&nbsp;&nbsp;&nbsp;
 TTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 
FROM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 LOGIN@&nbsp;&nbsp; IDLE&nbsp;&nbsp; JCPU&nbsp;&nbsp; PCPU WHAT</code></div><div class="line number167 index166 alt2"><code class="bash plain">root&nbsp;&nbsp;&nbsp;&nbsp;
 
tty1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 30Oct19 31days&nbsp; 0.03s&nbsp; 0.03s -</code><code class="bash functions">bash</code></div><div class="line number168 index167 alt1"><code class="bash plain">root&nbsp;&nbsp;&nbsp;&nbsp; pts</code><code class="bash plain">/0</code>&nbsp;&nbsp;&nbsp; <code class="bash plain">172.16.198.22&nbsp;&nbsp;&nbsp; 09:57&nbsp;&nbsp;&nbsp; 7.00s&nbsp; 0.18s&nbsp; 0.00s w</code></div><div class="line number169 index168 alt2"><code class="bash plain">please Input C</code><code class="bash plain">/M/D/U/L/I</code> <code class="bash plain">: l</code></div><div class="line number170 index169 alt1"><code class="bash spaces">&nbsp;</code><code class="bash plain">load average: 0.00, 0.01,</code></div><div class="line number171 index170 alt2"><code class="bash plain">please Input C</code><code class="bash plain">/M/D/U/L/I</code> <code class="bash plain">: i</code></div><div class="line number172 index171 alt1"><code class="bash plain">172.16.60.236</code></div><div class="line number173 index172 alt2"><code class="bash plain">please Input C</code><code class="bash plain">/M/D/U/L/I</code> <code class="bash plain">: a</code></div><div class="line number174 index173 alt1"><code class="bash plain">The characters you have entered are wrong. Please </code><code class="bash functions">look</code> <code class="bash plain">at the hints</code></div><div class="line number175 index174 alt2"><code class="bash plain">please Input C</code><code class="bash plain">/M/D/U/L/I</code> <code class="bash plain">: The characters you have entered are wrong. Please </code><code class="bash functions">look</code> <code class="bash plain">at the hints</code></div><div class="line number176 index175 alt1"><code class="bash plain">please Input C</code><code class="bash plain">/M/D/U/L/I</code> <code class="bash plain">: The characters you have entered are wrong. Please </code><code class="bash functions">look</code> <code class="bash plain">at the hints</code></div><div class="line number177 index176 alt2"><code class="bash plain">please Input C</code><code class="bash plain">/M/D/U/L/I</code> <code class="bash plain">: The characters you have entered are wrong. Please </code><code class="bash functions">look</code> <code class="bash plain">at the hints</code></div><div class="line number178 index177 alt1"><code class="bash plain">已经到达查询的最大次数，脚本退出;</code></div><div class="line number179 index178 alt2">&nbsp;</div><div class="line number180 index179 alt1"><code class="bash plain">案例3: </code></div><div class="line number181 index180 alt2"><code class="bash plain">有时经常会使用比较长的</code><code class="bash keyword">if</code><code class="bash plain">，</code><code class="bash keyword">then</code><code class="bash plain">，</code><code class="bash keyword">else</code><code class="bash plain">来尝试计算一个变量的值，在一组可能的值中寻找特定值。其实这种情况如果使用</code><code class="bash keyword">case</code><code class="bash plain">遇见就会变得简单的多了！</code></div><div class="line number182 index181 alt1"><code class="bash plain">使用多个</code><code class="bash keyword">if</code><code class="bash plain">判断来一一核对，代码量比较多，还容易乱。用</code><code class="bash keyword">case</code><code class="bash plain">的话，能减少代码量，不需要再写出所有的</code><code class="bash keyword">elif</code><code class="bash plain">语句来不停地检查同一个变量的值了。</code><code class="bash keyword">case</code><code class="bash plain">命</code></div><div class="line number183 index182 alt2"><code class="bash plain">令会采用列表格式来检查单个变量的多个值。如下两种方法效果一样：</code></div><div class="line number184 index183 alt1">&nbsp;</div><div class="line number185 index184 alt2"><code class="bash keyword">if</code><code class="bash plain">判断语句写法：</code></div><div class="line number186 index185 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number187 index186 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number188 index187 alt1">&nbsp;</div><div class="line number189 index188 alt2"><code class="bash plain">USER=$1</code></div><div class="line number190 index189 alt1"><code class="bash keyword">if</code> <code class="bash plain">[ $USER = </code><code class="bash string">"kevin"</code> <code class="bash plain">];</code><code class="bash keyword">then</code></div><div class="line number191 index190 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"Welcome $USER,Please enjoy your visit"</code></div><div class="line number192 index191 alt1"><code class="bash keyword">elif</code> <code class="bash plain">[ $USER = </code><code class="bash string">"grace"</code> <code class="bash plain">];</code><code class="bash keyword">then</code></div><div class="line number193 index192 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"Welcome $USER,Please enjoy your visit"</code></div><div class="line number194 index193 alt1"><code class="bash keyword">elif</code> <code class="bash plain">[ $USER = </code><code class="bash string">"xiaoru"</code> <code class="bash plain">];</code><code class="bash keyword">then</code></div><div class="line number195 index194 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"Special testing account"</code></div><div class="line number196 index195 alt1"><code class="bash keyword">elif</code> <code class="bash plain">[ $USER = </code><code class="bash string">"shibo"</code> <code class="bash plain">];</code><code class="bash keyword">then</code></div><div class="line number197 index196 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"Do not forget to logout when you're done"</code></div><div class="line number198 index197 alt1"><code class="bash keyword">else</code></div><div class="line number199 index198 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"Sorry, you are not allowed here"</code></div><div class="line number200 index199 alt1"><code class="bash keyword">fi</code></div><div class="line number201 index200 alt2">&nbsp;</div><div class="line number202 index201 alt1"><code class="bash keyword">case</code><code class="bash plain">语句写法：</code></div><div class="line number203 index202 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh </code></div><div class="line number204 index203 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number205 index204 alt2">&nbsp;</div><div class="line number206 index205 alt1"><code class="bash plain">USER=$1</code></div><div class="line number207 index206 alt2"><code class="bash keyword">case</code> <code class="bash plain">${USER} </code><code class="bash keyword">in</code></div><div class="line number208 index207 alt1"><code class="bash plain">kevin|grace)</code></div><div class="line number209 index208 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"Welcome $USER,Please enjoy your visit"</code><code class="bash plain">;;</code></div><div class="line number210 index209 alt1"><code class="bash plain">xiaoru)</code></div><div class="line number211 index210 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"Special testing account"</code><code class="bash plain">;;</code></div><div class="line number212 index211 alt1"><code class="bash plain">shibo)</code></div><div class="line number213 index212 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"Do not forget to logout when you're done"</code><code class="bash plain">;;</code></div><div class="line number214 index213 alt1"><code class="bash plain">*)</code></div><div class="line number215 index214 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"Sorry, you are not allowed here"</code><code class="bash plain">;;</code></div><div class="line number216 index215 alt1"><code class="bash keyword">esac</code></div><div class="line number217 index216 alt2">&nbsp;</div><div class="line number218 index217 alt1"><code class="bash plain">示例三: </code></div><div class="line number219 index218 alt2"><code class="bash keyword">case</code><code class="bash plain">语句经常会使用在应用服务的一键部署脚本中。</code></div><div class="line number220 index219 alt1"><code class="bash plain">比如：https:</code><code class="bash plain">//www</code><code class="bash plain">.cnblogs.com</code><code class="bash plain">/kevingrace/p/6086426</code><code class="bash plain">.html</code></div><div class="line number221 index220 alt2"><code class="bash plain">---------------------------------------------------------------------</code></div><div class="line number222 index221 alt1">&nbsp;</div><div class="line number223 index222 alt2"><code class="bash plain">示例四：</code></div><div class="line number224 index223 alt1"><code class="bash plain">结合shell的"</code><code class="bash keyword">function</code><code class="bash plain">函数+</code><code class="bash keyword">if</code><code class="bash plain">逻辑判断+</code><code class="bash keyword">case</code><code class="bash plain">选择语句</code></div><div class="line number225 index224 alt2"><code class="bash plain">---------------------------------------------------------------------</code></div><div class="line number226 index225 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh </code></div><div class="line number227 index226 alt2"><code class="bash preprocessor bold">#!/bin/bash </code></div><div class="line number228 index227 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number229 index228 alt2"><code class="bash keyword">function</code> <code class="bash plain">OPS(){&nbsp;&nbsp; </code><code class="bash comments">#定义一个OPS的函数</code></div><div class="line number230 index229 alt1"><code class="bash functions">cat</code> <code class="bash plain">&lt;&lt; kevin_test</code></div><div class="line number231 index230 alt2"><code class="bash plain">1.北京</code></div><div class="line number232 index231 alt1"><code class="bash plain">2.上海 </code></div><div class="line number233 index232 alt2"><code class="bash plain">3.深圳 </code></div><div class="line number234 index233 alt1"><code class="bash plain">kevin_test</code></div><div class="line number235 index234 alt2"><code class="bash plain">} </code></div><div class="line number236 index235 alt1"><code class="bash plain">OPS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#调用CDAN函数 </code></div><div class="line number237 index236 alt2"><code class="bash functions">read</code> <code class="bash plain">-p </code><code class="bash string">"请输入您想要去的地方: "</code> <code class="bash plain">WHERE&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#输入一条提示，然后把用户输入的字符串赋值给变量WHERE</code></div><div class="line number238 index237 alt1"><code class="bash functions">expr</code> <code class="bash plain">${WHERE} + 1 &gt;</code><code class="bash plain">/dev/null</code> <code class="bash plain">2&gt;&amp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#使用数值运算命令expr来确定用户输入的是否是数值</code></div><div class="line number239 index238 alt2"><code class="bash keyword">if</code> <code class="bash plain">[ </code><code class="bash string">"$?"</code> <code class="bash plain">-</code><code class="bash keyword">ne</code> <code class="bash plain">0 ];</code><code class="bash keyword">then</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash comments">#如果用户输入的不是数值&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number240 index239 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"请您输入{1|2|3}"</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div class="line number241 index240 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash functions">exit</code> <code class="bash plain">1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number242 index241 alt1"><code class="bash keyword">fi</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div class="line number243 index242 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number244 index243 alt1"><code class="bash keyword">case</code> <code class="bash plain">${WHERE} </code><code class="bash keyword">in</code>&nbsp;&nbsp;&nbsp;&nbsp;</div><div class="line number245 index244 alt2"><code class="bash plain">1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number246 index245 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"明天去北京!"</code>&nbsp;&nbsp;&nbsp;&nbsp;</div><div class="line number247 index246 alt2"><code class="bash plain">;; </code></div><div class="line number248 index247 alt1"><code class="bash plain">2)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number249 index248 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"明天去上海!"</code>&nbsp;&nbsp;</div><div class="line number250 index249 alt1"><code class="bash plain">;; </code></div><div class="line number251 index250 alt2"><code class="bash plain">3)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number252 index251 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"明天去深圳!"</code></div><div class="line number253 index252 alt2"><code class="bash plain">;; </code></div><div class="line number254 index253 alt1"><code class="bash keyword">esac</code>&nbsp;&nbsp;</div><div class="line number255 index254 alt2">&nbsp;</div><div class="line number256 index255 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number257 index256 alt2"><code class="bash plain">1.北京</code></div><div class="line number258 index257 alt1"><code class="bash plain">2.上海 </code></div><div class="line number259 index258 alt2"><code class="bash plain">3.深圳 </code></div><div class="line number260 index259 alt1"><code class="bash plain">请输入您想要去的地方: 1</code></div><div class="line number261 index260 alt2"><code class="bash plain">明天去北京!</code></div><div class="line number262 index261 alt1">&nbsp;</div><div class="line number263 index262 alt2"><code class="bash plain">示例五：</code></div><div class="line number264 index263 alt1"><code class="bash plain">再来分享一例shell的</code><code class="bash keyword">case</code><code class="bash plain">循环用法</code></div><div class="line number265 index264 alt2"><code class="bash plain">---------------------------------------------------------------------</code></div><div class="line number266 index265 alt1"><code class="bash plain">要求：</code></div><div class="line number267 index266 alt2"><code class="bash plain">输入a|A显示出红色的本机IP</code></div><div class="line number268 index267 alt1"><code class="bash plain">输入b|B显示出绿色的本机磁盘的剩余内存</code></div><div class="line number269 index268 alt2"><code class="bash plain">输入c|C显示出黄色的系统运行时间</code></div><div class="line number270 index269 alt1"><code class="bash plain">输入 q|Q显示出蓝色的直接退出</code></div><div class="line number271 index270 alt2">&nbsp;</div><div class="line number272 index271 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh </code></div><div class="line number273 index272 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number274 index273 alt1"><code class="bash keyword">while</code> <code class="bash functions">true</code></div><div class="line number275 index274 alt2"><code class="bash keyword">do</code></div><div class="line number276 index275 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">-e "</code></div><div class="line number277 index276 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">\033[31m A 显示主机ip \033[0m</code></div><div class="line number278 index277 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">\033[32m B 显示磁盘剩余空间 \033[0m</code></div><div class="line number279 index278 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">\033[33m C 显示系统运行时间 \033[0m</code></div><div class="line number280 index279 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">\033[34m Q 退出系统 \033[0m</code></div><div class="line number281 index280 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">"</code></div><div class="line number282 index281 alt1"><code class="bash functions">read</code> <code class="bash plain">-p </code><code class="bash string">"请输入你的选择："</code> <code class="bash plain">char</code></div><div class="line number283 index282 alt2"><code class="bash keyword">case</code> <code class="bash plain">${char} </code><code class="bash keyword">in</code></div><div class="line number284 index283 alt1"><code class="bash plain">a|A)</code></div><div class="line number285 index284 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">-e </code><code class="bash string">"\033[31m `ifconfig eth0 | grep "</code><code class="bash plain">netmask</code><code class="bash string">" | awk '{print $2}'` \033[0m"</code></div><div class="line number286 index285 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number287 index286 alt2"><code class="bash plain">b|B)</code></div><div class="line number288 index287 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">-e </code><code class="bash string">"\033[32m `df -h | awk 'NR==2{print "</code><code class="bash plain">剩余空间大小为：</code><code class="bash string">"$4}'` \033[0m"</code></div><div class="line number289 index288 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number290 index289 alt1"><code class="bash plain">c|C)</code></div><div class="line number291 index290 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">-e </code><code class="bash string">"\033[33m `uptime | awk '{print "</code><code class="bash plain">系统已经运行了</code><code class="bash string">"$3"</code><code class="bash string">"$4"</code><code class="bash string">"}'` \033[0m"</code></div><div class="line number292 index291 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number293 index292 alt2"><code class="bash plain">q|Q)</code></div><div class="line number294 index293 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">exit</code> <code class="bash plain">0</code></div><div class="line number295 index294 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number296 index295 alt1"><code class="bash plain">*)</code></div><div class="line number297 index296 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"请输入A/B/C/Q"</code></div><div class="line number298 index297 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">;;</code></div><div class="line number299 index298 alt2"><code class="bash keyword">esac</code></div><div class="line number300 index299 alt1"><code class="bash keyword">done</code></div><div class="line number301 index300 alt2">&nbsp;</div><div class="line number302 index301 alt1">&nbsp;</div><div class="line number303 index302 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number304 index303 alt1">&nbsp;</div><div class="line number305 index304 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">A 显示主机ip </code></div><div class="line number306 index305 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">B 显示磁盘剩余空间 </code></div><div class="line number307 index306 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">C 显示系统运行时间 </code></div><div class="line number308 index307 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">Q 退出系统 </code></div><div class="line number309 index308 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number310 index309 alt1"><code class="bash plain">请输入你的选择：a</code></div><div class="line number311 index310 alt2"><code class="bash spaces">&nbsp;</code><code class="bash plain">172.16.60.238 </code></div><div class="line number312 index311 alt1">&nbsp;</div><div class="line number313 index312 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">A 显示主机ip </code></div><div class="line number314 index313 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">B 显示磁盘剩余空间 </code></div><div class="line number315 index314 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">C 显示系统运行时间 </code></div><div class="line number316 index315 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">Q 退出系统 </code></div><div class="line number317 index316 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number318 index317 alt1"><code class="bash plain">请输入你的选择：b</code></div><div class="line number319 index318 alt2"><code class="bash spaces">&nbsp;</code><code class="bash plain">剩余空间大小为：3.9G </code></div><div class="line number320 index319 alt1">&nbsp;</div><div class="line number321 index320 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">A 显示主机ip </code></div><div class="line number322 index321 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">B 显示磁盘剩余空间 </code></div><div class="line number323 index322 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">C 显示系统运行时间 </code></div><div class="line number324 index323 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">Q 退出系统 </code></div><div class="line number325 index324 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number326 index325 alt1"><code class="bash plain">请输入你的选择：c</code></div><div class="line number327 index326 alt2"><code class="bash spaces">&nbsp;</code><code class="bash plain">系统已经运行了32days, </code></div><div class="line number328 index327 alt1">&nbsp;</div><div class="line number329 index328 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">A 显示主机ip </code></div><div class="line number330 index329 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">B 显示磁盘剩余空间 </code></div><div class="line number331 index330 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">C 显示系统运行时间 </code></div><div class="line number332 index331 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">Q 退出系统 </code></div><div class="line number333 index332 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number334 index333 alt1"><code class="bash plain">请输入你的选择：d</code></div><div class="line number335 index334 alt2"><code class="bash plain">请输入A</code><code class="bash plain">/B/C/Q</code></div><div class="line number336 index335 alt1">&nbsp;</div><div class="line number337 index336 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">A 显示主机ip </code></div><div class="line number338 index337 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">B 显示磁盘剩余空间 </code></div><div class="line number339 index338 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">C 显示系统运行时间 </code></div><div class="line number340 index339 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">Q 退出系统 </code></div><div class="line number341 index340 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number342 index341 alt1"><code class="bash plain">请输入你的选择：q</code></div><div class="line number343 index342 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># </code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">12）Shell的&nbsp;<span style="color: rgba(255, 0, 255, 1)">for、case、while&nbsp;</span>循环流程控制语句用法</span></strong><br>shell作为一种脚本编程语言，同样包含循环、分支等其他程序控制结构，从而轻松完成更加复杂、强大的功能。</p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_259288" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div><div class="line number169 index168 alt2">169</div><div class="line number170 index169 alt1">170</div><div class="line number171 index170 alt2">171</div><div class="line number172 index171 alt1">172</div><div class="line number173 index172 alt2">173</div><div class="line number174 index173 alt1">174</div><div class="line number175 index174 alt2">175</div><div class="line number176 index175 alt1">176</div><div class="line number177 index176 alt2">177</div><div class="line number178 index177 alt1">178</div><div class="line number179 index178 alt2">179</div><div class="line number180 index179 alt1">180</div><div class="line number181 index180 alt2">181</div><div class="line number182 index181 alt1">182</div><div class="line number183 index182 alt2">183</div><div class="line number184 index183 alt1">184</div><div class="line number185 index184 alt2">185</div><div class="line number186 index185 alt1">186</div><div class="line number187 index186 alt2">187</div><div class="line number188 index187 alt1">188</div><div class="line number189 index188 alt2">189</div><div class="line number190 index189 alt1">190</div><div class="line number191 index190 alt2">191</div><div class="line number192 index191 alt1">192</div><div class="line number193 index192 alt2">193</div><div class="line number194 index193 alt1">194</div><div class="line number195 index194 alt2">195</div><div class="line number196 index195 alt1">196</div><div class="line number197 index196 alt2">197</div><div class="line number198 index197 alt1">198</div><div class="line number199 index198 alt2">199</div><div class="line number200 index199 alt1">200</div><div class="line number201 index200 alt2">201</div><div class="line number202 index201 alt1">202</div><div class="line number203 index202 alt2">203</div><div class="line number204 index203 alt1">204</div><div class="line number205 index204 alt2">205</div><div class="line number206 index205 alt1">206</div><div class="line number207 index206 alt2">207</div><div class="line number208 index207 alt1">208</div><div class="line number209 index208 alt2">209</div><div class="line number210 index209 alt1">210</div><div class="line number211 index210 alt2">211</div><div class="line number212 index211 alt1">212</div><div class="line number213 index212 alt2">213</div><div class="line number214 index213 alt1">214</div><div class="line number215 index214 alt2">215</div><div class="line number216 index215 alt1">216</div><div class="line number217 index216 alt2">217</div><div class="line number218 index217 alt1">218</div><div class="line number219 index218 alt2">219</div><div class="line number220 index219 alt1">220</div><div class="line number221 index220 alt2">221</div><div class="line number222 index221 alt1">222</div><div class="line number223 index222 alt2">223</div><div class="line number224 index223 alt1">224</div><div class="line number225 index224 alt2">225</div><div class="line number226 index225 alt1">226</div><div class="line number227 index226 alt2">227</div><div class="line number228 index227 alt1">228</div><div class="line number229 index228 alt2">229</div><div class="line number230 index229 alt1">230</div><div class="line number231 index230 alt2">231</div><div class="line number232 index231 alt1">232</div><div class="line number233 index232 alt2">233</div><div class="line number234 index233 alt1">234</div><div class="line number235 index234 alt2">235</div><div class="line number236 index235 alt1">236</div><div class="line number237 index236 alt2">237</div><div class="line number238 index237 alt1">238</div><div class="line number239 index238 alt2">239</div><div class="line number240 index239 alt1">240</div><div class="line number241 index240 alt2">241</div><div class="line number242 index241 alt1">242</div><div class="line number243 index242 alt2">243</div><div class="line number244 index243 alt1">244</div><div class="line number245 index244 alt2">245</div><div class="line number246 index245 alt1">246</div><div class="line number247 index246 alt2">247</div><div class="line number248 index247 alt1">248</div><div class="line number249 index248 alt2">249</div><div class="line number250 index249 alt1">250</div><div class="line number251 index250 alt2">251</div><div class="line number252 index251 alt1">252</div><div class="line number253 index252 alt2">253</div><div class="line number254 index253 alt1">254</div><div class="line number255 index254 alt2">255</div><div class="line number256 index255 alt1">256</div><div class="line number257 index256 alt2">257</div><div class="line number258 index257 alt1">258</div><div class="line number259 index258 alt2">259</div><div class="line number260 index259 alt1">260</div><div class="line number261 index260 alt2">261</div><div class="line number262 index261 alt1">262</div><div class="line number263 index262 alt2">263</div><div class="line number264 index263 alt1">264</div><div class="line number265 index264 alt2">265</div><div class="line number266 index265 alt1">266</div><div class="line number267 index266 alt2">267</div><div class="line number268 index267 alt1">268</div><div class="line number269 index268 alt2">269</div><div class="line number270 index269 alt1">270</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">编写脚本的思路</code></div><div class="line number2 index1 alt1"><code class="bash plain">1. 明确脚本的功能</code></div><div class="line number3 index2 alt2"><code class="bash plain">2. 编写脚本时会使用到那些命令</code></div><div class="line number4 index3 alt1"><code class="bash plain">3. 把变化的数据使用变量表示</code></div><div class="line number5 index4 alt2"><code class="bash plain">4. 选择适合的流程控制&nbsp; （选择 、 循环 、分支）</code></div><div class="line number6 index5 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number7 index6 alt2"><code class="bash plain">一、使用</code><code class="bash keyword">for</code><code class="bash plain">循环语句</code></div><div class="line number8 index7 alt1"><code class="bash plain">========================================================================================================</code></div><div class="line number9 index8 alt2"><code class="bash plain">在工作中，经常遇到某项任务需要多次执行，而每次执行仅仅是处理对象不一样，其他命令都相同。使用简单的</code><code class="bash keyword">if</code><code class="bash plain">语句已经难以满足要求，</code></div><div class="line number10 index9 alt1"><code class="bash plain">编写全部代码将困难重重，而</code><code class="bash keyword">for</code><code class="bash plain">循环语句将很好的解决类似的问题。</code></div><div class="line number11 index10 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="bash keyword">for</code><code class="bash plain">语句的结构&nbsp;&nbsp; </code></div><div class="line number13 index12 alt2"><code class="bash plain">使用</code><code class="bash keyword">for</code><code class="bash plain">循环语句时，需要指定一个变量及可能的取值列表，针对每一个不同的取值重复执行相同的命令，直到变量值用完退出循环。</code></div><div class="line number14 index13 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number15 index14 alt2"><code class="bash keyword">for</code><code class="bash plain">的语法结构：</code></div><div class="line number16 index15 alt1"><code class="bash keyword">for</code><code class="bash plain">;</code><code class="bash keyword">do</code><code class="bash plain">;</code><code class="bash keyword">done</code></div><div class="line number17 index16 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number18 index17 alt1"><code class="bash plain">语法格式：</code></div><div class="line number19 index18 alt2"><code class="bash keyword">for</code> <code class="bash plain">变量名 </code><code class="bash keyword">in</code> <code class="bash plain">列表内容</code></div><div class="line number20 index19 alt1"><code class="bash keyword">do</code></div><div class="line number21 index20 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">commands</code></div><div class="line number22 index21 alt1"><code class="bash keyword">done</code></div><div class="line number23 index22 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number24 index23 alt1"><code class="bash plain">或者</code></div><div class="line number25 index24 alt2"><code class="bash keyword">for</code> <code class="bash plain">变量名 </code><code class="bash keyword">in</code> <code class="bash plain">列表内容 ;</code><code class="bash keyword">do</code></div><div class="line number26 index25 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">commands</code></div><div class="line number27 index26 alt2"><code class="bash keyword">done</code></div><div class="line number28 index27 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number29 index28 alt2"><code class="bash plain">示例1）：使用嵌套循环输出99乘法表</code></div><div class="line number30 index29 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number31 index30 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number32 index31 alt1"><code class="bash keyword">for</code> <code class="bash plain">i </code><code class="bash keyword">in</code> <code class="bash plain">`</code><code class="bash functions">seq</code> <code class="bash plain">9`</code></div><div class="line number33 index32 alt2"><code class="bash keyword">do</code></div><div class="line number34 index33 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">for</code> <code class="bash plain">j </code><code class="bash keyword">in</code> <code class="bash plain">`</code><code class="bash functions">seq</code> <code class="bash plain">9`</code></div><div class="line number35 index34 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">do</code></div><div class="line number36 index35 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">[ $j -</code><code class="bash keyword">le</code> <code class="bash plain">$i ] &amp;&amp; </code><code class="bash functions">echo</code> <code class="bash plain">-n </code><code class="bash string">"$j x $i = `echo $(($j*$i))`&nbsp; "</code>&nbsp;&nbsp; <code class="bash comments">#如果j 小与等于i才会打印式子。注意后面双引号后面要有一个空格，表示下面执行时各列间的空格。</code></div><div class="line number37 index36 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">done</code></div><div class="line number38 index37 alt1"><code class="bash functions">echo</code> <code class="bash string">""</code></div><div class="line number39 index38 alt2"><code class="bash keyword">done</code></div><div class="line number40 index39 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number41 index40 alt2"><code class="bash plain">注意：外层循环循环行，内层循环循环列。$(())返回的是里面运算结果；</code><code class="bash functions">echo</code> <code class="bash plain">-n表示不换行</code></div><div class="line number42 index41 alt1"><code class="bash plain">规律:&nbsp; 内层循环的变量&lt;=外层循环的变量</code></div><div class="line number43 index42 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number44 index43 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number45 index44 alt2"><code class="bash plain">1 x 1 = 1 </code></div><div class="line number46 index45 alt1"><code class="bash plain">2 x 1 = 2&nbsp; 2 x 2 = 4 </code></div><div class="line number47 index46 alt2"><code class="bash plain">3 x 1 = 3&nbsp; 3 x 2 = 6&nbsp; 3 x 3 = 9 </code></div><div class="line number48 index47 alt1"><code class="bash plain">4 x 1 = 4&nbsp; 4 x 2 = 8&nbsp; 4 x 3 = 12&nbsp; 4 x 4 = 16 </code></div><div class="line number49 index48 alt2"><code class="bash plain">5 x 1 = 5&nbsp; 5 x 2 = 10&nbsp; 5 x 3 = 15&nbsp; 5 x 4 = 20&nbsp; 5 x 5 = 25 </code></div><div class="line number50 index49 alt1"><code class="bash plain">6 x 1 = 6&nbsp; 6 x 2 = 12&nbsp; 6 x 3 = 18&nbsp; 6 x 4 = 24&nbsp; 6 x 5 = 30&nbsp; 6 x 6 = 36 </code></div><div class="line number51 index50 alt2"><code class="bash plain">7 x 1 = 7&nbsp; 7 x 2 = 14&nbsp; 7 x 3 = 21&nbsp; 7 x 4 = 28&nbsp; 7 x 5 = 35&nbsp; 7 x 6 = 42&nbsp; 7 x 7 = 49 </code></div><div class="line number52 index51 alt1"><code class="bash plain">8
 x 1 = 8&nbsp; 8 x 2 = 16&nbsp; 8 x 3 = 24&nbsp; 8 x 4 = 32&nbsp; 8 x 5 =
 40&nbsp; 8 x 6 = 48&nbsp; 8 x 7 = 56&nbsp; 8 x 8 = 64 </code></div><div class="line number53 index52 alt2"><code class="bash plain">9
 x 1 = 9&nbsp; 9 x 2 = 18&nbsp; 9 x 3 = 27&nbsp; 9 x 4 = 36&nbsp; 9 x 5 =
 45&nbsp; 9 x 6 = 54&nbsp; 9 x 7 = 63&nbsp; 9 x 8 = 72&nbsp; 9 x 9 = 81</code></div><div class="line number54 index53 alt1">&nbsp;</div><div class="line number55 index54 alt2"><code class="bash plain">示例2）：根据IP地址检查主机状态</code></div><div class="line number56 index55 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># vim test.sh</code></div><div class="line number57 index56 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number58 index57 alt1"><code class="bash keyword">for</code> <code class="bash plain">NUM </code><code class="bash keyword">in</code> <code class="bash plain">$(</code><code class="bash functions">seq</code> <code class="bash plain">1 254)&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#或者直接"seq 254" 或者 "seq 10 30"用于一段ip</code></div><div class="line number59 index58 alt2"><code class="bash keyword">do</code></div><div class="line number60 index59 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash plain">IP=172.16.60.${NUM}</code></div><div class="line number61 index60 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash comments"># -c表示ping的次数，-i表示时间间隔（秒），</code></div><div class="line number62 index61 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">ping</code> <code class="bash plain">-c 3 -i 0.2&nbsp; $IP &amp;&gt; </code><code class="bash plain">/dev/null</code></div><div class="line number63 index62 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">if</code> <code class="bash plain">[ $? -</code><code class="bash keyword">eq</code> <code class="bash plain">0 ];</code><code class="bash keyword">then</code></div><div class="line number64 index63 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"$IP is up"</code></div><div class="line number65 index64 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">else</code></div><div class="line number66 index65 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"$IP id down"</code></div><div class="line number67 index66 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">fi</code></div><div class="line number68 index67 alt1"><code class="bash keyword">done</code></div><div class="line number69 index68 alt2">&nbsp;</div><div class="line number70 index69 alt1"><code class="bash plain">示例3）：文件列表循环</code></div><div class="line number71 index70 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># vim test.sh</code></div><div class="line number72 index71 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number73 index72 alt2"><code class="bash functions">cd</code> <code class="bash plain">/etc/</code></div><div class="line number74 index73 alt1"><code class="bash keyword">for</code> <code class="bash plain">a </code><code class="bash keyword">in</code> <code class="bash plain">`</code><code class="bash functions">ls</code> <code class="bash plain">/etc/</code><code class="bash plain">`</code></div><div class="line number75 index74 alt2"><code class="bash keyword">do</code></div><div class="line number76 index75 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">if</code> <code class="bash plain">[ -d $a ]</code></div><div class="line number77 index76 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">then</code></div><div class="line number78 index77 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash functions">ls</code> <code class="bash plain">-d $a</code></div><div class="line number79 index78 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">fi</code></div><div class="line number80 index79 alt1"><code class="bash keyword">done</code></div><div class="line number81 index80 alt2">&nbsp;</div><div class="line number82 index81 alt1"><code class="bash plain">二、使用</code><code class="bash keyword">while</code><code class="bash plain">循环语句</code></div><div class="line number83 index82 alt2"><code class="bash plain">========================================================================================================</code></div><div class="line number84 index83 alt1"><code class="bash keyword">for</code><code class="bash plain">语句适用于列表对象无规律，且列表来源以固定的场合。而对于要求控制循环次数、操作对象按数字顺序编号、按特定的条件重复操作等情况，则更适合于</code><code class="bash keyword">while</code><code class="bash plain">循环语句。</code></div><div class="line number85 index84 alt2"><code class="bash keyword">while</code><code class="bash plain">循环：重复测试某个条件，只要条件成立，就重复执行命令，条件不成立，立即退出，自带判断；</code></div><div class="line number86 index85 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number87 index86 alt2"><code class="bash keyword">while</code><code class="bash plain">语句的结构</code></div><div class="line number88 index87 alt1"><code class="bash plain">使用</code><code class="bash keyword">while</code><code class="bash plain">循环语句时，可以根据特定的条件反复执行一个命令序列，直到该条件不在满足为止。</code></div><div class="line number89 index88 alt2"><code class="bash plain">需要注意：要避免出现</code><code class="bash keyword">while</code> <code class="bash plain">ture 的死循环！！！</code></div><div class="line number90 index89 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number91 index90 alt2"><code class="bash plain">语法格式如下：</code></div><div class="line number92 index91 alt1"><code class="bash keyword">while</code> <code class="bash plain">测试命令</code></div><div class="line number93 index92 alt2"><code class="bash keyword">do</code></div><div class="line number94 index93 alt1"><code class="bash plain">命令</code></div><div class="line number95 index94 alt2"><code class="bash keyword">done</code></div><div class="line number96 index95 alt1">&nbsp;</div><div class="line number97 index96 alt2"><code class="bash plain">退出</code><code class="bash keyword">while</code><code class="bash plain">循环体的三种方式：</code></div><div class="line number98 index97 alt1"><code class="bash plain">1. 条件为假退出循环体，继续执行循环体以外的命令；</code></div><div class="line number99 index98 alt2"><code class="bash plain">2. </code><code class="bash functions">exit</code><code class="bash plain">退出脚本，循环体外的命令不会执行；</code></div><div class="line number100 index99 alt1"><code class="bash plain">3. </code><code class="bash keyword">break</code><code class="bash plain">退出脚本中的循环体，继续执行循环体外的命令；</code></div><div class="line number101 index100 alt2">&nbsp;</div><div class="line number102 index101 alt1"><code class="bash plain">特殊条件表达式：</code></div><div class="line number103 index102 alt2"><code class="bash plain">1. </code><code class="bash functions">true</code> <code class="bash plain">：当条件表达式为</code><code class="bash functions">true</code><code class="bash plain">时，那么代表条件表达式永远成立，为真；</code></div><div class="line number104 index103 alt1"><code class="bash plain">2. </code><code class="bash functions">false</code><code class="bash plain">：当条件表达式为</code><code class="bash functions">false</code><code class="bash plain">时，那么条件表达式永远为假；</code></div><div class="line number105 index104 alt2">&nbsp;</div><div class="line number106 index105 alt1"><code class="bash plain">示例1）：降序输出10到1</code></div><div class="line number107 index106 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number108 index107 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number109 index108 alt2"><code class="bash plain">num=10</code></div><div class="line number110 index109 alt1"><code class="bash keyword">while</code> <code class="bash plain">[ ${num} -gt 0 ]</code></div><div class="line number111 index110 alt2"><code class="bash keyword">do</code></div><div class="line number112 index111 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"${num}"</code></div><div class="line number113 index112 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">num=$[${num}-1]</code></div><div class="line number114 index113 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments">#或者使用下面的表达式也可以，$(())或$[]都表示返回运算结果</code></div><div class="line number115 index114 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">num=$((${num}-1))</code></div><div class="line number116 index115 alt1"><code class="bash keyword">done</code></div><div class="line number117 index116 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number118 index117 alt1"><code class="bash plain">10</code></div><div class="line number119 index118 alt2"><code class="bash plain">9</code></div><div class="line number120 index119 alt1"><code class="bash plain">8</code></div><div class="line number121 index120 alt2"><code class="bash plain">7</code></div><div class="line number122 index121 alt1"><code class="bash plain">6</code></div><div class="line number123 index122 alt2"><code class="bash plain">5</code></div><div class="line number124 index123 alt1"><code class="bash plain">4</code></div><div class="line number125 index124 alt2"><code class="bash plain">3</code></div><div class="line number126 index125 alt1"><code class="bash plain">2</code></div><div class="line number127 index126 alt2"><code class="bash plain">1</code></div><div class="line number128 index127 alt1">&nbsp;</div><div class="line number129 index128 alt2"><code class="bash plain">示例2）：批量添加用户</code></div><div class="line number130 index129 alt1"><code class="bash plain">用户名称以kevin_开头，按照数字顺序进行编号</code></div><div class="line number131 index130 alt2"><code class="bash plain">添加10个用户，即kevin_1、kevin_2、...、kevin_10</code></div><div class="line number132 index131 alt1"><code class="bash plain">初始密码均设为123456</code></div><div class="line number133 index132 alt2"><code class="bash plain">[root@VM_16_9_centos ~]</code><code class="bash comments"># cat test.sh </code></div><div class="line number134 index133 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number135 index134 alt2"><code class="bash plain">UR=</code><code class="bash string">"kevin_"</code></div><div class="line number136 index135 alt1"><code class="bash plain">NUM=1</code></div><div class="line number137 index136 alt2"><code class="bash keyword">while</code> <code class="bash plain">[ ${NUM} -</code><code class="bash keyword">le</code> <code class="bash plain">10 ]</code></div><div class="line number138 index137 alt1"><code class="bash keyword">do</code></div><div class="line number139 index138 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">USER=${UR}${NUM}</code></div><div class="line number140 index139 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">useradd</code> <code class="bash plain">${USER}</code></div><div class="line number141 index140 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"123456"</code><code class="bash plain">|</code><code class="bash functions">passwd</code> <code class="bash plain">--stdin ${USER}</code></div><div class="line number142 index141 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">NUM=$((${NUM}+1))</code></div><div class="line number143 index142 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments">#或者使用let NUM++，效果等同于NUM=$((${NUM}+1))或者NUM=$[${NUM}+1]</code></div><div class="line number144 index143 alt1"><code class="bash keyword">done</code></div><div class="line number145 index144 alt2">&nbsp;</div><div class="line number146 index145 alt1"><code class="bash plain">示例3）判断输入的数要是数字</code></div><div class="line number147 index146 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number148 index147 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number149 index148 alt2"><code class="bash keyword">while</code> <code class="bash plain">:</code></div><div class="line number150 index149 alt1"><code class="bash keyword">do</code></div><div class="line number151 index150 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">read</code> <code class="bash plain">-p </code><code class="bash string">"Please input a number: "</code> <code class="bash plain">n</code></div><div class="line number152 index151 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">if</code> <code class="bash plain">[ -z </code><code class="bash string">"$n"</code> <code class="bash plain">];</code><code class="bash keyword">then</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash comments">#空串为真</code></div><div class="line number153 index152 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"you need input sth."</code></div><div class="line number154 index153 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">continue</code></div><div class="line number155 index154 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">fi</code></div><div class="line number156 index155 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">n1=`</code><code class="bash functions">echo</code> <code class="bash plain">$n|</code><code class="bash functions">sed</code> <code class="bash string">'s/[0-9]//g'</code><code class="bash plain">`</code></div><div class="line number157 index156 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">if</code> <code class="bash plain">[ -n </code><code class="bash string">"$n1"</code> <code class="bash plain">];</code><code class="bash keyword">then</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash comments">#非空串为真</code></div><div class="line number158 index157 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"you just only input numbers."</code></div><div class="line number159 index158 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">continue</code></div><div class="line number160 index159 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">fi</code></div><div class="line number161 index160 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">break</code></div><div class="line number162 index161 alt1"><code class="bash keyword">done</code></div><div class="line number163 index162 alt2"><code class="bash functions">echo</code> <code class="bash plain">$n</code></div><div class="line number164 index163 alt1">&nbsp;</div><div class="line number165 index164 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh </code></div><div class="line number166 index165 alt1"><code class="bash plain">Please input a number: 2</code></div><div class="line number167 index166 alt2"><code class="bash plain">2</code></div><div class="line number168 index167 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh </code></div><div class="line number169 index168 alt2"><code class="bash plain">Please input a number: 2a</code></div><div class="line number170 index169 alt1"><code class="bash plain">you just only input numbers.</code></div><div class="line number171 index170 alt2"><code class="bash plain">Please input a number: </code></div><div class="line number172 index171 alt1"><code class="bash plain">you need input sth.</code></div><div class="line number173 index172 alt2"><code class="bash plain">Please input a number: 5</code></div><div class="line number174 index173 alt1"><code class="bash plain">5</code></div><div class="line number175 index174 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number176 index175 alt1"><code class="bash plain">三、使用</code><code class="bash keyword">case</code><code class="bash plain">分支语句</code></div><div class="line number177 index176 alt2"><code class="bash plain">========================================================================================================</code></div><div class="line number178 index177 alt1"><code class="bash keyword">case</code><code class="bash plain">语句主要适用于以下情况：</code></div><div class="line number179 index178 alt2"><code class="bash plain">某个变量存在多种取值，需要对其中的每一种取值分别执行不同的命令序列。与多分支</code><code class="bash keyword">if</code><code class="bash plain">语句相识，只是</code><code class="bash keyword">if</code><code class="bash plain">语句需要判断多个不同的条件，而</code><code class="bash keyword">case</code><code class="bash plain">只是判断一个变量的不同取值</code></div><div class="line number180 index179 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number181 index180 alt2"><code class="bash plain">1) </code><code class="bash keyword">case</code><code class="bash plain">语句的结构如下：</code></div><div class="line number182 index181 alt1"><code class="bash keyword">case</code>&nbsp; <code class="bash plain">变量或表达式&nbsp; </code><code class="bash keyword">in</code></div><div class="line number183 index182 alt2"><code class="bash plain">变量或表达式1）</code></div><div class="line number184 index183 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash plain">命令序列1</code></div><div class="line number185 index184 alt2"><code class="bash plain">;;</code></div><div class="line number186 index185 alt1"><code class="bash plain">变量或表达式2）</code></div><div class="line number187 index186 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">命令序列2</code></div><div class="line number188 index187 alt1"><code class="bash plain">;;</code></div><div class="line number189 index188 alt2"><code class="bash plain">......</code></div><div class="line number190 index189 alt1"><code class="bash plain">*） </code></div><div class="line number191 index190 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">默认命令序列</code></div><div class="line number192 index191 alt1"><code class="bash plain">;;</code></div><div class="line number193 index192 alt2"><code class="bash keyword">esac</code></div><div class="line number194 index193 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number195 index194 alt2"><code class="bash plain">2) </code><code class="bash keyword">case</code><code class="bash plain">执行流程</code></div><div class="line number196 index195 alt1"><code class="bash plain">1. 首先使用</code><code class="bash string">"变量或表达式"</code><code class="bash plain">的值与值1进行比较，若取值相同则执行值1后的命令序列，直到遇见双分号</code><code class="bash string">";;"</code><code class="bash plain">后跳转至</code><code class="bash keyword">esac</code><code class="bash plain">，表示分支结束；</code></div><div class="line number197 index196 alt2"><code class="bash plain">2. 若与值1不相匹配，则继续与值2进行比较，若取值相同则执行值2后的命令序列，直到遇见双分号</code><code class="bash string">";;"</code><code class="bash plain">后跳转至</code><code class="bash keyword">esac</code><code class="bash plain">，表示结束分支;</code></div><div class="line number198 index197 alt1"><code class="bash plain">3. 依次类推，若找不到任何匹配的值，则执行默认模式</code><code class="bash string">"*)"</code><code class="bash plain">后的命令序列，直到遇见</code><code class="bash keyword">esac</code><code class="bash plain">后结束分支。</code></div><div class="line number199 index198 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number200 index199 alt1"><code class="bash plain">3) </code><code class="bash keyword">case</code><code class="bash plain">执行流程注意事项</code></div><div class="line number201 index200 alt2"><code class="bash plain">1. </code><code class="bash string">"变量或表达式"</code><code class="bash plain">后面必须为单词</code><code class="bash keyword">in</code><code class="bash plain">，每一个</code><code class="bash string">"变量或表达式"</code><code class="bash plain">的值必须以右括号结束。取值可以为变量或常数。匹配发现取值符合某一模式后，其间所有命令开始执行直至;;</code></div><div class="line number202 index201 alt1"><code class="bash plain">2. 匹配中的值可以是多个值，通过</code><code class="bash string">"|"</code><code class="bash plain">来分隔。</code></div><div class="line number203 index202 alt2"><code class="bash plain">3. 匹配中的值可以是正则。</code></div><div class="line number204 index203 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number205 index204 alt2"><code class="bash plain">示例1)：编写一个备份，拷贝的交互式脚本</code></div><div class="line number206 index205 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number207 index206 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number208 index207 alt1"><code class="bash functions">cat</code> <code class="bash plain">&lt;&lt;eof</code></div><div class="line number209 index208 alt2"><code class="bash plain">*****************</code></div><div class="line number210 index209 alt1"><code class="bash plain">**1. backup</code></div><div class="line number211 index210 alt2"><code class="bash plain">**2. copy</code></div><div class="line number212 index211 alt1"><code class="bash plain">**3. quit</code></div><div class="line number213 index212 alt2"><code class="bash plain">*****************</code></div><div class="line number214 index213 alt1"><code class="bash plain">eof</code></div><div class="line number215 index214 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number216 index215 alt1"><code class="bash functions">read</code> <code class="bash plain">-p </code><code class="bash string">"input your choose: "</code> <code class="bash plain">OP</code></div><div class="line number217 index216 alt2"><code class="bash keyword">case</code> <code class="bash plain">$OP </code><code class="bash keyword">in</code></div><div class="line number218 index217 alt1"><code class="bash plain">1|backup)</code></div><div class="line number219 index218 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"Backup..."</code></div><div class="line number220 index219 alt1"><code class="bash plain">;;</code></div><div class="line number221 index220 alt2"><code class="bash plain">2|copy)</code></div><div class="line number222 index221 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"Copy..."</code></div><div class="line number223 index222 alt2"><code class="bash plain">;;</code></div><div class="line number224 index223 alt1"><code class="bash plain">3|quit)</code></div><div class="line number225 index224 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">exit</code></div><div class="line number226 index225 alt1"><code class="bash plain">;;</code></div><div class="line number227 index226 alt2"><code class="bash plain">*)</code></div><div class="line number228 index227 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">input error</code></div><div class="line number229 index228 alt2"><code class="bash keyword">esac</code></div><div class="line number230 index229 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number231 index230 alt2"><code class="bash plain">*****************</code></div><div class="line number232 index231 alt1"><code class="bash plain">**1. backup</code></div><div class="line number233 index232 alt2"><code class="bash plain">**2. copy</code></div><div class="line number234 index233 alt1"><code class="bash plain">**3. quit</code></div><div class="line number235 index234 alt2"><code class="bash plain">*****************</code></div><div class="line number236 index235 alt1"><code class="bash plain">input your choose: 1</code></div><div class="line number237 index236 alt2"><code class="bash plain">Backup...</code></div><div class="line number238 index237 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number239 index238 alt2"><code class="bash plain">*****************</code></div><div class="line number240 index239 alt1"><code class="bash plain">**1. backup</code></div><div class="line number241 index240 alt2"><code class="bash plain">**2. copy</code></div><div class="line number242 index241 alt1"><code class="bash plain">**3. quit</code></div><div class="line number243 index242 alt2"><code class="bash plain">*****************</code></div><div class="line number244 index243 alt1"><code class="bash plain">input your choose: 2</code></div><div class="line number245 index244 alt2"><code class="bash plain">Copy...</code></div><div class="line number246 index245 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number247 index246 alt2"><code class="bash plain">示例2）：提示用户输入一个字符，判断出该字符是字母、数字</code></div><div class="line number248 index247 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh </code></div><div class="line number249 index248 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number250 index249 alt1"><code class="bash comments">#read后面跟的变量必须要空格隔开，否则变量无效！</code></div><div class="line number251 index250 alt2"><code class="bash functions">read</code> <code class="bash plain">-p </code><code class="bash string">"请输入一个字符: "</code> <code class="bash plain">star</code></div><div class="line number252 index251 alt1">&nbsp;</div><div class="line number253 index252 alt2"><code class="bash keyword">case</code> <code class="bash plain">${star} </code><code class="bash keyword">in</code></div><div class="line number254 index253 alt1"><code class="bash plain">[a-z]|[A-Z])</code></div><div class="line number255 index254 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"输入的是一个字母"</code></div><div class="line number256 index255 alt1"><code class="bash plain">;;</code></div><div class="line number257 index256 alt2"><code class="bash plain">[0-9])</code></div><div class="line number258 index257 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"输入的是一个数字"</code></div><div class="line number259 index258 alt2"><code class="bash plain">;;</code></div><div class="line number260 index259 alt1"><code class="bash plain">*)&nbsp; </code></div><div class="line number261 index260 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"请输入字母或数字"</code></div><div class="line number262 index261 alt1"><code class="bash plain">;;</code></div><div class="line number263 index262 alt2"><code class="bash keyword">esac</code></div><div class="line number264 index263 alt1">&nbsp;</div><div class="line number265 index264 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number266 index265 alt1"><code class="bash plain">请输入一个字符: a</code></div><div class="line number267 index266 alt2"><code class="bash plain">输入的是一个字母</code></div><div class="line number268 index267 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number269 index268 alt2"><code class="bash plain">请输入一个字符: 3</code></div><div class="line number270 index269 alt1"><code class="bash plain">输入的是一个数字</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">13）Shell的&nbsp;<span style="color: rgba(255, 0, 255, 1)">function&nbsp;</span>函数用法</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_908384" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div><div class="line number169 index168 alt2">169</div><div class="line number170 index169 alt1">170</div><div class="line number171 index170 alt2">171</div><div class="line number172 index171 alt1">172</div><div class="line number173 index172 alt2">173</div><div class="line number174 index173 alt1">174</div><div class="line number175 index174 alt2">175</div><div class="line number176 index175 alt1">176</div><div class="line number177 index176 alt2">177</div><div class="line number178 index177 alt1">178</div><div class="line number179 index178 alt2">179</div><div class="line number180 index179 alt1">180</div><div class="line number181 index180 alt2">181</div><div class="line number182 index181 alt1">182</div><div class="line number183 index182 alt2">183</div><div class="line number184 index183 alt1">184</div><div class="line number185 index184 alt2">185</div><div class="line number186 index185 alt1">186</div><div class="line number187 index186 alt2">187</div><div class="line number188 index187 alt1">188</div><div class="line number189 index188 alt2">189</div><div class="line number190 index189 alt1">190</div><div class="line number191 index190 alt2">191</div><div class="line number192 index191 alt1">192</div><div class="line number193 index192 alt2">193</div><div class="line number194 index193 alt1">194</div><div class="line number195 index194 alt2">195</div><div class="line number196 index195 alt1">196</div><div class="line number197 index196 alt2">197</div><div class="line number198 index197 alt1">198</div><div class="line number199 index198 alt2">199</div><div class="line number200 index199 alt1">200</div><div class="line number201 index200 alt2">201</div><div class="line number202 index201 alt1">202</div><div class="line number203 index202 alt2">203</div><div class="line number204 index203 alt1">204</div><div class="line number205 index204 alt2">205</div><div class="line number206 index205 alt1">206</div><div class="line number207 index206 alt2">207</div><div class="line number208 index207 alt1">208</div><div class="line number209 index208 alt2">209</div><div class="line number210 index209 alt1">210</div><div class="line number211 index210 alt2">211</div><div class="line number212 index211 alt1">212</div><div class="line number213 index212 alt2">213</div><div class="line number214 index213 alt1">214</div><div class="line number215 index214 alt2">215</div><div class="line number216 index215 alt1">216</div><div class="line number217 index216 alt2">217</div><div class="line number218 index217 alt1">218</div><div class="line number219 index218 alt2">219</div><div class="line number220 index219 alt1">220</div><div class="line number221 index220 alt2">221</div><div class="line number222 index221 alt1">222</div><div class="line number223 index222 alt2">223</div><div class="line number224 index223 alt1">224</div><div class="line number225 index224 alt2">225</div><div class="line number226 index225 alt1">226</div><div class="line number227 index226 alt2">227</div><div class="line number228 index227 alt1">228</div><div class="line number229 index228 alt2">229</div><div class="line number230 index229 alt1">230</div><div class="line number231 index230 alt2">231</div><div class="line number232 index231 alt1">232</div><div class="line number233 index232 alt2">233</div><div class="line number234 index233 alt1">234</div><div class="line number235 index234 alt2">235</div><div class="line number236 index235 alt1">236</div><div class="line number237 index236 alt2">237</div><div class="line number238 index237 alt1">238</div><div class="line number239 index238 alt2">239</div><div class="line number240 index239 alt1">240</div><div class="line number241 index240 alt2">241</div><div class="line number242 index241 alt1">242</div><div class="line number243 index242 alt2">243</div><div class="line number244 index243 alt1">244</div><div class="line number245 index244 alt2">245</div><div class="line number246 index245 alt1">246</div><div class="line number247 index246 alt2">247</div><div class="line number248 index247 alt1">248</div><div class="line number249 index248 alt2">249</div><div class="line number250 index249 alt1">250</div><div class="line number251 index250 alt2">251</div><div class="line number252 index251 alt1">252</div><div class="line number253 index252 alt2">253</div><div class="line number254 index253 alt1">254</div><div class="line number255 index254 alt2">255</div><div class="line number256 index255 alt1">256</div><div class="line number257 index256 alt2">257</div><div class="line number258 index257 alt1">258</div><div class="line number259 index258 alt2">259</div><div class="line number260 index259 alt1">260</div><div class="line number261 index260 alt2">261</div><div class="line number262 index261 alt1">262</div><div class="line number263 index262 alt2">263</div><div class="line number264 index263 alt1">264</div><div class="line number265 index264 alt2">265</div><div class="line number266 index265 alt1">266</div><div class="line number267 index266 alt2">267</div><div class="line number268 index267 alt1">268</div><div class="line number269 index268 alt2">269</div><div class="line number270 index269 alt1">270</div><div class="line number271 index270 alt2">271</div><div class="line number272 index271 alt1">272</div><div class="line number273 index272 alt2">273</div><div class="line number274 index273 alt1">274</div><div class="line number275 index274 alt2">275</div><div class="line number276 index275 alt1">276</div><div class="line number277 index276 alt2">277</div><div class="line number278 index277 alt1">278</div><div class="line number279 index278 alt2">279</div><div class="line number280 index279 alt1">280</div><div class="line number281 index280 alt2">281</div><div class="line number282 index281 alt1">282</div><div class="line number283 index282 alt2">283</div><div class="line number284 index283 alt1">284</div><div class="line number285 index284 alt2">285</div><div class="line number286 index285 alt1">286</div><div class="line number287 index286 alt2">287</div><div class="line number288 index287 alt1">288</div><div class="line number289 index288 alt2">289</div><div class="line number290 index289 alt1">290</div><div class="line number291 index290 alt2">291</div><div class="line number292 index291 alt1">292</div><div class="line number293 index292 alt2">293</div><div class="line number294 index293 alt1">294</div><div class="line number295 index294 alt2">295</div><div class="line number296 index295 alt1">296</div><div class="line number297 index296 alt2">297</div><div class="line number298 index297 alt1">298</div><div class="line number299 index298 alt2">299</div><div class="line number300 index299 alt1">300</div><div class="line number301 index300 alt2">301</div><div class="line number302 index301 alt1">302</div><div class="line number303 index302 alt2">303</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">简单的说，Shell函数的作用就是将程序里面多次被调用的代码组合起来，称为函数体，并取一个名字称为（函数名），当需要用到这段代码的时候，就可以直接来调用函数名。</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="bash plain">Shell函数是一个脚本代码块，可以对它进行自定义命名，并且可以在脚本中任意位置使用这个函数。</code></div><div class="line number4 index3 alt1"><code class="bash plain">如果想要这个函数，只要调用这个函数的名称就可以了。使用函数的好处在于模块化以及代码可读性强。</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="bash plain">一、Shell函数的创建语法</code></div><div class="line number7 index6 alt2"><code class="bash plain">================================================================================================</code></div><div class="line number8 index7 alt1"><code class="bash plain">在shell中 </code><code class="bash keyword">if</code><code class="bash plain">语句有它的语法，</code><code class="bash keyword">for</code><code class="bash plain">循环也有它的语法，那么shell中的函数，那肯定也有它的语法有以下三种：</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="bash plain">函数的创建方法一：</code></div><div class="line number11 index10 alt2"><code class="bash keyword">function</code> <code class="bash plain">函数名 () {&nbsp; </code></div><div class="line number12 index11 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">指令...&nbsp; </code></div><div class="line number13 index12 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">return</code> <code class="bash plain">-n&nbsp; </code></div><div class="line number14 index13 alt1"><code class="bash plain">}&nbsp; </code></div><div class="line number15 index14 alt2">&nbsp;</div><div class="line number16 index15 alt1"><code class="bash plain">函数的创建方法二：</code></div><div class="line number17 index16 alt2"><code class="bash keyword">function</code> <code class="bash plain">函数名 {&nbsp; </code></div><div class="line number18 index17 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">指令...&nbsp; </code></div><div class="line number19 index18 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">return</code> <code class="bash plain">-n&nbsp; </code></div><div class="line number20 index19 alt1"><code class="bash plain">}&nbsp; </code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="bash plain">函数的创建方法三：</code></div><div class="line number23 index22 alt2"><code class="bash plain">函数名 () {&nbsp; </code></div><div class="line number24 index23 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">指令...&nbsp; </code></div><div class="line number25 index24 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">return</code> <code class="bash plain">-n&nbsp; </code></div><div class="line number26 index25 alt1"><code class="bash plain">}&nbsp; </code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="bash plain">需要注意：</code></div><div class="line number29 index28 alt2"><code class="bash plain">1. 在以上三种函数语法中，前面的funcation 表示声明一个函数！ 可以不写 </code><code class="bash keyword">return</code> <code class="bash plain">-n 是指退出函数!</code></div><div class="line number30 index29 alt1"><code class="bash plain">2. 上面最后两种函数创建方法的声明方式效果等价（即函数的创建方法二和函数的创建方法三的效果是一样的）！！！！！！！</code></div><div class="line number31 index30 alt2"><code class="bash plain">3. 如果函数名后面没有跟()，则函数名和</code><code class="bash string">"{"</code><code class="bash plain">之间必须有空格！shell对空格变态的敏感。如果函数名后面有()，则两者之间可以有空格，也可没有空格。</code></div><div class="line number32 index31 alt1"><code class="bash plain">4. 不得声明形式参数。</code></div><div class="line number33 index32 alt2"><code class="bash plain">5. 必须在调用前声明。</code></div><div class="line number34 index33 alt1"><code class="bash plain">6. 无法重载。</code></div><div class="line number35 index34 alt2"><code class="bash plain">7. 后来的声明会覆盖之前的声明。即如果存在相同名称的函数，以最后一个为准！</code></div><div class="line number36 index35 alt1">&nbsp;</div><div class="line number37 index36 alt2"><code class="bash plain">另外注意：函数名称在当前脚本必须唯一。</code></div><div class="line number38 index37 alt1">&nbsp;</div><div class="line number39 index38 alt2"><code class="bash plain">二、Shell函数调用的方法</code></div><div class="line number40 index39 alt1"><code class="bash plain">================================================================================================</code></div><div class="line number41 index40 alt2"><code class="bash plain">调用方法1：直接指定函数名即可。但一定要注意在声明之后才可以调用函数！！格式如下：</code></div><div class="line number42 index41 alt1"><code class="bash plain">函数名称</code></div><div class="line number43 index42 alt2">&nbsp;</div><div class="line number44 index43 alt1"><code class="bash plain">调用方法2：调用函数时可以传递参数，函数内部中使用$1、$2......来引用传递的参数。格式如下：</code></div><div class="line number45 index44 alt2"><code class="bash plain">函数名称 参数1 参数2 ......</code></div><div class="line number46 index45 alt1">&nbsp;</div><div class="line number47 index46 alt2"><code class="bash plain">需要注意：</code></div><div class="line number48 index47 alt1"><code class="bash plain">1. 其实函数被调用时会被当作一个小脚本来看待，调用时也可以在函数名后跟参数。</code></div><div class="line number49 index48 alt2"><code class="bash plain">2. Shell函数在调用时都不可以加() </code></div><div class="line number50 index49 alt1">&nbsp;</div><div class="line number51 index50 alt2"><code class="bash plain">$1 </code><code class="bash comments">#调用第一个参数</code></div><div class="line number52 index51 alt1"><code class="bash plain">$2 </code><code class="bash comments">#调用第二个参数</code></div><div class="line number53 index52 alt2"><code class="bash plain">...</code></div><div class="line number54 index53 alt1"><code class="bash plain">$n </code><code class="bash comments">#调用第n个参数</code></div><div class="line number55 index54 alt2"><code class="bash plain">$</code><code class="bash comments"># #返回参数个数n</code></div><div class="line number56 index55 alt1"><code class="bash plain">$0 </code><code class="bash comments">#当前脚本文件名</code></div><div class="line number57 index56 alt2">&nbsp;</div><div class="line number58 index57 alt1"><code class="bash plain">三、Shell函数的返回值</code></div><div class="line number59 index58 alt2"><code class="bash plain">================================================================================================</code></div><div class="line number60 index59 alt1"><code class="bash plain">Shell函数运行结束后会有一个退出状态码，可以用$?变量来显示上一条命令/函数执行结束的退出状态码。</code></div><div class="line number61 index60 alt2"><code class="bash plain">当然，shell也为我们提供了</code><code class="bash keyword">return</code><code class="bash plain">，像其他语言函数中</code><code class="bash keyword">return</code> <code class="bash plain">一样，不过(整形)返回值必须在0～255之间。</code></div><div class="line number62 index61 alt1">&nbsp;</div><div class="line number63 index62 alt2"><code class="bash plain">四、Shell函数创建库</code></div><div class="line number64 index63 alt1"><code class="bash plain">================================================================================================</code></div><div class="line number65 index64 alt2"><code class="bash plain">与c的头文件类似，在Shell中，也可以定义</code><code class="bash string">"库文件"</code><code class="bash plain">，然后再另一个文件中导入。库文件没有特殊声明或者定义，也是脚本文件.sh。</code></div><div class="line number66 index65 alt1"><code class="bash plain">使用库函数的关键在于导入库文件。用</code><code class="bash functions">source</code><code class="bash plain">来导入，</code><code class="bash functions">source</code><code class="bash plain">实际上会在当前shell上下文中执行命令，从而达到导入效果。</code></div><div class="line number67 index66 alt2"><code class="bash plain">注意：使用</code><code class="bash string">"source"</code><code class="bash plain">或点符号</code><code class="bash string">"."</code><code class="bash plain">都可以导入库文件！（如下示例7）</code></div><div class="line number68 index67 alt1">&nbsp;</div><div class="line number69 index68 alt2"><code class="bash plain">五、在</code><code class="bash string">"~/.bashrc"</code><code class="bash plain">文件中定义Shell函数</code></div><div class="line number70 index69 alt1"><code class="bash plain">================================================================================================</code></div><div class="line number71 index70 alt2"><code class="bash plain">在使用函数的库文件时，如果每次都需要自己去导入定义的库文件会显得很麻烦！那么，我们可不导入直接使用呢？答案是肯定可以的！！！</code></div><div class="line number72 index71 alt1"><code class="bash plain">方法就是在Shell的配置文件的.bashrc中声明该函数，因为每次启动shell都会载入.bashrc文件，所以就实现了</code><code class="bash string">"自动导入库文件"</code><code class="bash plain">！！！（如下示例8）</code></div><div class="line number73 index72 alt2">&nbsp;</div><div class="line number74 index73 alt1"><code class="bash plain">六、Shell函数使用实例</code></div><div class="line number75 index74 alt2"><code class="bash plain">================================================================================================</code></div><div class="line number76 index75 alt1">&nbsp;</div><div class="line number77 index76 alt2"><code class="bash plain">示例1：直接在调用函数时进行参数传递！可以直接传递具体的变量值！</code></div><div class="line number78 index77 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number79 index78 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number80 index79 alt1">&nbsp;</div><div class="line number81 index80 alt2"><code class="bash keyword">function</code> <code class="bash plain">kevin(){</code></div><div class="line number82 index81 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"welcome to anhui!"</code></div><div class="line number83 index82 alt2"><code class="bash plain">}</code></div><div class="line number84 index83 alt1">&nbsp;</div><div class="line number85 index84 alt2"><code class="bash keyword">function</code> <code class="bash plain">shibo(){</code></div><div class="line number86 index85 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"$1+$2"</code></div><div class="line number87 index86 alt2"><code class="bash plain">}</code></div><div class="line number88 index87 alt1">&nbsp;</div><div class="line number89 index88 alt2"><code class="bash plain">grace(){</code></div><div class="line number90 index89 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">$(($1+$2+$3))</code></div><div class="line number91 index90 alt2"><code class="bash plain">}</code></div><div class="line number92 index91 alt1">&nbsp;</div><div class="line number93 index92 alt2"><code class="bash plain">kevin</code></div><div class="line number94 index93 alt1"><code class="bash plain">shibo hello world</code></div><div class="line number95 index94 alt2"><code class="bash plain">grace 2 4 5</code></div><div class="line number96 index95 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number97 index96 alt2"><code class="bash plain">welcome to anhui!</code></div><div class="line number98 index97 alt1"><code class="bash plain">hello+world</code></div><div class="line number99 index98 alt2"><code class="bash plain">11</code></div><div class="line number100 index99 alt1">&nbsp;</div><div class="line number101 index100 alt2"><code class="bash plain">再看一例：调用函数时，也可以直接传递变量。在脚本执行的时候再赋予变量具体的值！</code></div><div class="line number102 index101 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number103 index102 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number104 index103 alt1">&nbsp;</div><div class="line number105 index104 alt2"><code class="bash keyword">function</code> <code class="bash plain">kevin () {</code></div><div class="line number106 index105 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"老子想要的是:$1 $2"</code></div><div class="line number107 index106 alt2"><code class="bash plain">}</code></div><div class="line number108 index107 alt1"><code class="bash plain">kevin $1 $2</code></div><div class="line number109 index108 alt2">&nbsp;</div><div class="line number110 index109 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh 房子 车子</code></div><div class="line number111 index110 alt2"><code class="bash plain">老子想要的是:房子 车子</code></div><div class="line number112 index111 alt1">&nbsp;</div><div class="line number113 index112 alt2"><code class="bash plain">示例2：如果存在相同名称的函数，以最后一个为准！即后来的函数声明会覆盖之前的声明！</code></div><div class="line number114 index113 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number115 index114 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number116 index115 alt1">&nbsp;</div><div class="line number117 index116 alt2"><code class="bash keyword">function</code> <code class="bash plain">kevin(){</code></div><div class="line number118 index117 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"welcome to anhui!"</code></div><div class="line number119 index118 alt2"><code class="bash plain">}</code></div><div class="line number120 index119 alt1">&nbsp;</div><div class="line number121 index120 alt2"><code class="bash plain">kevin(){</code></div><div class="line number122 index121 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"hello world"</code></div><div class="line number123 index122 alt2"><code class="bash plain">}</code></div><div class="line number124 index123 alt1">&nbsp;</div><div class="line number125 index124 alt2"><code class="bash plain">kevin</code></div><div class="line number126 index125 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number127 index126 alt2"><code class="bash plain">hello world</code></div><div class="line number128 index127 alt1">&nbsp;</div><div class="line number129 index128 alt2"><code class="bash plain">示例3：</code><code class="bash keyword">return</code><code class="bash plain">返回值</code></div><div class="line number130 index129 alt1"><code class="bash plain">使用</code><code class="bash keyword">return</code><code class="bash plain">命令来退出函数并返回特定的退出码（$?）</code></div><div class="line number131 index130 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number132 index131 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number133 index132 alt2">&nbsp;</div><div class="line number134 index133 alt1"><code class="bash keyword">function</code> <code class="bash plain">kevin(){</code></div><div class="line number135 index134 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"welcome to anhui!"</code></div><div class="line number136 index135 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">return</code> <code class="bash plain">2</code></div><div class="line number137 index136 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"why reruen"</code></div><div class="line number138 index137 alt1"><code class="bash plain">}</code></div><div class="line number139 index138 alt2">&nbsp;</div><div class="line number140 index139 alt1"><code class="bash plain">kevin</code></div><div class="line number141 index140 alt2">&nbsp;</div><div class="line number142 index141 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number143 index142 alt2"><code class="bash plain">welcome to anhui!</code></div><div class="line number144 index143 alt1">&nbsp;</div><div class="line number145 index144 alt2"><code class="bash plain">需要注意：</code></div><div class="line number146 index145 alt1"><code class="bash keyword">return</code><code class="bash plain">一般是在函数的最后一行，因为一旦执行</code><code class="bash keyword">return</code><code class="bash plain">命令，该函数后面的命令就不执行了。</code></div><div class="line number147 index146 alt2"><code class="bash keyword">return</code><code class="bash plain">与</code><code class="bash functions">exit</code><code class="bash plain">的区别：</code><code class="bash keyword">return</code><code class="bash plain">和</code><code class="bash functions">exit</code><code class="bash plain">都可以返回退出码，但是不同的是，</code><code class="bash keyword">return</code><code class="bash plain">是退出函数，而</code><code class="bash functions">exit</code><code class="bash plain">是退出整个脚本。</code></div><div class="line number148 index147 alt1">&nbsp;</div><div class="line number149 index148 alt2"><code class="bash plain">示例4：函数值赋给变量</code></div><div class="line number150 index149 alt1"><code class="bash plain">如下方实例中显示，此时的函数就相当于一个命令，需要使用$()或``调用。</code></div><div class="line number151 index150 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number152 index151 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number153 index152 alt2">&nbsp;</div><div class="line number154 index153 alt1"><code class="bash keyword">function</code> <code class="bash plain">kevin(){</code></div><div class="line number155 index154 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">read</code> <code class="bash plain">-p </code><code class="bash string">"请输入内容: "</code> <code class="bash plain">str</code></div><div class="line number156 index155 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">${str}</code></div><div class="line number157 index156 alt2"><code class="bash plain">}</code></div><div class="line number158 index157 alt1">&nbsp;</div><div class="line number159 index158 alt2"><code class="bash plain">bo=$(kevin)&nbsp;&nbsp; </code><code class="bash comments">#也可以是bo=`kevin`</code></div><div class="line number160 index159 alt1"><code class="bash functions">echo</code> <code class="bash string">"测试结果为${bo}"</code></div><div class="line number161 index160 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number162 index161 alt1"><code class="bash plain">请输入内容: xinzhongguo</code></div><div class="line number163 index162 alt2"><code class="bash plain">测试结果为xinzhongguo</code></div><div class="line number164 index163 alt1">&nbsp;</div><div class="line number165 index164 alt2"><code class="bash plain">示例5：外部参数传入函数</code></div><div class="line number166 index165 alt1"><code class="bash plain">前面已经提到过，调用函数可以在后面跟随参数，函数内部可以使用$n的形式调用。</code></div><div class="line number167 index166 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number168 index167 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number169 index168 alt2">&nbsp;</div><div class="line number170 index169 alt1"><code class="bash keyword">function</code> <code class="bash plain">kevin_1(){</code></div><div class="line number171 index170 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"this is $1"</code></div><div class="line number172 index171 alt1"><code class="bash plain">}</code></div><div class="line number173 index172 alt2">&nbsp;</div><div class="line number174 index173 alt1"><code class="bash keyword">function</code> <code class="bash plain">kevin_2 {</code></div><div class="line number175 index174 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"this is $1+$2"</code></div><div class="line number176 index175 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">$</code><code class="bash comments">#</code></div><div class="line number177 index176 alt2"><code class="bash plain">}</code></div><div class="line number178 index177 alt1">&nbsp;</div><div class="line number179 index178 alt2"><code class="bash plain">kevin_3() {</code></div><div class="line number180 index179 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"this is $1!!"</code></div><div class="line number181 index180 alt2"><code class="bash plain">}</code></div><div class="line number182 index181 alt1">&nbsp;</div><div class="line number183 index182 alt2"><code class="bash plain">kevin_1 安徽</code></div><div class="line number184 index183 alt1"><code class="bash plain">kevin_2 上海 北京</code></div><div class="line number185 index184 alt2"><code class="bash plain">kevin_3 </code><code class="bash plain">/root/pass</code><code class="bash plain">.list</code></div><div class="line number186 index185 alt1">&nbsp;</div><div class="line number187 index186 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh </code></div><div class="line number188 index187 alt1"><code class="bash plain">this is 安徽</code></div><div class="line number189 index188 alt2"><code class="bash plain">this is 上海+北京</code></div><div class="line number190 index189 alt1"><code class="bash plain">2</code></div><div class="line number191 index190 alt2"><code class="bash plain">this is </code><code class="bash plain">/root/pass</code><code class="bash plain">.list!!</code></div><div class="line number192 index191 alt1">&nbsp;</div><div class="line number193 index192 alt2"><code class="bash plain">示例6：函数的参数</code></div><div class="line number194 index193 alt1"><code class="bash plain">在一个Shell脚本当中：</code></div><div class="line number195 index194 alt2"><code class="bash plain">函数外的参数，函数可以直接调用；</code></div><div class="line number196 index195 alt1"><code class="bash plain">函数内的参数，只要运行过函数，外部也可以直接调用。</code></div><div class="line number197 index196 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number198 index197 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number199 index198 alt2">&nbsp;</div><div class="line number200 index199 alt1"><code class="bash plain">str=</code><code class="bash string">"hello world"</code></div><div class="line number201 index200 alt2"><code class="bash keyword">function</code> <code class="bash plain">kevin(){</code></div><div class="line number202 index201 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">bo=</code><code class="bash string">"${str} is very nice!!"</code></div><div class="line number203 index202 alt2"><code class="bash plain">}</code></div><div class="line number204 index203 alt1">&nbsp;</div><div class="line number205 index204 alt2"><code class="bash plain">kevin</code></div><div class="line number206 index205 alt1"><code class="bash functions">echo</code> <code class="bash string">"${bo}, 666~"</code></div><div class="line number207 index206 alt2">&nbsp;</div><div class="line number208 index207 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number209 index208 alt2"><code class="bash plain">hello world is very </code><code class="bash functions">nice</code><code class="bash plain">!!, 666~</code></div><div class="line number210 index209 alt1">&nbsp;</div><div class="line number211 index210 alt2"><code class="bash plain">示例7：导入库文件</code></div><div class="line number212 index211 alt1"><code class="bash plain">说白了，就是在一个shell脚本中导入另一个脚本，导入脚本中的变量在新脚本中同样有效可用！</code></div><div class="line number213 index212 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat /root/haha.sh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number214 index213 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number215 index214 alt2">&nbsp;</div><div class="line number216 index215 alt1"><code class="bash plain">USER=$1</code></div><div class="line number217 index216 alt2"><code class="bash plain">ADDRESS=$2</code></div><div class="line number218 index217 alt1"><code class="bash plain">AGE=$3</code></div><div class="line number219 index218 alt2">&nbsp;</div><div class="line number220 index219 alt1"><code class="bash keyword">function</code> <code class="bash plain">PER(){</code></div><div class="line number221 index220 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">if</code> <code class="bash plain">[ ${AGE} -gt 30 ];</code><code class="bash keyword">then</code></div><div class="line number222 index221 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"来自${ADDRESS}的${USER}是一个大叔!"</code></div><div class="line number223 index222 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">fi</code></div><div class="line number224 index223 alt1"><code class="bash plain">}</code></div><div class="line number225 index224 alt2">&nbsp;</div><div class="line number226 index225 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number227 index226 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number228 index227 alt1">&nbsp;</div><div class="line number229 index228 alt2"><code class="bash comments">#可以使用soirce或.导入库文件</code></div><div class="line number230 index229 alt1"><code class="bash comments">#source /root/haha.sh</code></div><div class="line number231 index230 alt2"><code class="bash plain">. </code><code class="bash plain">/root/haha</code><code class="bash plain">.sh</code></div><div class="line number232 index231 alt1">&nbsp;</div><div class="line number233 index232 alt2"><code class="bash keyword">function</code> <code class="bash plain">TES {</code></div><div class="line number234 index233 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">YOU=`PER`</code></div><div class="line number235 index234 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"告诉你！${YOU}"</code></div><div class="line number236 index235 alt1"><code class="bash plain">}</code></div><div class="line number237 index236 alt2">&nbsp;</div><div class="line number238 index237 alt1"><code class="bash plain">TES</code></div><div class="line number239 index238 alt2">&nbsp;</div><div class="line number240 index239 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh 李楠 霍城 38</code></div><div class="line number241 index240 alt2"><code class="bash plain">告诉你！来自霍城的李楠是一个大叔!</code></div><div class="line number242 index241 alt1">&nbsp;</div><div class="line number243 index242 alt2"><code class="bash plain">示例8：在</code><code class="bash string">"~/.bashrc"</code><code class="bash plain">文件中定义Shell函数</code></div><div class="line number244 index243 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat ~/.bashrc</code></div><div class="line number245 index244 alt2"><code class="bash plain">........</code></div><div class="line number246 index245 alt1"><code class="bash comments">#定义PER函数</code></div><div class="line number247 index246 alt2"><code class="bash plain">USER=$1</code></div><div class="line number248 index247 alt1"><code class="bash plain">ADDRESS=$2</code></div><div class="line number249 index248 alt2"><code class="bash plain">AGE=$3</code></div><div class="line number250 index249 alt1"><code class="bash keyword">function</code> <code class="bash plain">PER(){</code></div><div class="line number251 index250 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">if</code> <code class="bash plain">[ ${AGE} -gt 30 ];</code><code class="bash keyword">then</code></div><div class="line number252 index251 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"来自${ADDRESS}的${USER}是一个大叔!"</code></div><div class="line number253 index252 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">fi</code></div><div class="line number254 index253 alt1"><code class="bash plain">}</code></div><div class="line number255 index254 alt2">&nbsp;</div><div class="line number256 index255 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh </code></div><div class="line number257 index256 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number258 index257 alt1">&nbsp;</div><div class="line number259 index258 alt2"><code class="bash functions">source</code> <code class="bash plain">~/.bashrc</code></div><div class="line number260 index259 alt1">&nbsp;</div><div class="line number261 index260 alt2"><code class="bash keyword">function</code> <code class="bash plain">TES {</code></div><div class="line number262 index261 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">YOU=`PER`</code></div><div class="line number263 index262 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"告诉你！${YOU}"</code></div><div class="line number264 index263 alt1"><code class="bash plain">}</code></div><div class="line number265 index264 alt2">&nbsp;</div><div class="line number266 index265 alt1"><code class="bash plain">TES</code></div><div class="line number267 index266 alt2">&nbsp;</div><div class="line number268 index267 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh 李楠 霍城 38</code></div><div class="line number269 index268 alt2"><code class="bash plain">告诉你！来自霍城的李楠是一个大叔!</code></div><div class="line number270 index269 alt1">&nbsp;</div><div class="line number271 index270 alt2"><code class="bash plain">--------------------------------</code></div><div class="line number272 index271 alt1"><code class="bash plain">或者：</code></div><div class="line number273 index272 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat ~/.bashrc </code></div><div class="line number274 index273 alt1"><code class="bash plain">......</code></div><div class="line number275 index274 alt2"><code class="bash functions">source</code> <code class="bash plain">/root/haha</code><code class="bash plain">.sh</code></div><div class="line number276 index275 alt1">&nbsp;</div><div class="line number277 index276 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat /root/haha.sh </code></div><div class="line number278 index277 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number279 index278 alt2">&nbsp;</div><div class="line number280 index279 alt1"><code class="bash plain">USER=$1</code></div><div class="line number281 index280 alt2"><code class="bash plain">ADDRESS=$2</code></div><div class="line number282 index281 alt1"><code class="bash plain">AGE=$3</code></div><div class="line number283 index282 alt2">&nbsp;</div><div class="line number284 index283 alt1"><code class="bash keyword">function</code> <code class="bash plain">PER(){</code></div><div class="line number285 index284 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">if</code> <code class="bash plain">[ ${AGE} -gt 30 ];</code><code class="bash keyword">then</code></div><div class="line number286 index285 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"来自${ADDRESS}的${USER}是一个大叔!"</code></div><div class="line number287 index286 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash keyword">fi</code></div><div class="line number288 index287 alt1"><code class="bash plain">}</code></div><div class="line number289 index288 alt2">&nbsp;</div><div class="line number290 index289 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh </code></div><div class="line number291 index290 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number292 index291 alt1">&nbsp;</div><div class="line number293 index292 alt2"><code class="bash functions">source</code> <code class="bash plain">~/.bashrc</code></div><div class="line number294 index293 alt1">&nbsp;</div><div class="line number295 index294 alt2"><code class="bash keyword">function</code> <code class="bash plain">TES {</code></div><div class="line number296 index295 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">YOU=`PER`</code></div><div class="line number297 index296 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"告诉你！${YOU}"</code></div><div class="line number298 index297 alt1"><code class="bash plain">}</code></div><div class="line number299 index298 alt2">&nbsp;</div><div class="line number300 index299 alt1"><code class="bash plain">TES</code></div><div class="line number301 index300 alt2">&nbsp;</div><div class="line number302 index301 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh 李楠 霍城 38</code></div><div class="line number303 index302 alt2"><code class="bash plain">告诉你！来自霍城的李楠是一个大叔!</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">14）Shell获取随机数 的 <span style="color: rgba(255, 0, 255, 1)">random</span> 用法</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_690985" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">1）使用$RANDOM</code></div><div class="line number2 index1 alt1"><code class="bash plain">需要系统支持，通过</code><code class="bash functions">echo</code><code class="bash plain">来检测， 打印出一个随机数字，证明当前环境支持$RANDOM，反之为空不支持：</code></div><div class="line number3 index2 alt2"><code class="bash plain">[root@bz3aomsmsap1002 ~]</code><code class="bash comments"># echo $RANDOM</code></div><div class="line number4 index3 alt1"><code class="bash plain">1525</code></div><div class="line number5 index4 alt2"><code class="bash plain">[root@bz3aomsmsap1002 ~]</code><code class="bash comments"># echo $RANDOM</code></div><div class="line number6 index5 alt1"><code class="bash plain">16218</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="bash plain">2）使用</code><code class="bash plain">/dev/urandom</code> <code class="bash plain">+ </code><code class="bash functions">tr</code></div><div class="line number9 index8 alt2"><code class="bash plain">[root@bz3aomsmsap1002 ~]</code><code class="bash comments"># tr -cd 0-9 &lt;/dev/urandom | head -c 8&nbsp;&nbsp; #取8位随机种子</code></div><div class="line number10 index9 alt1"><code class="bash plain">67128612</code></div><div class="line number11 index10 alt2"><code class="bash plain">[root@bz3aomsmsap1002 ~]</code><code class="bash comments"># tr -cd 0-9 &lt;/dev/urandom | head -c 16&nbsp; #取12位随机种子</code></div><div class="line number12 index11 alt1"><code class="bash plain">8398375834495017</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="bash plain">随机生成密码（如下两种方式都可以，生成16位长度的随机密码）</code></div><div class="line number15 index14 alt2"><code class="bash plain">[root@bz3aomsmsap1002 ~]</code><code class="bash comments"># head /dev/urandom | tr -dc A-Za-z0-9 | head -c 16</code></div><div class="line number16 index15 alt1"><code class="bash plain">gXeLJ5XLAaV26tKJ</code></div><div class="line number17 index16 alt2"><code class="bash plain">[root@bz3aomsmsap1002 ~]</code><code class="bash comments"># tr -dc A-Za-z0-9 &lt;/dev/urandom | head -c 16</code></div><div class="line number18 index17 alt1"><code class="bash plain">0PUw4BHWQw8oQ3ai</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">15）快速</span><span style="color: rgba(255, 0, 255, 1)">去除<span style="color: rgba(0, 0, 255, 1)">文件或</span><span style="color: rgba(255, 0, 0, 1)"><span style="color: rgba(0, 0, 255, 1)">字符串</span>中的<span style="color: rgba(255, 0, 255, 1)">空格（使用sed或tr）</span></span></span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_116167" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">1. 删除字符串中的空格（使用</code><code class="bash functions">sed</code><code class="bash plain">或</code><code class="bash functions">tr</code><code class="bash plain">）</code></div><div class="line number2 index1 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo "aa dd"|sed 's/ //g'</code></div><div class="line number3 index2 alt2"><code class="bash plain">aadd</code></div><div class="line number4 index3 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo "aa dd"|tr -d " " </code></div><div class="line number5 index4 alt2"><code class="bash plain">aadd</code></div><div class="line number6 index5 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo " aa b t "|tr -d " "&nbsp;&nbsp; </code></div><div class="line number7 index6 alt2"><code class="bash plain">aabt</code></div><div class="line number8 index7 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo " root, bin, hook"|tr -d " "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number9 index8 alt2"><code class="bash plain">root,bin,hook</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="bash plain">2. 删除文件中行首空格的命令</code></div><div class="line number12 index11 alt1"><code class="bash comments"># sed 's/^[ \t]*//g' filename&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #不加-i参数，表示仅仅在当前终端显示命令执行效果。</code></div><div class="line number13 index12 alt2"><code class="bash comments"># sed -i 's/^[ \t]*//g' filename&nbsp;&nbsp;&nbsp;&nbsp; #加-i参数，表示命令执行效果直接为文件生效，即直接在文件中删除行首空格。</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="bash plain">命令解释：</code></div><div class="line number16 index15 alt1"><code class="bash plain">第一个/的左边是s表示替换，即将空格替换为空。</code></div><div class="line number17 index16 alt2"><code class="bash plain">第一个/的右边是中括号表示</code><code class="bash string">"或"</code><code class="bash plain">，空格或tab中的任意一种。这是正则表达式的规范。</code></div><div class="line number18 index17 alt1"><code class="bash plain">中括号右边是*，表示一个或多个。</code></div><div class="line number19 index18 alt2"><code class="bash plain">第二个和第三个\中间没有东西，表示空</code></div><div class="line number20 index19 alt1"><code class="bash plain">g表示替换原来buffer（缓冲区）中的，</code><code class="bash functions">sed</code><code class="bash plain">在处理字符串的时候并不对源文件进行直接处理，先创建一个buffer，但是加g表示对原buffer进行替换</code></div><div class="line number21 index20 alt2"><code class="bash plain">整体的意思是：用空字符去替换一个或多个用空格或tab开头的本体字符串</code></div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="bash plain">示例：</code></div><div class="line number24 index23 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test</code></div><div class="line number25 index24 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash plain">aa </code></div><div class="line number26 index25 alt1"><code class="bash plain">bb</code></div><div class="line number27 index26 alt2"><code class="bash plain">123&nbsp; aa</code></div><div class="line number28 index27 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash plain">sadf</code></div><div class="line number29 index28 alt2"><code class="bash plain">12313 yy</code></div><div class="line number30 index29 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">45</code></div><div class="line number31 index30 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|sed 's/^[ \t]*//g' test&nbsp;&nbsp; </code></div><div class="line number32 index31 alt1"><code class="bash plain">aa </code></div><div class="line number33 index32 alt2"><code class="bash plain">bb</code></div><div class="line number34 index33 alt1"><code class="bash plain">123&nbsp; aa</code></div><div class="line number35 index34 alt2"><code class="bash plain">sadf</code></div><div class="line number36 index35 alt1"><code class="bash plain">12313 yy</code></div><div class="line number37 index36 alt2"><code class="bash plain">45</code></div><div class="line number38 index37 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|sed -i 's/^[ \t]*//g' test</code></div><div class="line number39 index38 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test</code></div><div class="line number40 index39 alt1"><code class="bash plain">aa </code></div><div class="line number41 index40 alt2"><code class="bash plain">bb</code></div><div class="line number42 index41 alt1"><code class="bash plain">123&nbsp; aa</code></div><div class="line number43 index42 alt2"><code class="bash plain">sadf</code></div><div class="line number44 index43 alt1"><code class="bash plain">12313 yy</code></div><div class="line number45 index44 alt2"><code class="bash plain">45</code></div><div class="line number46 index45 alt1">&nbsp;</div><div class="line number47 index46 alt2"><code class="bash plain">3. 删除文件中行尾空格的命令</code></div><div class="line number48 index47 alt1"><code class="bash comments"># sed 's/[ \t]*$//g' filename&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #仅仅在当前终端显示执行效果。</code></div><div class="line number49 index48 alt2"><code class="bash comments"># sed -i 's/[ \t]*$//g' filename&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #直接删除文件中行尾空格。</code></div><div class="line number50 index49 alt1">&nbsp;</div><div class="line number51 index50 alt2"><code class="bash plain">命令解释：</code></div><div class="line number52 index51 alt1"><code class="bash plain">和上面稍微有些不同是前面删除了^符，在后面加上了美元符。表示删除行尾空格。</code></div><div class="line number53 index52 alt2">&nbsp;</div><div class="line number54 index53 alt1"><code class="bash plain">4. 删除文件中所有的空格的命令</code></div><div class="line number55 index54 alt2"><code class="bash comments"># sed s/[[:space:]]//g filename</code></div><div class="line number56 index55 alt1"><code class="bash comments"># sed 's/[[:space:]]//g' haha</code></div><div class="line number57 index56 alt2"><code class="bash comments"># sed -i 's/[[:space:]]//g' haha</code></div><div class="line number58 index57 alt1"><code class="bash comments"># cat filename|tr -d " "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #使用tr删除所有空格，只是在终端显示里生效，文件里默认并不会生效</code></div><div class="line number59 index58 alt2">&nbsp;</div><div class="line number60 index59 alt1"><code class="bash plain">示例：</code></div><div class="line number61 index60 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha</code></div><div class="line number62 index61 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">12 3 4</code></div><div class="line number63 index62 alt2"><code class="bash plain">ads ss</code></div><div class="line number64 index63 alt1"><code class="bash plain">12 3123&nbsp; asdf</code></div><div class="line number65 index64 alt2"><code class="bash plain">ok jk&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp; </code></div><div class="line number66 index65 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sed 's/[[:space:]]//g' haha</code></div><div class="line number67 index66 alt2"><code class="bash plain">1234</code></div><div class="line number68 index67 alt1"><code class="bash plain">adsss</code></div><div class="line number69 index68 alt2"><code class="bash plain">123123asdf</code></div><div class="line number70 index69 alt1"><code class="bash plain">okjk1</code></div><div class="line number71 index70 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number72 index71 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">12 3 4</code></div><div class="line number73 index72 alt2"><code class="bash plain">ads ss</code></div><div class="line number74 index73 alt1"><code class="bash plain">12 3123&nbsp; asdf</code></div><div class="line number75 index74 alt2"><code class="bash plain">ok jk&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp; </code></div><div class="line number76 index75 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sed -i 's/[[:space:]]//g' haha</code></div><div class="line number77 index76 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha</code></div><div class="line number78 index77 alt1"><code class="bash plain">1234</code></div><div class="line number79 index78 alt2"><code class="bash plain">adsss</code></div><div class="line number80 index79 alt1"><code class="bash plain">123123asdf</code></div><div class="line number81 index80 alt2"><code class="bash plain">okjk1</code></div><div class="line number82 index81 alt1">&nbsp;</div><div class="line number83 index82 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha</code></div><div class="line number84 index83 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">12 3 4</code></div><div class="line number85 index84 alt2"><code class="bash plain">ads ss</code></div><div class="line number86 index85 alt1"><code class="bash plain">12 3123&nbsp; asdf</code></div><div class="line number87 index86 alt2"><code class="bash plain">ok jk&nbsp;&nbsp;&nbsp; 1</code></div><div class="line number88 index87 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha|tr -d " "</code></div><div class="line number89 index88 alt2"><code class="bash plain">1234</code></div><div class="line number90 index89 alt1"><code class="bash plain">adsss</code></div><div class="line number91 index90 alt2"><code class="bash plain">123123asdf</code></div><div class="line number92 index91 alt1"><code class="bash plain">okjk1</code></div><div class="line number93 index92 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha</code></div><div class="line number94 index93 alt1"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">12 3 4</code></div><div class="line number95 index94 alt2"><code class="bash plain">ads ss</code></div><div class="line number96 index95 alt1"><code class="bash plain">12 3123&nbsp; asdf</code></div><div class="line number97 index96 alt2"><code class="bash plain">ok jk&nbsp;&nbsp;&nbsp; 1</code></div><div class="line number98 index97 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha|tr -d " " &gt; haha.txt &amp;&amp; \cp -f haha.txt haha &amp;&amp; rm -f haha.txt </code></div><div class="line number99 index98 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha</code></div><div class="line number100 index99 alt1"><code class="bash plain">1234</code></div><div class="line number101 index100 alt2"><code class="bash plain">adsss</code></div><div class="line number102 index101 alt1"><code class="bash plain">123123asdf</code></div><div class="line number103 index102 alt2"><code class="bash plain">okjk1</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">16）如何根据截取某个字段多少位进行去重？以及连续重复字符去重</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_830771" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div><div class="line number169 index168 alt2">169</div><div class="line number170 index169 alt1">170</div><div class="line number171 index170 alt2">171</div><div class="line number172 index171 alt1">172</div><div class="line number173 index172 alt2">173</div><div class="line number174 index173 alt1">174</div><div class="line number175 index174 alt2">175</div><div class="line number176 index175 alt1">176</div><div class="line number177 index176 alt2">177</div><div class="line number178 index177 alt1">178</div><div class="line number179 index178 alt2">179</div><div class="line number180 index179 alt1">180</div><div class="line number181 index180 alt2">181</div><div class="line number182 index181 alt1">182</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">一、</code><code class="bash functions">tr</code><code class="bash plain">命令加-s参数，表示把连续重复的字符以单独一个字符表示。即压缩字符，但是必须是连续重复的单个字符！注意是连续出现的</code><code class="bash string">"单个"</code><code class="bash plain">字符！！</code></div><div class="line number2 index1 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo "111222342133"|tr -s "1" </code></div><div class="line number3 index2 alt2"><code class="bash plain">1222342133</code></div><div class="line number4 index3 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo "111222342133"|tr -s "12"</code></div><div class="line number5 index4 alt2"><code class="bash plain">12342133</code></div><div class="line number6 index5 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo "111222342133"|tr -s "123"</code></div><div class="line number7 index6 alt2"><code class="bash plain">1234213</code></div><div class="line number8 index7 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo "aa966ha34jj9"|tr -s "a"</code></div><div class="line number9 index8 alt2"><code class="bash plain">a966ha34jj9</code></div><div class="line number10 index9 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo "aa966ha34jj9"|tr -s "a96"</code></div><div class="line number11 index10 alt2"><code class="bash plain">a96ha34jj9</code></div><div class="line number12 index11 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number13 index12 alt2"><code class="bash plain">还可以使用正则</code></div><div class="line number14 index13 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo "aaAAF7889HHjkk09"|tr -s "a-zA-Z0-9"</code></div><div class="line number15 index14 alt2"><code class="bash plain">aAF789Hjk09</code></div><div class="line number16 index15 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number17 index16 alt2"><code class="bash plain">二、根据下面</code><code class="bash functions">test</code><code class="bash plain">文件的第一个字段、第二个字段截取前8位进行排序去重</code></div><div class="line number18 index17 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat /root/test</code></div><div class="line number19 index18 alt2"><code class="bash plain">25ds51dd225d86af,20180725115911,22570,20443,120.17138,30.119047</code></div><div class="line number20 index19 alt1"><code class="bash plain">002a51dd225d86af,20180725120017,22570,184680195,120.176506,30.11527</code></div><div class="line number21 index20 alt2"><code class="bash plain">002a51dd225d86af,20180725120058,22290,80489347,120.1810786,30.10003</code></div><div class="line number22 index21 alt1"><code class="bash plain">002a51dd225d86af,20180725120149,22290,80489345,120.1810786,30.10003</code></div><div class="line number23 index22 alt2"><code class="bash plain">002a51dd225d86af,20180725120209,22290,189880577,120.18859,30.093405</code></div><div class="line number24 index23 alt1"><code class="bash plain">102a51dd225d86af,20180725120239,22290,155606668,120.1990471,30.0961</code></div><div class="line number25 index24 alt2"><code class="bash plain">002a51dd225d86af,20180725120303,22290,155606666,120.1990468,30.0961</code></div><div class="line number26 index25 alt1"><code class="bash plain">002a51dd225d86af,20180725120434,22290,193501442,120.220661,30.09723</code></div><div class="line number27 index26 alt2"><code class="bash plain">002a79ded185cb04,20180725125428,22570,185263107,120.1576002,30.1293</code></div><div class="line number28 index27 alt1"><code class="bash plain">002a79ded185cb04,20180726125649,22290,80489347,120.1810786,30.10003</code></div><div class="line number29 index28 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number30 index29 alt1"><code class="bash plain">运用的技巧：</code></div><div class="line number31 index30 alt2"><code class="bash functions">echo</code> <code class="bash plain">${var:0:8}&nbsp; 表示从${var}变量的第1个字符（左边的下标从0开始）开始截取，截取的总个数为8！</code></div><div class="line number32 index31 alt1"><code class="bash functions">xargs</code> <code class="bash plain">-n2&nbsp;&nbsp; 表示将前面命令的结果按照每行2列显示(从第一行开始算，往下每行2列，直至分配完为止，不够的就是一列)</code></div><div class="line number33 index32 alt2"><code class="bash functions">sort</code><code class="bash plain">|</code><code class="bash functions">uniq</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash plain">表示去重，仅仅去掉连续出现的相同记录</code></div><div class="line number34 index33 alt1">&nbsp;</div><div class="line number35 index34 alt2"><code class="bash plain">1）脚本1：打印</code><code class="bash functions">test</code><code class="bash plain">文件的第一个和第二个字段以及自个截取的前面八位字符。</code></div><div class="line number36 index35 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test_0.sh</code></div><div class="line number37 index36 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number38 index37 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number39 index38 alt2"><code class="bash functions">file</code><code class="bash plain">=$(</code><code class="bash functions">cat</code> <code class="bash plain">/root/test</code><code class="bash plain">)</code></div><div class="line number40 index39 alt1"><code class="bash keyword">while</code> <code class="bash functions">read</code> <code class="bash plain">line</code></div><div class="line number41 index40 alt2"><code class="bash keyword">do</code></div><div class="line number42 index41 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments">#输出每一行</code></div><div class="line number43 index42 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">line=${line}</code></div><div class="line number44 index43 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number45 index44 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments">#截取一行的第一列</code></div><div class="line number46 index45 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">column1=`</code><code class="bash functions">echo</code> <code class="bash plain">${line}| </code><code class="bash functions">cut</code> <code class="bash plain">-d </code><code class="bash string">","</code> <code class="bash plain">-f1`</code></div><div class="line number47 index46 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">${column1}</code></div><div class="line number48 index47 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments">#输出前8个字符</code></div><div class="line number49 index48 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">${column1:0:8}</code></div><div class="line number50 index49 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number51 index50 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments">#截取一行的第二列</code></div><div class="line number52 index51 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">column2=`</code><code class="bash functions">echo</code> <code class="bash plain">${line}| </code><code class="bash functions">cut</code> <code class="bash plain">-d </code><code class="bash string">","</code> <code class="bash plain">-f2`</code></div><div class="line number53 index52 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">${column2}</code></div><div class="line number54 index53 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments">#输出前8个字符</code></div><div class="line number55 index54 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">${column2:0:8}</code></div><div class="line number56 index55 alt1"><code class="bash keyword">done</code> <code class="bash plain">&lt;&lt;EOF</code></div><div class="line number57 index56 alt2"><code class="bash plain">${</code><code class="bash functions">file</code><code class="bash plain">}</code></div><div class="line number58 index57 alt1"><code class="bash plain">EOF</code></div><div class="line number59 index58 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number60 index59 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test_0.sh </code></div><div class="line number61 index60 alt2"><code class="bash plain">line=25ds51dd225d86af,20180725115911,22570,20443,120.17138,30.119047</code></div><div class="line number62 index61 alt1"><code class="bash plain">25ds51dd225d86af</code></div><div class="line number63 index62 alt2"><code class="bash plain">25ds51dd</code></div><div class="line number64 index63 alt1"><code class="bash plain">20180725115911</code></div><div class="line number65 index64 alt2"><code class="bash plain">20180725</code></div><div class="line number66 index65 alt1"><code class="bash plain">line=002a51dd225d86af,20180725120017,22570,184680195,120.176506,30.11527</code></div><div class="line number67 index66 alt2"><code class="bash plain">002a51dd225d86af</code></div><div class="line number68 index67 alt1"><code class="bash plain">002a51dd</code></div><div class="line number69 index68 alt2"><code class="bash plain">20180725120017</code></div><div class="line number70 index69 alt1"><code class="bash plain">20180725</code></div><div class="line number71 index70 alt2"><code class="bash plain">line=002a51dd225d86af,20180725120058,22290,80489347,120.1810786,30.10003</code></div><div class="line number72 index71 alt1"><code class="bash plain">002a51dd225d86af</code></div><div class="line number73 index72 alt2"><code class="bash plain">002a51dd</code></div><div class="line number74 index73 alt1"><code class="bash plain">20180725120058</code></div><div class="line number75 index74 alt2"><code class="bash plain">20180725</code></div><div class="line number76 index75 alt1"><code class="bash plain">line=002a51dd225d86af,20180725120149,22290,80489345,120.1810786,30.10003</code></div><div class="line number77 index76 alt2"><code class="bash plain">002a51dd225d86af</code></div><div class="line number78 index77 alt1"><code class="bash plain">002a51dd</code></div><div class="line number79 index78 alt2"><code class="bash plain">20180725120149</code></div><div class="line number80 index79 alt1"><code class="bash plain">20180725</code></div><div class="line number81 index80 alt2"><code class="bash plain">line=002a51dd225d86af,20180725120209,22290,189880577,120.18859,30.093405</code></div><div class="line number82 index81 alt1"><code class="bash plain">002a51dd225d86af</code></div><div class="line number83 index82 alt2"><code class="bash plain">002a51dd</code></div><div class="line number84 index83 alt1"><code class="bash plain">20180725120209</code></div><div class="line number85 index84 alt2"><code class="bash plain">20180725</code></div><div class="line number86 index85 alt1"><code class="bash plain">line=102a51dd225d86af,20180725120239,22290,155606668,120.1990471,30.0961</code></div><div class="line number87 index86 alt2"><code class="bash plain">102a51dd225d86af</code></div><div class="line number88 index87 alt1"><code class="bash plain">102a51dd</code></div><div class="line number89 index88 alt2"><code class="bash plain">20180725120239</code></div><div class="line number90 index89 alt1"><code class="bash plain">20180725</code></div><div class="line number91 index90 alt2"><code class="bash plain">line=002a51dd225d86af,20180725120303,22290,155606666,120.1990468,30.0961</code></div><div class="line number92 index91 alt1"><code class="bash plain">002a51dd225d86af</code></div><div class="line number93 index92 alt2"><code class="bash plain">002a51dd</code></div><div class="line number94 index93 alt1"><code class="bash plain">20180725120303</code></div><div class="line number95 index94 alt2"><code class="bash plain">20180725</code></div><div class="line number96 index95 alt1"><code class="bash plain">line=002a51dd225d86af,20180725120434,22290,193501442,120.220661,30.09723</code></div><div class="line number97 index96 alt2"><code class="bash plain">002a51dd225d86af</code></div><div class="line number98 index97 alt1"><code class="bash plain">002a51dd</code></div><div class="line number99 index98 alt2"><code class="bash plain">20180725120434</code></div><div class="line number100 index99 alt1"><code class="bash plain">20180725</code></div><div class="line number101 index100 alt2"><code class="bash plain">line=002a79ded185cb04,20180725125428,22570,185263107,120.1576002,30.1293</code></div><div class="line number102 index101 alt1"><code class="bash plain">002a79ded185cb04</code></div><div class="line number103 index102 alt2"><code class="bash plain">002a79de</code></div><div class="line number104 index103 alt1"><code class="bash plain">20180725125428</code></div><div class="line number105 index104 alt2"><code class="bash plain">20180725</code></div><div class="line number106 index105 alt1"><code class="bash plain">line=002a79ded185cb04,20180726125649,22290,80489347,120.1810786,30.10003</code></div><div class="line number107 index106 alt2"><code class="bash plain">002a79ded185cb04</code></div><div class="line number108 index107 alt1"><code class="bash plain">002a79de</code></div><div class="line number109 index108 alt2"><code class="bash plain">20180726125649</code></div><div class="line number110 index109 alt1"><code class="bash plain">20180726</code></div><div class="line number111 index110 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number112 index111 alt1"><code class="bash plain">2）脚本2： 改进下，仅仅获取第一个和第二个字段的前面8位字符</code></div><div class="line number113 index112 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test_1.sh</code></div><div class="line number114 index113 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number115 index114 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number116 index115 alt1"><code class="bash functions">file</code><code class="bash plain">=$(</code><code class="bash functions">cat</code> <code class="bash plain">/root/test</code><code class="bash plain">)</code></div><div class="line number117 index116 alt2"><code class="bash keyword">while</code> <code class="bash functions">read</code> <code class="bash plain">line</code></div><div class="line number118 index117 alt1"><code class="bash keyword">do</code></div><div class="line number119 index118 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments">#输出每一行</code></div><div class="line number120 index119 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments">#echo line=${line}</code></div><div class="line number121 index120 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number122 index121 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments">#截取一行的第一列</code></div><div class="line number123 index122 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">column1=`</code><code class="bash functions">echo</code> <code class="bash plain">${line}| </code><code class="bash functions">cut</code> <code class="bash plain">-d </code><code class="bash string">","</code> <code class="bash plain">-f1`</code></div><div class="line number124 index123 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments">#echo ${column1}</code></div><div class="line number125 index124 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments">#输出前8个字符</code></div><div class="line number126 index125 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">${column1:0:8}</code></div><div class="line number127 index126 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number128 index127 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments">#截取一行的第二列</code></div><div class="line number129 index128 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">column2=`</code><code class="bash functions">echo</code> <code class="bash plain">${line}| </code><code class="bash functions">cut</code> <code class="bash plain">-d </code><code class="bash string">","</code> <code class="bash plain">-f2`</code></div><div class="line number130 index129 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments">#echo ${column2}</code></div><div class="line number131 index130 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments">#输出前8个字符</code></div><div class="line number132 index131 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">${column2:0:8}</code></div><div class="line number133 index132 alt2"><code class="bash keyword">done</code> <code class="bash plain">&lt;&lt;EOF</code></div><div class="line number134 index133 alt1"><code class="bash plain">${</code><code class="bash functions">file</code><code class="bash plain">}</code></div><div class="line number135 index134 alt2"><code class="bash plain">EOF</code></div><div class="line number136 index135 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number137 index136 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test_1.sh</code></div><div class="line number138 index137 alt1"><code class="bash plain">25ds51dd</code></div><div class="line number139 index138 alt2"><code class="bash plain">20180725</code></div><div class="line number140 index139 alt1"><code class="bash plain">002a51dd</code></div><div class="line number141 index140 alt2"><code class="bash plain">20180725</code></div><div class="line number142 index141 alt1"><code class="bash plain">002a51dd</code></div><div class="line number143 index142 alt2"><code class="bash plain">20180725</code></div><div class="line number144 index143 alt1"><code class="bash plain">002a51dd</code></div><div class="line number145 index144 alt2"><code class="bash plain">20180725</code></div><div class="line number146 index145 alt1"><code class="bash plain">002a51dd</code></div><div class="line number147 index146 alt2"><code class="bash plain">20180725</code></div><div class="line number148 index147 alt1"><code class="bash plain">102a51dd</code></div><div class="line number149 index148 alt2"><code class="bash plain">20180725</code></div><div class="line number150 index149 alt1"><code class="bash plain">002a51dd</code></div><div class="line number151 index150 alt2"><code class="bash plain">20180725</code></div><div class="line number152 index151 alt1"><code class="bash plain">002a51dd</code></div><div class="line number153 index152 alt2"><code class="bash plain">20180725</code></div><div class="line number154 index153 alt1"><code class="bash plain">002a79de</code></div><div class="line number155 index154 alt2"><code class="bash plain">20180725</code></div><div class="line number156 index155 alt1"><code class="bash plain">002a79de</code></div><div class="line number157 index156 alt2"><code class="bash plain">20180726</code></div><div class="line number158 index157 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number159 index158 alt2"><code class="bash plain">3）接着继续改进，获取第一个和第二个字段的前面8位字符，并排序去重</code></div><div class="line number160 index159 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test_1.sh |xargs -n2</code></div><div class="line number161 index160 alt2"><code class="bash plain">25ds51dd 20180725</code></div><div class="line number162 index161 alt1"><code class="bash plain">002a51dd 20180725</code></div><div class="line number163 index162 alt2"><code class="bash plain">002a51dd 20180725</code></div><div class="line number164 index163 alt1"><code class="bash plain">002a51dd 20180725</code></div><div class="line number165 index164 alt2"><code class="bash plain">002a51dd 20180725</code></div><div class="line number166 index165 alt1"><code class="bash plain">102a51dd 20180725</code></div><div class="line number167 index166 alt2"><code class="bash plain">002a51dd 20180725</code></div><div class="line number168 index167 alt1"><code class="bash plain">002a51dd 20180725</code></div><div class="line number169 index168 alt2"><code class="bash plain">002a79de 20180725</code></div><div class="line number170 index169 alt1"><code class="bash plain">002a79de 20180726</code></div><div class="line number171 index170 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test_1.sh |xargs -n2|sort|uniq</code></div><div class="line number172 index171 alt1"><code class="bash plain">002a51dd 20180725</code></div><div class="line number173 index172 alt2"><code class="bash plain">002a79de 20180725</code></div><div class="line number174 index173 alt1"><code class="bash plain">002a79de 20180726</code></div><div class="line number175 index174 alt2"><code class="bash plain">102a51dd 20180725</code></div><div class="line number176 index175 alt1"><code class="bash plain">25ds51dd 20180725</code></div><div class="line number177 index176 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test_1.sh |xargs -n2|sort|uniq -u|sed 's/ /,/g'</code></div><div class="line number178 index177 alt1"><code class="bash plain">002a51dd,20180725</code></div><div class="line number179 index178 alt2"><code class="bash plain">002a79de,20180725</code></div><div class="line number180 index179 alt1"><code class="bash plain">002a79de,20180726</code></div><div class="line number181 index180 alt2"><code class="bash plain">102a51dd,20180725</code></div><div class="line number182 index181 alt1"><code class="bash plain">25ds51dd,20180725</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">17）shell特殊符号：<span style="color: rgba(255, 0, 255, 1)">sort</span>排序，<span style="color: rgba(255, 0, 255, 1)">wc</span>统计，<span style="color: rgba(255, 0, 255, 1)">uniq</span>去重，<span style="color: rgba(255, 0, 255, 1)">tee</span>，<span style="color: rgba(255, 0, 255, 1)">split</span></span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_53138" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div><div class="line number169 index168 alt2">169</div><div class="line number170 index169 alt1">170</div><div class="line number171 index170 alt2">171</div><div class="line number172 index171 alt1">172</div><div class="line number173 index172 alt2">173</div><div class="line number174 index173 alt1">174</div><div class="line number175 index174 alt2">175</div><div class="line number176 index175 alt1">176</div><div class="line number177 index176 alt2">177</div><div class="line number178 index177 alt1">178</div><div class="line number179 index178 alt2">179</div><div class="line number180 index179 alt1">180</div><div class="line number181 index180 alt2">181</div><div class="line number182 index181 alt1">182</div><div class="line number183 index182 alt2">183</div><div class="line number184 index183 alt1">184</div><div class="line number185 index184 alt2">185</div><div class="line number186 index185 alt1">186</div><div class="line number187 index186 alt2">187</div><div class="line number188 index187 alt1">188</div><div class="line number189 index188 alt2">189</div><div class="line number190 index189 alt1">190</div><div class="line number191 index190 alt2">191</div><div class="line number192 index191 alt1">192</div><div class="line number193 index192 alt2">193</div><div class="line number194 index193 alt1">194</div><div class="line number195 index194 alt2">195</div><div class="line number196 index195 alt1">196</div><div class="line number197 index196 alt2">197</div><div class="line number198 index197 alt1">198</div><div class="line number199 index198 alt2">199</div><div class="line number200 index199 alt1">200</div><div class="line number201 index200 alt2">201</div><div class="line number202 index201 alt1">202</div><div class="line number203 index202 alt2">203</div><div class="line number204 index203 alt1">204</div><div class="line number205 index204 alt2">205</div><div class="line number206 index205 alt1">206</div><div class="line number207 index206 alt2">207</div><div class="line number208 index207 alt1">208</div><div class="line number209 index208 alt2">209</div><div class="line number210 index209 alt1">210</div><div class="line number211 index210 alt2">211</div><div class="line number212 index211 alt1">212</div><div class="line number213 index212 alt2">213</div><div class="line number214 index213 alt1">214</div><div class="line number215 index214 alt2">215</div><div class="line number216 index215 alt1">216</div><div class="line number217 index216 alt2">217</div><div class="line number218 index217 alt1">218</div><div class="line number219 index218 alt2">219</div><div class="line number220 index219 alt1">220</div><div class="line number221 index220 alt2">221</div><div class="line number222 index221 alt1">222</div><div class="line number223 index222 alt2">223</div><div class="line number224 index223 alt1">224</div><div class="line number225 index224 alt2">225</div><div class="line number226 index225 alt1">226</div><div class="line number227 index226 alt2">227</div><div class="line number228 index227 alt1">228</div><div class="line number229 index228 alt2">229</div><div class="line number230 index229 alt1">230</div><div class="line number231 index230 alt2">231</div><div class="line number232 index231 alt1">232</div><div class="line number233 index232 alt2">233</div><div class="line number234 index233 alt1">234</div><div class="line number235 index234 alt2">235</div><div class="line number236 index235 alt1">236</div><div class="line number237 index236 alt2">237</div><div class="line number238 index237 alt1">238</div><div class="line number239 index238 alt2">239</div><div class="line number240 index239 alt1">240</div><div class="line number241 index240 alt2">241</div><div class="line number242 index241 alt1">242</div><div class="line number243 index242 alt2">243</div><div class="line number244 index243 alt1">244</div><div class="line number245 index244 alt2">245</div><div class="line number246 index245 alt1">246</div><div class="line number247 index246 alt2">247</div><div class="line number248 index247 alt1">248</div><div class="line number249 index248 alt2">249</div><div class="line number250 index249 alt1">250</div><div class="line number251 index250 alt2">251</div><div class="line number252 index251 alt1">252</div><div class="line number253 index252 alt2">253</div><div class="line number254 index253 alt1">254</div><div class="line number255 index254 alt2">255</div><div class="line number256 index255 alt1">256</div><div class="line number257 index256 alt2">257</div><div class="line number258 index257 alt1">258</div><div class="line number259 index258 alt2">259</div><div class="line number260 index259 alt1">260</div><div class="line number261 index260 alt2">261</div><div class="line number262 index261 alt1">262</div><div class="line number263 index262 alt2">263</div><div class="line number264 index263 alt1">264</div><div class="line number265 index264 alt2">265</div><div class="line number266 index265 alt1">266</div><div class="line number267 index266 alt2">267</div><div class="line number268 index267 alt1">268</div><div class="line number269 index268 alt2">269</div><div class="line number270 index269 alt1">270</div><div class="line number271 index270 alt2">271</div><div class="line number272 index271 alt1">272</div><div class="line number273 index272 alt2">273</div><div class="line number274 index273 alt1">274</div><div class="line number275 index274 alt2">275</div><div class="line number276 index275 alt1">276</div><div class="line number277 index276 alt2">277</div><div class="line number278 index277 alt1">278</div><div class="line number279 index278 alt2">279</div><div class="line number280 index279 alt1">280</div><div class="line number281 index280 alt2">281</div><div class="line number282 index281 alt1">282</div><div class="line number283 index282 alt2">283</div><div class="line number284 index283 alt1">284</div><div class="line number285 index284 alt2">285</div><div class="line number286 index285 alt1">286</div><div class="line number287 index286 alt2">287</div><div class="line number288 index287 alt1">288</div><div class="line number289 index288 alt2">289</div><div class="line number290 index289 alt1">290</div><div class="line number291 index290 alt2">291</div><div class="line number292 index291 alt1">292</div><div class="line number293 index292 alt2">293</div><div class="line number294 index293 alt1">294</div><div class="line number295 index294 alt2">295</div><div class="line number296 index295 alt1">296</div><div class="line number297 index296 alt2">297</div><div class="line number298 index297 alt1">298</div><div class="line number299 index298 alt2">299</div><div class="line number300 index299 alt1">300</div><div class="line number301 index300 alt2">301</div><div class="line number302 index301 alt1">302</div><div class="line number303 index302 alt2">303</div><div class="line number304 index303 alt1">304</div><div class="line number305 index304 alt2">305</div><div class="line number306 index305 alt1">306</div><div class="line number307 index306 alt2">307</div><div class="line number308 index307 alt1">308</div><div class="line number309 index308 alt2">309</div><div class="line number310 index309 alt1">310</div><div class="line number311 index310 alt2">311</div><div class="line number312 index311 alt1">312</div><div class="line number313 index312 alt2">313</div><div class="line number314 index313 alt1">314</div><div class="line number315 index314 alt2">315</div><div class="line number316 index315 alt1">316</div><div class="line number317 index316 alt2">317</div><div class="line number318 index317 alt1">318</div><div class="line number319 index318 alt2">319</div><div class="line number320 index319 alt1">320</div><div class="line number321 index320 alt2">321</div><div class="line number322 index321 alt1">322</div><div class="line number323 index322 alt2">323</div><div class="line number324 index323 alt1">324</div><div class="line number325 index324 alt2">325</div><div class="line number326 index325 alt1">326</div><div class="line number327 index326 alt2">327</div><div class="line number328 index327 alt1">328</div><div class="line number329 index328 alt2">329</div><div class="line number330 index329 alt1">330</div><div class="line number331 index330 alt2">331</div><div class="line number332 index331 alt1">332</div><div class="line number333 index332 alt2">333</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">1）shell特殊符号</code></div><div class="line number2 index1 alt1"><code class="bash plain">*&nbsp;&nbsp; 任意个任意字符。可以是单个字符，也可以是多个字符。</code></div><div class="line number3 index2 alt2"><code class="bash plain">？&nbsp; 任意一个字符。只能是单个字符</code></div><div class="line number4 index3 alt1"><code class="bash comments">#&nbsp;&nbsp; 注释字符</code></div><div class="line number5 index4 alt2"><code class="bash plain">\&nbsp;&nbsp; 脱义字符，转义符号</code></div><div class="line number6 index5 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number7 index6 alt2"><code class="bash plain">$&nbsp;&nbsp; 变量的前缀</code></div><div class="line number8 index7 alt1"><code class="bash plain">$&nbsp;&nbsp; 正则里面表示行尾</code></div><div class="line number9 index8 alt2"><code class="bash plain">^&nbsp;&nbsp; 正则里面表示行首</code></div><div class="line number10 index9 alt1"><code class="bash plain">;&nbsp;&nbsp; 多条命令写到一行，用；分割</code></div><div class="line number11 index10 alt2"><code class="bash plain">~&nbsp;&nbsp; 用户的家目录。正则表达式里表示匹配符</code></div><div class="line number12 index11 alt1"><code class="bash plain">&amp;&nbsp;&nbsp; 把命令放到后台</code></div><div class="line number13 index12 alt2"><code class="bash plain">&gt;&nbsp;&nbsp; 正确重定向</code></div><div class="line number14 index13 alt1"><code class="bash plain">&gt;&gt;&nbsp; 正确追加重定向</code></div><div class="line number15 index14 alt2"><code class="bash plain">2&gt;&nbsp;&nbsp; 错误重定向</code></div><div class="line number16 index15 alt1"><code class="bash plain">2&gt;&gt;&nbsp; 错误追加重定向</code></div><div class="line number17 index16 alt2"><code class="bash plain">&amp;&gt;&nbsp;&nbsp; 正确错误重定向。&nbsp; 通过在一条命令后面加上</code><code class="bash string">"&gt;/dev/null 2&gt;&amp;1"</code><code class="bash plain">表示这条命令执行后不打印任何信息，执行正确或错误信息都不打印！</code></div><div class="line number18 index17 alt1"><code class="bash plain">&amp;&amp;&nbsp;&nbsp; 当前面的命令执行成功时，才执行后面的命令</code></div><div class="line number19 index18 alt2"><code class="bash plain">||&nbsp;&nbsp; 用在shell中表示或者的意思，如果第一条命令执行成功，则不执行第二条命令。如果第一条命令不成功，则执行第二条命令</code></div><div class="line number20 index19 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number21 index20 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># xx=aa</code></div><div class="line number22 index21 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># yy=bb</code></div><div class="line number23 index22 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo ${xx}${yy}</code></div><div class="line number24 index23 alt1"><code class="bash plain">aabb</code></div><div class="line number25 index24 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo ${xx}\${yy}</code></div><div class="line number26 index25 alt1"><code class="bash plain">aa${yy}</code></div><div class="line number27 index26 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo \${xx}\${yy}</code></div><div class="line number28 index27 alt1"><code class="bash plain">${xx}${yy}</code></div><div class="line number29 index28 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number30 index29 alt1"><code class="bash plain">2）管道符和</code><code class="bash functions">cut</code></div><div class="line number31 index30 alt2"><code class="bash functions">cut</code> <code class="bash plain">截取</code></div><div class="line number32 index31 alt1"><code class="bash plain">-d&nbsp; 指定分隔符</code></div><div class="line number33 index32 alt2"><code class="bash plain">-f&nbsp; 指定截取那一段</code></div><div class="line number34 index33 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number35 index34 alt2"><code class="bash comments"># cat filename|cut -d":" -f2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 打印filename文件中以:分割的第2列</code></div><div class="line number36 index35 alt1"><code class="bash comments"># cat filename|cut -d ":" -f 1-3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 打印filename文件中以:分割的第1到3列，但是会保留分隔符！！！！！</code></div><div class="line number37 index36 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number38 index37 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|cut -d"/" -f2</code></div><div class="line number39 index38 alt2"><code class="bash plain">b</code></div><div class="line number40 index39 alt1"><code class="bash plain">2</code></div><div class="line number41 index40 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|cut -d"/" -f1-3</code></div><div class="line number42 index41 alt1"><code class="bash plain">a</code><code class="bash plain">/b/c</code></div><div class="line number43 index42 alt2"><code class="bash plain">1</code><code class="bash plain">/2/3</code></div><div class="line number44 index43 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number45 index44 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|awk -F"/" '{print $2}' </code></div><div class="line number46 index45 alt1"><code class="bash plain">b</code></div><div class="line number47 index46 alt2"><code class="bash plain">2</code></div><div class="line number48 index47 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|awk -F"/" '{print $1$2$3}'</code></div><div class="line number49 index48 alt2"><code class="bash plain">abc</code></div><div class="line number50 index49 alt1"><code class="bash plain">123</code></div><div class="line number51 index50 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|awk -F"/" '{print $1"/"$2"/"$3}'</code></div><div class="line number52 index51 alt1"><code class="bash plain">a</code><code class="bash plain">/b/c</code></div><div class="line number53 index52 alt2"><code class="bash plain">1</code><code class="bash plain">/2/3</code></div><div class="line number54 index53 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number55 index54 alt2"><code class="bash plain">3）</code><code class="bash functions">sort</code><code class="bash plain">、</code><code class="bash functions">uniq</code><code class="bash plain">、</code><code class="bash functions">wc</code><code class="bash plain">、</code><code class="bash functions">split</code><code class="bash plain">、</code><code class="bash functions">tee</code><code class="bash plain">命令</code></div><div class="line number56 index55 alt1"><code class="bash plain">===========================================</code></div><div class="line number57 index56 alt2"><code class="bash functions">sort</code> <code class="bash plain">排序命令</code></div><div class="line number58 index57 alt1"><code class="bash functions">uniq</code> <code class="bash plain">去重命令</code></div><div class="line number59 index58 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number60 index59 alt1"><code class="bash functions">sort</code> <code class="bash plain">-n&nbsp;&nbsp; 默认以数字去排序（默认字母和特殊符号为0，所以会排在最前面）</code></div><div class="line number61 index60 alt2"><code class="bash functions">sort</code> <code class="bash plain">-r&nbsp;&nbsp; 反序排序，即升序。默认是降序排序</code></div><div class="line number62 index61 alt1"><code class="bash functions">sort</code> <code class="bash plain">-kn&nbsp; 以第n列排序（默认降序）</code></div><div class="line number63 index62 alt2"><code class="bash functions">sort</code> <code class="bash plain">-kn -r 以第n列降序排序</code></div><div class="line number64 index63 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number65 index64 alt2"><code class="bash functions">sort</code><code class="bash plain">|</code><code class="bash functions">uniq</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash plain">排序去重</code></div><div class="line number66 index65 alt1"><code class="bash functions">sort</code><code class="bash plain">|</code><code class="bash functions">uniq</code> <code class="bash plain">-c&nbsp;&nbsp; 排序去重，并打印每个出现的次数。即重复次数</code></div><div class="line number67 index66 alt2"><code class="bash functions">sort</code><code class="bash plain">|</code><code class="bash functions">uniq</code> <code class="bash plain">-d&nbsp;&nbsp; 打印出交集部分,即打印出那些重复、相同的字符</code></div><div class="line number68 index67 alt1"><code class="bash functions">sort</code><code class="bash plain">|</code><code class="bash functions">uniq</code> <code class="bash plain">-u&nbsp;&nbsp; 打印出除了交集之外的部分。即打印出那些去掉重复字符之后的字符</code></div><div class="line number69 index68 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number70 index69 alt1"><code class="bash functions">sort</code><code class="bash plain">|</code><code class="bash functions">uniq</code><code class="bash plain">|</code><code class="bash functions">sort</code> <code class="bash plain">-k3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#排序去重，并按第3列排序（降序）</code></div><div class="line number71 index70 alt2"><code class="bash functions">sort</code><code class="bash plain">|</code><code class="bash functions">uniq</code><code class="bash plain">|</code><code class="bash functions">sort</code> <code class="bash plain">-k3 -rn&nbsp; </code><code class="bash comments">#排序去重，并按第3列排序（降序）</code></div><div class="line number72 index71 alt1"><code class="bash functions">sort</code><code class="bash plain">|</code><code class="bash functions">uniq</code><code class="bash plain">|</code><code class="bash functions">sort</code> <code class="bash plain">-k3 -r&nbsp;&nbsp; </code><code class="bash comments">#排序去重，并按第3列排序（升序）</code></div><div class="line number73 index72 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number74 index73 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test</code></div><div class="line number75 index74 alt2"><code class="bash plain">11</code></div><div class="line number76 index75 alt1"><code class="bash plain">ad</code></div><div class="line number77 index76 alt2"><code class="bash plain">0</code></div><div class="line number78 index77 alt1"><code class="bash plain">34</code></div><div class="line number79 index78 alt2"><code class="bash plain">3</code></div><div class="line number80 index79 alt1"><code class="bash plain">21</code></div><div class="line number81 index80 alt2"><code class="bash plain">4</code></div><div class="line number82 index81 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|sort -n</code></div><div class="line number83 index82 alt2"><code class="bash plain">0</code></div><div class="line number84 index83 alt1"><code class="bash plain">ad</code></div><div class="line number85 index84 alt2"><code class="bash plain">3</code></div><div class="line number86 index85 alt1"><code class="bash plain">4</code></div><div class="line number87 index86 alt2"><code class="bash plain">11</code></div><div class="line number88 index87 alt1"><code class="bash plain">21</code></div><div class="line number89 index88 alt2"><code class="bash plain">34</code></div><div class="line number90 index89 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|sort -rn</code></div><div class="line number91 index90 alt2"><code class="bash plain">34</code></div><div class="line number92 index91 alt1"><code class="bash plain">21</code></div><div class="line number93 index92 alt2"><code class="bash plain">11</code></div><div class="line number94 index93 alt1"><code class="bash plain">4</code></div><div class="line number95 index94 alt2"><code class="bash plain">3</code></div><div class="line number96 index95 alt1"><code class="bash plain">ad</code></div><div class="line number97 index96 alt2"><code class="bash plain">0</code></div><div class="line number98 index97 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number99 index98 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha</code></div><div class="line number100 index99 alt1"><code class="bash plain">aa 11 hj</code></div><div class="line number101 index100 alt2"><code class="bash plain">2b 7 ok</code></div><div class="line number102 index101 alt1"><code class="bash plain">23 100 jo</code></div><div class="line number103 index102 alt2"><code class="bash functions">op</code> <code class="bash plain">32 </code><code class="bash functions">fg</code></div><div class="line number104 index103 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha|sort -k2</code></div><div class="line number105 index104 alt2"><code class="bash plain">23 100 jo</code></div><div class="line number106 index105 alt1"><code class="bash plain">aa 11 hj</code></div><div class="line number107 index106 alt2"><code class="bash functions">op</code> <code class="bash plain">32 </code><code class="bash functions">fg</code></div><div class="line number108 index107 alt1"><code class="bash plain">2b 7 ok</code></div><div class="line number109 index108 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha|sort -k2 -r</code></div><div class="line number110 index109 alt1"><code class="bash plain">2b 7 ok</code></div><div class="line number111 index110 alt2"><code class="bash functions">op</code> <code class="bash plain">32 </code><code class="bash functions">fg</code></div><div class="line number112 index111 alt1"><code class="bash plain">aa 11 hj</code></div><div class="line number113 index112 alt2"><code class="bash plain">23 100 jo</code></div><div class="line number114 index113 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha|sort -k2 -rn</code></div><div class="line number115 index114 alt2"><code class="bash plain">23 100 jo</code></div><div class="line number116 index115 alt1"><code class="bash functions">op</code> <code class="bash plain">32 </code><code class="bash functions">fg</code></div><div class="line number117 index116 alt2"><code class="bash plain">aa 11 hj</code></div><div class="line number118 index117 alt1"><code class="bash plain">2b 7 ok</code></div><div class="line number119 index118 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number120 index119 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test</code></div><div class="line number121 index120 alt2"><code class="bash plain">wang bo</code></div><div class="line number122 index121 alt1"><code class="bash plain">wang bo</code></div><div class="line number123 index122 alt2"><code class="bash plain">kevin ai</code></div><div class="line number124 index123 alt1"><code class="bash plain">han hu</code></div><div class="line number125 index124 alt2"><code class="bash plain">han hu</code></div><div class="line number126 index125 alt1"><code class="bash plain">wang bo</code></div><div class="line number127 index126 alt2"><code class="bash plain">xiao ru</code></div><div class="line number128 index127 alt1"><code class="bash plain">han hu</code></div><div class="line number129 index128 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|sort|uniq</code></div><div class="line number130 index129 alt1"><code class="bash plain">han hu</code></div><div class="line number131 index130 alt2"><code class="bash plain">kevin ai</code></div><div class="line number132 index131 alt1"><code class="bash plain">wang bo</code></div><div class="line number133 index132 alt2"><code class="bash plain">xiao ru</code></div><div class="line number134 index133 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|sort|uniq -d</code></div><div class="line number135 index134 alt2"><code class="bash plain">han hu</code></div><div class="line number136 index135 alt1"><code class="bash plain">wang bo</code></div><div class="line number137 index136 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|sort|uniq -u</code></div><div class="line number138 index137 alt1"><code class="bash plain">kevin ai</code></div><div class="line number139 index138 alt2"><code class="bash plain">xiao ru</code></div><div class="line number140 index139 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number141 index140 alt2"><code class="bash plain">----------------------------------</code></div><div class="line number142 index141 alt1"><code class="bash functions">uniq</code><code class="bash plain">与</code><code class="bash functions">sort</code> <code class="bash plain">-u 两种</code><code class="bash string">"去重"</code><code class="bash plain">的区别？？？？</code></div><div class="line number143 index142 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number144 index143 alt1"><code class="bash functions">uniq</code>&nbsp; <code class="bash plain">针对的重复是连续出现的相同记录！</code></div><div class="line number145 index144 alt2"><code class="bash functions">sort</code> <code class="bash plain">-u 针对的所有出现的相同记录，包括连续出现和非连续出现的相同记录！</code></div><div class="line number146 index145 alt1">&nbsp;</div><div class="line number147 index146 alt2"><code class="bash functions">sort</code> <code class="bash plain">-u&nbsp; 相当于 sour|</code><code class="bash functions">uniq</code></div><div class="line number148 index147 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number149 index148 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat hehe</code></div><div class="line number150 index149 alt1"><code class="bash plain">wang</code></div><div class="line number151 index150 alt2"><code class="bash plain">wang</code></div><div class="line number152 index151 alt1"><code class="bash plain">wang</code></div><div class="line number153 index152 alt2"><code class="bash plain">bobo</code></div><div class="line number154 index153 alt1"><code class="bash plain">wang</code></div><div class="line number155 index154 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat hehe|uniq</code></div><div class="line number156 index155 alt1"><code class="bash plain">wang</code></div><div class="line number157 index156 alt2"><code class="bash plain">bobo</code></div><div class="line number158 index157 alt1"><code class="bash plain">wang</code></div><div class="line number159 index158 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># uniq hehe</code></div><div class="line number160 index159 alt1"><code class="bash plain">wang</code></div><div class="line number161 index160 alt2"><code class="bash plain">bobo</code></div><div class="line number162 index161 alt1"><code class="bash plain">wang</code></div><div class="line number163 index162 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat hehe|sort -u</code></div><div class="line number164 index163 alt1"><code class="bash plain">bobo</code></div><div class="line number165 index164 alt2"><code class="bash plain">wang</code></div><div class="line number166 index165 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sort -u hehe</code></div><div class="line number167 index166 alt2"><code class="bash plain">bobo</code></div><div class="line number168 index167 alt1"><code class="bash plain">wang</code></div><div class="line number169 index168 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat hehe|sort|uniq</code></div><div class="line number170 index169 alt1"><code class="bash plain">bobo</code></div><div class="line number171 index170 alt2"><code class="bash plain">wang</code></div><div class="line number172 index171 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number173 index172 alt2"><code class="bash plain">===========================================</code></div><div class="line number174 index173 alt1"><code class="bash functions">wc</code>&nbsp; <code class="bash plain">统计</code></div><div class="line number175 index174 alt2"><code class="bash functions">wc</code> <code class="bash functions">file</code>&nbsp;&nbsp; <code class="bash plain">默认统计</code><code class="bash functions">file</code><code class="bash plain">文件的行数、单词数，以及该文件的字节数。即默认加了-l、-w、-c</code></div><div class="line number176 index175 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number177 index176 alt2"><code class="bash plain">-l&nbsp; 统计行数</code></div><div class="line number178 index177 alt1"><code class="bash plain">-c&nbsp; 统计字节数</code></div><div class="line number179 index178 alt2"><code class="bash plain">-w&nbsp; 统计字符串，即统计单词数 （默认以空白格或,为分隔符）</code></div><div class="line number180 index179 alt1"><code class="bash plain">-m&nbsp; 统计字符数 （隐藏的换行符也算，用</code><code class="bash functions">cat</code> <code class="bash plain">-A 查看隐藏符号）</code></div><div class="line number181 index180 alt2"><code class="bash plain">-L&nbsp; 显示最长行的长度</code></div><div class="line number182 index181 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number183 index182 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test</code></div><div class="line number184 index183 alt1"><code class="bash plain">wang bo</code></div><div class="line number185 index184 alt2"><code class="bash plain">zhang heng yuan</code></div><div class="line number186 index185 alt1"><code class="bash plain">xiao ru</code></div><div class="line number187 index186 alt2"><code class="bash plain">zhu </code><code class="bash keyword">ge</code> <code class="bash plain">shen hou</code></div><div class="line number188 index187 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># wc test</code></div><div class="line number189 index188 alt2"><code class="bash spaces">&nbsp;</code><code class="bash plain">4 11 49 </code><code class="bash functions">test</code></div><div class="line number190 index189 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|wc -l -w -c</code></div><div class="line number191 index190 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">4&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 49</code></div><div class="line number192 index191 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number193 index192 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|wc -l&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number194 index193 alt1"><code class="bash plain">4</code></div><div class="line number195 index194 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|wc -w</code></div><div class="line number196 index195 alt1"><code class="bash plain">11</code></div><div class="line number197 index196 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|wc -c</code></div><div class="line number198 index197 alt1"><code class="bash plain">49</code></div><div class="line number199 index198 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|wc -m</code></div><div class="line number200 index199 alt1"><code class="bash plain">49</code></div><div class="line number201 index200 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number202 index201 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test|wc -L</code></div><div class="line number203 index202 alt2"><code class="bash plain">16</code></div><div class="line number204 index203 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number205 index204 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat -A test</code></div><div class="line number206 index205 alt1"><code class="bash plain">wang bo$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number207 index206 alt2"><code class="bash plain">zhang heng yuan $&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number208 index207 alt1"><code class="bash plain">xiao ru$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number209 index208 alt2"><code class="bash plain">zhu </code><code class="bash keyword">ge</code> <code class="bash plain">shen hou$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number210 index209 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number211 index210 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number212 index211 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number213 index212 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number214 index213 alt1"><code class="bash functions">file</code><code class="bash plain">=$(</code><code class="bash functions">cat</code> <code class="bash plain">/root/test</code><code class="bash plain">)</code></div><div class="line number215 index214 alt2"><code class="bash keyword">while</code> <code class="bash functions">read</code> <code class="bash plain">line</code></div><div class="line number216 index215 alt1"><code class="bash keyword">do</code></div><div class="line number217 index216 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"${line} 这一行的字节数为: $(echo ${line}|wc -c)"</code></div><div class="line number218 index217 alt1"><code class="bash keyword">done</code> <code class="bash plain">&lt;&lt;EOF</code></div><div class="line number219 index218 alt2"><code class="bash plain">${</code><code class="bash functions">file</code><code class="bash plain">}</code></div><div class="line number220 index219 alt1"><code class="bash plain">EOF</code></div><div class="line number221 index220 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number222 index221 alt1"><code class="bash plain">wang bo 这一行的字节数为: 8</code></div><div class="line number223 index222 alt2"><code class="bash plain">zhang heng yuan 这一行的字节数为: 16</code></div><div class="line number224 index223 alt1"><code class="bash plain">xiao ru 这一行的字节数为: 8</code></div><div class="line number225 index224 alt2"><code class="bash plain">zhu </code><code class="bash keyword">ge</code> <code class="bash plain">shen hou 这一行的字节数为: 16</code></div><div class="line number226 index225 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number227 index226 alt2"><code class="bash plain">===========================================</code></div><div class="line number228 index227 alt1"><code class="bash functions">tee</code>&nbsp;&nbsp; <code class="bash plain">和输出重定&gt;向有点像，但是把重定向的内容打印到屏幕上, 即打印到终端屏幕上</code></div><div class="line number229 index228 alt2"><code class="bash plain">-a&nbsp;&nbsp;&nbsp; 追加，和&gt;&gt;相似</code></div><div class="line number230 index229 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number231 index230 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat /etc/passwd|head -2</code></div><div class="line number232 index231 alt1"><code class="bash plain">root:x:0:0:root:</code><code class="bash plain">/root</code><code class="bash plain">:</code><code class="bash plain">/bin/bash</code></div><div class="line number233 index232 alt2"><code class="bash plain">bin:x:1:1:bin:</code><code class="bash plain">/bin</code><code class="bash plain">:</code><code class="bash plain">/sbin/nologin</code></div><div class="line number234 index233 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat /etc/passwd|head -2|tee</code></div><div class="line number235 index234 alt2"><code class="bash plain">root:x:0:0:root:</code><code class="bash plain">/root</code><code class="bash plain">:</code><code class="bash plain">/bin/bash</code></div><div class="line number236 index235 alt1"><code class="bash plain">bin:x:1:1:bin:</code><code class="bash plain">/bin</code><code class="bash plain">:</code><code class="bash plain">/sbin/nologin</code></div><div class="line number237 index236 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat /etc/passwd|head -2|tee &gt; aa.txt</code></div><div class="line number238 index237 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat aa.txt</code></div><div class="line number239 index238 alt2"><code class="bash plain">root:x:0:0:root:</code><code class="bash plain">/root</code><code class="bash plain">:</code><code class="bash plain">/bin/bash</code></div><div class="line number240 index239 alt1"><code class="bash plain">bin:x:1:1:bin:</code><code class="bash plain">/bin</code><code class="bash plain">:</code><code class="bash plain">/sbin/nologin</code></div><div class="line number241 index240 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat /etc/passwd|head -2|tee &gt;&gt; aa.txt</code></div><div class="line number242 index241 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat aa.txt</code></div><div class="line number243 index242 alt2"><code class="bash plain">root:x:0:0:root:</code><code class="bash plain">/root</code><code class="bash plain">:</code><code class="bash plain">/bin/bash</code></div><div class="line number244 index243 alt1"><code class="bash plain">bin:x:1:1:bin:</code><code class="bash plain">/bin</code><code class="bash plain">:</code><code class="bash plain">/sbin/nologin</code></div><div class="line number245 index244 alt2"><code class="bash plain">root:x:0:0:root:</code><code class="bash plain">/root</code><code class="bash plain">:</code><code class="bash plain">/bin/bash</code></div><div class="line number246 index245 alt1"><code class="bash plain">bin:x:1:1:bin:</code><code class="bash plain">/bin</code><code class="bash plain">:</code><code class="bash plain">/sbin/nologin</code></div><div class="line number247 index246 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number248 index247 alt1"><code class="bash plain">===========================================</code></div><div class="line number249 index248 alt2"><code class="bash functions">split</code>&nbsp; <code class="bash plain">用于将一个文件分割成数个。该指令将大文件分割成较小的文件，在默认情况下将按照每1000行切割成一个小文件。</code></div><div class="line number250 index249 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number251 index250 alt2"><code class="bash functions">split</code> <code class="bash plain">-b 100M filename&nbsp; 以文件大小切割 （可以指定文件前缀，默认是x开头）</code></div><div class="line number252 index251 alt1"><code class="bash functions">split</code> <code class="bash plain">-l 1000 filename&nbsp; 以行数切割，相当于</code><code class="bash string">"split -1000"</code> <code class="bash plain">filename</code></div><div class="line number253 index252 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number254 index253 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># du -sh aa</code></div><div class="line number255 index254 alt2"><code class="bash plain">710M&nbsp;&nbsp;&nbsp; aa</code></div><div class="line number256 index255 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># split -b 100M aa&nbsp;&nbsp;&nbsp;&nbsp; #指定按照每个小文件100M的大小来分割aa文件</code></div><div class="line number257 index256 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># du -sh *</code></div><div class="line number258 index257 alt1"><code class="bash plain">710M&nbsp;&nbsp;&nbsp; aa</code></div><div class="line number259 index258 alt2"><code class="bash plain">100M&nbsp;&nbsp;&nbsp; xaa</code></div><div class="line number260 index259 alt1"><code class="bash plain">100M&nbsp;&nbsp;&nbsp; xab</code></div><div class="line number261 index260 alt2"><code class="bash plain">100M&nbsp;&nbsp;&nbsp; xac</code></div><div class="line number262 index261 alt1"><code class="bash plain">100M&nbsp;&nbsp;&nbsp; xad</code></div><div class="line number263 index262 alt2"><code class="bash plain">100M&nbsp;&nbsp;&nbsp; xae</code></div><div class="line number264 index263 alt1"><code class="bash plain">100M&nbsp;&nbsp;&nbsp; xaf</code></div><div class="line number265 index264 alt2"><code class="bash plain">100M&nbsp;&nbsp;&nbsp; xag</code></div><div class="line number266 index265 alt1"><code class="bash plain">9.7M&nbsp;&nbsp;&nbsp; xah</code></div><div class="line number267 index266 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number268 index267 alt1"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># cat bb</code></div><div class="line number269 index268 alt2"><code class="bash plain">root:x:0:0:root:</code><code class="bash plain">/root</code><code class="bash plain">:</code><code class="bash plain">/bin/bash</code></div><div class="line number270 index269 alt1"><code class="bash plain">bin:x:1:1:bin:</code><code class="bash plain">/bin</code><code class="bash plain">:</code><code class="bash plain">/sbin/nologin</code></div><div class="line number271 index270 alt2"><code class="bash plain">daemon:x:2:2:daemon:</code><code class="bash plain">/sbin</code><code class="bash plain">:</code><code class="bash plain">/sbin/nologin</code></div><div class="line number272 index271 alt1"><code class="bash plain">adm:x:3:4:adm:</code><code class="bash plain">/var/adm</code><code class="bash plain">:</code><code class="bash plain">/sbin/nologin</code></div><div class="line number273 index272 alt2"><code class="bash plain">lp:x:4:7:lp:</code><code class="bash plain">/var/spool/lpd</code><code class="bash plain">:</code><code class="bash plain">/sbin/nologin</code></div><div class="line number274 index273 alt1"><code class="bash functions">sync</code><code class="bash plain">:x:5:0:</code><code class="bash functions">sync</code><code class="bash plain">:</code><code class="bash plain">/sbin</code><code class="bash plain">:</code><code class="bash plain">/bin/sync</code></div><div class="line number275 index274 alt2"><code class="bash functions">shutdown</code><code class="bash plain">:x:6:0:</code><code class="bash functions">shutdown</code><code class="bash plain">:</code><code class="bash plain">/sbin</code><code class="bash plain">:</code><code class="bash plain">/sbin/shutdown</code></div><div class="line number276 index275 alt1"><code class="bash plain">halt:x:7:0:halt:</code><code class="bash plain">/sbin</code><code class="bash plain">:</code><code class="bash plain">/sbin/halt</code></div><div class="line number277 index276 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number278 index277 alt1"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># cat bb|wc -l&nbsp; </code></div><div class="line number279 index278 alt2"><code class="bash plain">8</code></div><div class="line number280 index279 alt1"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># split -2 bb&nbsp;&nbsp;&nbsp; #相当于"split -l 2 bb" 表示指定按照每个小文件2行来分割bb文件</code></div><div class="line number281 index280 alt2"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># ls</code></div><div class="line number282 index281 alt1"><code class="bash plain">bb&nbsp; xaa&nbsp; xab&nbsp; xac&nbsp; xad</code></div><div class="line number283 index282 alt2"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># cat xaa</code></div><div class="line number284 index283 alt1"><code class="bash plain">root:x:0:0:root:</code><code class="bash plain">/root</code><code class="bash plain">:</code><code class="bash plain">/bin/bash</code></div><div class="line number285 index284 alt2"><code class="bash plain">bin:x:1:1:bin:</code><code class="bash plain">/bin</code><code class="bash plain">:</code><code class="bash plain">/sbin/nologin</code></div><div class="line number286 index285 alt1"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># cat xab</code></div><div class="line number287 index286 alt2"><code class="bash plain">daemon:x:2:2:daemon:</code><code class="bash plain">/sbin</code><code class="bash plain">:</code><code class="bash plain">/sbin/nologin</code></div><div class="line number288 index287 alt1"><code class="bash plain">adm:x:3:4:adm:</code><code class="bash plain">/var/adm</code><code class="bash plain">:</code><code class="bash plain">/sbin/nologin</code></div><div class="line number289 index288 alt2"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># cat xac</code></div><div class="line number290 index289 alt1"><code class="bash plain">lp:x:4:7:lp:</code><code class="bash plain">/var/spool/lpd</code><code class="bash plain">:</code><code class="bash plain">/sbin/nologin</code></div><div class="line number291 index290 alt2"><code class="bash functions">sync</code><code class="bash plain">:x:5:0:</code><code class="bash functions">sync</code><code class="bash plain">:</code><code class="bash plain">/sbin</code><code class="bash plain">:</code><code class="bash plain">/bin/sync</code></div><div class="line number292 index291 alt1"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># cat xad</code></div><div class="line number293 index292 alt2"><code class="bash functions">shutdown</code><code class="bash plain">:x:6:0:</code><code class="bash functions">shutdown</code><code class="bash plain">:</code><code class="bash plain">/sbin</code><code class="bash plain">:</code><code class="bash plain">/sbin/shutdown</code></div><div class="line number294 index293 alt1"><code class="bash plain">halt:x:7:0:halt:</code><code class="bash plain">/sbin</code><code class="bash plain">:</code><code class="bash plain">/sbin/halt</code></div><div class="line number295 index294 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number296 index295 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number297 index296 alt2"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># rm -rf x*</code></div><div class="line number298 index297 alt1"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># ls</code></div><div class="line number299 index298 alt2"><code class="bash plain">bb</code></div><div class="line number300 index299 alt1"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># du -sh -b bb&nbsp;&nbsp;&nbsp;&nbsp; #查看bb文件的字节数</code></div><div class="line number301 index300 alt2"><code class="bash plain">293&nbsp;&nbsp;&nbsp;&nbsp; bb</code></div><div class="line number302 index301 alt1"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># split -b 100 bb&nbsp; #按照每个小文件100个字节来分割bb文件</code></div><div class="line number303 index302 alt2"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># ls</code></div><div class="line number304 index303 alt1"><code class="bash plain">bb&nbsp; xaa&nbsp; xab&nbsp; xac</code></div><div class="line number305 index304 alt2"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># du -sh -b xaa</code></div><div class="line number306 index305 alt1"><code class="bash plain">100&nbsp;&nbsp;&nbsp;&nbsp; xaa</code></div><div class="line number307 index306 alt2"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># du -sh -b xab</code></div><div class="line number308 index307 alt1"><code class="bash plain">100&nbsp;&nbsp;&nbsp;&nbsp; xab</code></div><div class="line number309 index308 alt2"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># du -sh -b xac</code></div><div class="line number310 index309 alt1"><code class="bash plain">93&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xac</code></div><div class="line number311 index310 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number312 index311 alt1"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># du -sh bb</code></div><div class="line number313 index312 alt2"><code class="bash plain">32K&nbsp;&nbsp;&nbsp;&nbsp; bb</code></div><div class="line number314 index313 alt1"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># split -b 8K bb</code></div><div class="line number315 index314 alt2"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># ls</code></div><div class="line number316 index315 alt1"><code class="bash plain">bb&nbsp; xaa&nbsp; xab&nbsp; xac&nbsp; xad</code></div><div class="line number317 index316 alt2"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># du -sh xaa</code></div><div class="line number318 index317 alt1"><code class="bash plain">8.0K&nbsp;&nbsp;&nbsp; xaa</code></div><div class="line number319 index318 alt2"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># du -sh xab</code></div><div class="line number320 index319 alt1"><code class="bash plain">8.0K&nbsp;&nbsp;&nbsp; xab</code></div><div class="line number321 index320 alt2"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># du -sh xac</code></div><div class="line number322 index321 alt1"><code class="bash plain">8.0K&nbsp;&nbsp;&nbsp; xac</code></div><div class="line number323 index322 alt2"><code class="bash plain">[root@ss-server mnt]</code><code class="bash comments"># du -sh xad</code></div><div class="line number324 index323 alt1"><code class="bash plain">8.0K&nbsp;&nbsp;&nbsp; xad</code></div><div class="line number325 index324 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number326 index325 alt1"><code class="bash plain">小结：</code></div><div class="line number327 index326 alt2"><code class="bash plain">spilt -n 相当于 </code><code class="bash functions">split</code> <code class="bash plain">-l n&nbsp;&nbsp; 表示按照多少行数来分割成小文件</code></div><div class="line number328 index327 alt1"><code class="bash functions">split</code> <code class="bash plain">-b 按照大小分割成小文件，默认是K，至少是4.0K（即新建文件默认大小）</code></div><div class="line number329 index328 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number330 index329 alt1"><code class="bash functions">split</code> <code class="bash plain">-b 10K&nbsp;&nbsp; 按照每10K一个文件分割成小文件</code></div><div class="line number331 index330 alt2"><code class="bash functions">split</code> <code class="bash plain">-b 10M&nbsp;&nbsp; 按照每10M一个文件分割成小文件</code></div><div class="line number332 index331 alt1"><code class="bash functions">split</code> <code class="bash plain">-b 10G&nbsp;&nbsp; 按照每10G一个文件分割成小文件</code></div><div class="line number333 index332 alt2"><code class="bash functions">split</code> <code class="bash plain">-b 100&nbsp;&nbsp; 按照每100 byte字节一个文件分割成小文件</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">18）按照文件中的<span style="color: rgba(255, 0, 255, 1)">单词</span>及<span style="color: rgba(255, 0, 255, 1)">字母</span>去重排序</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_306010" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">使用shell脚本实现单词及字母去重排序</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="bash plain">需求</code></div><div class="line number4 index3 alt1"><code class="bash plain">1. 按单词出现频率降序排序！</code></div><div class="line number5 index4 alt2"><code class="bash plain">2. 按字母出现频率降序排序！</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test</code></div><div class="line number8 index7 alt1"><code class="bash plain">wang shi hu shi kui shi juan wang fang fang anhui of huoqiu liuan the squid project provides a number of.</code></div><div class="line number9 index8 alt2"><code class="bash plain">resources to assist </code><code class="bash functions">users</code> <code class="bash plain">Newsgd.com is the premier New online </code><code class="bash functions">source</code> <code class="bash plain">of Guangdong news and information, </code></div><div class="line number10 index9 alt1"><code class="bash plain">fully displaying shi Guangdong through is channels including Guangdong New</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh </code></div><div class="line number13 index12 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="bash functions">file</code><code class="bash plain">=$(</code><code class="bash functions">cat</code> <code class="bash plain">/root/test</code><code class="bash plain">)</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="bash functions">echo</code> <code class="bash string">"按单词出现频率降序排序！"</code></div><div class="line number18 index17 alt1"><code class="bash keyword">for</code> <code class="bash plain">i </code><code class="bash keyword">in</code> <code class="bash plain">${</code><code class="bash functions">file</code><code class="bash plain">}</code></div><div class="line number19 index18 alt2"><code class="bash spaces">&nbsp;</code><code class="bash keyword">do</code></div><div class="line number20 index19 alt1"><code class="bash spaces">&nbsp;</code><code class="bash functions">echo</code> <code class="bash plain">${i} </code></div><div class="line number21 index20 alt2"><code class="bash keyword">done</code><code class="bash plain">|\</code></div><div class="line number22 index21 alt1"><code class="bash spaces">&nbsp;</code><code class="bash functions">sort</code> <code class="bash plain">|</code><code class="bash functions">uniq</code> <code class="bash plain">-c|</code><code class="bash functions">sort</code> <code class="bash plain">-nk1 -r</code></div><div class="line number23 index22 alt2"><code class="bash functions">echo</code> <code class="bash string">"按字母出现频率降序排序！"</code></div><div class="line number24 index23 alt1"><code class="bash functions">echo</code> <code class="bash plain">${</code><code class="bash functions">file</code><code class="bash plain">} |</code><code class="bash functions">grep</code> <code class="bash plain">-o </code><code class="bash string">"[a-z]"</code> <code class="bash plain">|</code><code class="bash functions">sort</code><code class="bash plain">|</code><code class="bash functions">uniq</code> <code class="bash plain">-c |</code><code class="bash functions">sort</code> <code class="bash plain">-nk1 -r</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number27 index26 alt2"><code class="bash plain">按单词出现频率降序排序！</code></div><div class="line number28 index27 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">4 shi</code></div><div class="line number29 index28 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">3 Guangdong</code></div><div class="line number30 index29 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 wang</code></div><div class="line number31 index30 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 the</code></div><div class="line number32 index31 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 of</code></div><div class="line number33 index32 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 New</code></div><div class="line number34 index33 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 is</code></div><div class="line number35 index34 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 fang</code></div><div class="line number36 index35 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 </code><code class="bash functions">users</code></div><div class="line number37 index36 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 to</code></div><div class="line number38 index37 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 through</code></div><div class="line number39 index38 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 squid</code></div><div class="line number40 index39 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 </code><code class="bash functions">source</code></div><div class="line number41 index40 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 resources</code></div><div class="line number42 index41 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 provides</code></div><div class="line number43 index42 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 project</code></div><div class="line number44 index43 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 premier</code></div><div class="line number45 index44 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 online</code></div><div class="line number46 index45 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 of.</code></div><div class="line number47 index46 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 number</code></div><div class="line number48 index47 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 Newsgd.com</code></div><div class="line number49 index48 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 news</code></div><div class="line number50 index49 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 liuan</code></div><div class="line number51 index50 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 kui</code></div><div class="line number52 index51 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 juan</code></div><div class="line number53 index52 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 information,</code></div><div class="line number54 index53 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 including</code></div><div class="line number55 index54 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 huoqiu</code></div><div class="line number56 index55 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 hu</code></div><div class="line number57 index56 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 fully</code></div><div class="line number58 index57 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 displaying</code></div><div class="line number59 index58 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 channels</code></div><div class="line number60 index59 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 assist</code></div><div class="line number61 index60 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 anhui</code></div><div class="line number62 index61 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 and</code></div><div class="line number63 index62 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 a</code></div><div class="line number64 index63 alt1"><code class="bash plain">按字母出现频率降序排序！</code></div><div class="line number65 index64 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">25 n</code></div><div class="line number66 index65 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">21 i</code></div><div class="line number67 index66 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">20 s</code></div><div class="line number68 index67 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">18 u</code></div><div class="line number69 index68 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">17 o</code></div><div class="line number70 index69 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">17 e</code></div><div class="line number71 index70 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">16 a</code></div><div class="line number72 index71 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">14 g</code></div><div class="line number73 index72 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">12 h</code></div><div class="line number74 index73 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">11 r</code></div><div class="line number75 index74 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">9 d</code></div><div class="line number76 index75 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">7 t</code></div><div class="line number77 index76 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">7 l</code></div><div class="line number78 index77 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">7 f</code></div><div class="line number79 index78 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">6 w</code></div><div class="line number80 index79 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">6 c</code></div><div class="line number81 index80 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">4 p</code></div><div class="line number82 index81 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">4 m</code></div><div class="line number83 index82 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 y</code></div><div class="line number84 index83 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 q</code></div><div class="line number85 index84 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 j</code></div><div class="line number86 index85 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 </code><code class="bash functions">v</code></div><div class="line number87 index86 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 k</code></div><div class="line number88 index87 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 b</code></div><div class="line number89 index88 alt2">&nbsp;</div><div class="line number90 index89 alt1"><code class="bash plain">如果在命令行直接操作，如下：</code></div><div class="line number91 index90 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo "按单词出现频率降序排序！" &amp;&amp; for i in $(cat /root/test);do echo ${i};done|sort |uniq -c|sort -nk1 -r </code></div><div class="line number92 index91 alt1"><code class="bash plain">按单词出现频率降序排序！</code></div><div class="line number93 index92 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">4 shi</code></div><div class="line number94 index93 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">3 Guangdong</code></div><div class="line number95 index94 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 wang</code></div><div class="line number96 index95 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 the</code></div><div class="line number97 index96 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 of</code></div><div class="line number98 index97 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 New</code></div><div class="line number99 index98 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 is</code></div><div class="line number100 index99 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 fang</code></div><div class="line number101 index100 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 </code><code class="bash functions">users</code></div><div class="line number102 index101 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 to</code></div><div class="line number103 index102 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 through</code></div><div class="line number104 index103 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 squid</code></div><div class="line number105 index104 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 </code><code class="bash functions">source</code></div><div class="line number106 index105 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 resources</code></div><div class="line number107 index106 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 provides</code></div><div class="line number108 index107 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 project</code></div><div class="line number109 index108 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 premier</code></div><div class="line number110 index109 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 online</code></div><div class="line number111 index110 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 of.</code></div><div class="line number112 index111 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 number</code></div><div class="line number113 index112 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 Newsgd.com</code></div><div class="line number114 index113 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 news</code></div><div class="line number115 index114 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 liuan</code></div><div class="line number116 index115 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 kui</code></div><div class="line number117 index116 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 juan</code></div><div class="line number118 index117 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 information,</code></div><div class="line number119 index118 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 including</code></div><div class="line number120 index119 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 huoqiu</code></div><div class="line number121 index120 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 hu</code></div><div class="line number122 index121 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 fully</code></div><div class="line number123 index122 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 displaying</code></div><div class="line number124 index123 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 channels</code></div><div class="line number125 index124 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 assist</code></div><div class="line number126 index125 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 anhui</code></div><div class="line number127 index126 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 and</code></div><div class="line number128 index127 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 a</code></div><div class="line number129 index128 alt2">&nbsp;</div><div class="line number130 index129 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo "按字母出现频率降序排序！" &amp;&amp; echo $(cat /root/test) |grep -o "[a-z]" |sort|uniq -c |sort -nk1 -r </code></div><div class="line number131 index130 alt2"><code class="bash plain">按字母出现频率降序排序！</code></div><div class="line number132 index131 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">25 n</code></div><div class="line number133 index132 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">21 i</code></div><div class="line number134 index133 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">20 s</code></div><div class="line number135 index134 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">18 u</code></div><div class="line number136 index135 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">17 o</code></div><div class="line number137 index136 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">17 e</code></div><div class="line number138 index137 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">16 a</code></div><div class="line number139 index138 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">14 g</code></div><div class="line number140 index139 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">12 h</code></div><div class="line number141 index140 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">11 r</code></div><div class="line number142 index141 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">9 d</code></div><div class="line number143 index142 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">7 t</code></div><div class="line number144 index143 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">7 l</code></div><div class="line number145 index144 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">7 f</code></div><div class="line number146 index145 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">6 w</code></div><div class="line number147 index146 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">6 c</code></div><div class="line number148 index147 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">4 p</code></div><div class="line number149 index148 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">4 m</code></div><div class="line number150 index149 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 y</code></div><div class="line number151 index150 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 q</code></div><div class="line number152 index151 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">2 j</code></div><div class="line number153 index152 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 </code><code class="bash functions">v</code></div><div class="line number154 index153 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 k</code></div><div class="line number155 index154 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">1 b</code></div><div class="line number156 index155 alt1">&nbsp;</div><div class="line number157 index156 alt2"><code class="bash functions">grep</code> <code class="bash plain">-o&nbsp; 代表的是只输出匹配的选项</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">19）<span style="color: rgba(255, 0, 255, 1)">join&nbsp;</span>命令用法</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_53266" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div><div class="line number169 index168 alt2">169</div><div class="line number170 index169 alt1">170</div><div class="line number171 index170 alt2">171</div><div class="line number172 index171 alt1">172</div><div class="line number173 index172 alt2">173</div><div class="line number174 index173 alt1">174</div><div class="line number175 index174 alt2">175</div><div class="line number176 index175 alt1">176</div><div class="line number177 index176 alt2">177</div><div class="line number178 index177 alt1">178</div><div class="line number179 index178 alt2">179</div><div class="line number180 index179 alt1">180</div><div class="line number181 index180 alt2">181</div><div class="line number182 index181 alt1">182</div><div class="line number183 index182 alt2">183</div><div class="line number184 index183 alt1">184</div><div class="line number185 index184 alt2">185</div><div class="line number186 index185 alt1">186</div><div class="line number187 index186 alt2">187</div><div class="line number188 index187 alt1">188</div><div class="line number189 index188 alt2">189</div><div class="line number190 index189 alt1">190</div><div class="line number191 index190 alt2">191</div><div class="line number192 index191 alt1">192</div><div class="line number193 index192 alt2">193</div><div class="line number194 index193 alt1">194</div><div class="line number195 index194 alt2">195</div><div class="line number196 index195 alt1">196</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">join</code><code class="bash plain">命令用于将两个文件中，指定栏位内容相同的行连接起来。 </code></div><div class="line number2 index1 alt1"><code class="bash plain">注意：仅仅只能连接两个文件！！超过两个文件就无效！</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="bash plain">语法格式：</code></div><div class="line number5 index4 alt2"><code class="bash functions">join</code> <code class="bash plain">[-i][-a&lt;1或2&gt;][-e&lt;字符串&gt;][-o&lt;格式&gt;] [-t&lt;字符&gt;][-</code><code class="bash functions">v</code><code class="bash plain">&lt;1或2&gt;][-1&lt;栏位&gt;][-2&lt;栏位&gt;][--help] [--version][文件1][文件2] </code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="bash plain">补充说明：找出两个文件中，指定栏位内容相同的行，并加以合并，再输出到标准输出设备。 </code></div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="bash plain">参数： </code></div><div class="line number10 index9 alt1"><code class="bash plain">-a&lt;1或2&gt;&nbsp;&nbsp; 除了显示原来的输出内容之外，还显示指令文件中没有相同栏位的行。 </code></div><div class="line number11 index10 alt2"><code class="bash plain">-e&lt;字符串&gt; 若[文件1]与[文件2]中找不到指定的栏位，则在输出中填入选项中的字符串。 </code></div><div class="line number12 index11 alt1"><code class="bash plain">-i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 比较栏位内容时，忽略大小写的差异。 </code></div><div class="line number13 index12 alt2"><code class="bash plain">-o&lt;格式&gt;&nbsp;&nbsp; 按照指定的格式来显示结果。 </code></div><div class="line number14 index13 alt1"><code class="bash plain">-t&lt;字符&gt;&nbsp;&nbsp; 使用栏位的分隔字符。 </code></div><div class="line number15 index14 alt2"><code class="bash plain">-</code><code class="bash functions">v</code><code class="bash plain">&lt;1或2&gt;&nbsp;&nbsp; 跟-a相同，但是只显示文件中没有相同栏位的行。 </code></div><div class="line number16 index15 alt1"><code class="bash plain">-1&lt;栏位&gt;&nbsp;&nbsp; 连接[文件1]指定的栏位。 </code></div><div class="line number17 index16 alt2"><code class="bash plain">-2&lt;栏位&gt;&nbsp;&nbsp; 连接[文件2]指定的栏位。 </code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="bash plain">示例：</code></div><div class="line number20 index19 alt1"><code class="bash plain">1）内连接（忽略不匹配的行）</code></div><div class="line number21 index20 alt2"><code class="bash plain">=============================================================================</code></div><div class="line number22 index21 alt1"><code class="bash plain">不指定任何参数的情况下使用</code><code class="bash functions">join</code><code class="bash plain">命令，就相当于数据库中的内连接，关键字不匹配的行不会输出。</code></div><div class="line number23 index22 alt2"><code class="bash plain">不指定参数，即通过两个文件中相同元素进行连接，如下两个文件相同的就是第一列的1,2,3,4,5,6，其他多余的都删除</code></div><div class="line number24 index23 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test1</code></div><div class="line number25 index24 alt2"><code class="bash plain">1 wang</code></div><div class="line number26 index25 alt1"><code class="bash plain">2 han</code></div><div class="line number27 index26 alt2"><code class="bash plain">3 niu</code></div><div class="line number28 index27 alt1"><code class="bash plain">4 xiao</code></div><div class="line number29 index28 alt2"><code class="bash plain">5 </code><code class="bash functions">ping</code></div><div class="line number30 index29 alt1"><code class="bash plain">6 hang</code></div><div class="line number31 index30 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test2</code></div><div class="line number32 index31 alt1"><code class="bash plain">1 张三</code></div><div class="line number33 index32 alt2"><code class="bash plain">2 徐思</code></div><div class="line number34 index33 alt1"><code class="bash plain">3 刘磊</code></div><div class="line number35 index34 alt2"><code class="bash plain">4 杨洋</code></div><div class="line number36 index35 alt1"><code class="bash plain">5 李玉</code></div><div class="line number37 index36 alt2"><code class="bash plain">6 王一</code></div><div class="line number38 index37 alt1"><code class="bash plain">7 张麻</code></div><div class="line number39 index38 alt2"><code class="bash plain">8 赫赫</code></div><div class="line number40 index39 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join test1 test2</code></div><div class="line number41 index40 alt2"><code class="bash plain">1 wang 张三</code></div><div class="line number42 index41 alt1"><code class="bash plain">2 han 徐思</code></div><div class="line number43 index42 alt2"><code class="bash plain">3 niu 刘磊</code></div><div class="line number44 index43 alt1"><code class="bash plain">4 xiao 杨洋</code></div><div class="line number45 index44 alt2"><code class="bash plain">5 </code><code class="bash functions">ping</code> <code class="bash plain">李玉</code></div><div class="line number46 index45 alt1"><code class="bash plain">6 hang 王一</code></div><div class="line number47 index46 alt2">&nbsp;</div><div class="line number48 index47 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test3</code></div><div class="line number49 index48 alt2"><code class="bash plain">1 w2</code></div><div class="line number50 index49 alt1"><code class="bash plain">3 r4</code></div><div class="line number51 index50 alt2"><code class="bash plain">4 y7</code></div><div class="line number52 index51 alt1"><code class="bash plain">5 ij</code></div><div class="line number53 index52 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join test3 test2</code></div><div class="line number54 index53 alt1"><code class="bash plain">1 w2 张三</code></div><div class="line number55 index54 alt2"><code class="bash plain">3 r4 刘磊</code></div><div class="line number56 index55 alt1"><code class="bash plain">4 y7 杨洋</code></div><div class="line number57 index56 alt2"><code class="bash plain">5 ij 李玉</code></div><div class="line number58 index57 alt1">&nbsp;</div><div class="line number59 index58 alt2"><code class="bash plain">2）左连接（又称左外连接，显示左边所有记录）。 也就是以左边件为主！！！</code></div><div class="line number60 index59 alt1"><code class="bash plain">=============================================================================</code></div><div class="line number61 index60 alt2"><code class="bash plain">显示左边文件中的所有记录，右边文件中没有匹配的显示空白。</code></div><div class="line number62 index61 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -a1 test1 test2</code></div><div class="line number63 index62 alt2"><code class="bash plain">1 wang 张三</code></div><div class="line number64 index63 alt1"><code class="bash plain">2 han 徐思</code></div><div class="line number65 index64 alt2"><code class="bash plain">3 niu 刘磊</code></div><div class="line number66 index65 alt1"><code class="bash plain">4 xiao 杨洋</code></div><div class="line number67 index66 alt2"><code class="bash plain">5 </code><code class="bash functions">ping</code> <code class="bash plain">李玉</code></div><div class="line number68 index67 alt1"><code class="bash plain">6 hang 王一</code></div><div class="line number69 index68 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -a1 test3 test2</code></div><div class="line number70 index69 alt1"><code class="bash plain">1 w2 张三</code></div><div class="line number71 index70 alt2"><code class="bash plain">3 r4 刘磊</code></div><div class="line number72 index71 alt1"><code class="bash plain">4 y7 杨洋</code></div><div class="line number73 index72 alt2"><code class="bash plain">5 ij 李玉</code></div><div class="line number74 index73 alt1">&nbsp;</div><div class="line number75 index74 alt2"><code class="bash plain">3）右连接（又称右外连接，显示右边所有记录）。也就是以右边文件为主！！！</code></div><div class="line number76 index75 alt1"><code class="bash plain">=============================================================================</code></div><div class="line number77 index76 alt2"><code class="bash plain">显示右边文件中的所有记录，左边文件中没有匹配的显示空白。</code></div><div class="line number78 index77 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -a2 test1 test2 </code></div><div class="line number79 index78 alt2"><code class="bash plain">1 wang 张三</code></div><div class="line number80 index79 alt1"><code class="bash plain">2 han 徐思</code></div><div class="line number81 index80 alt2"><code class="bash plain">3 niu 刘磊</code></div><div class="line number82 index81 alt1"><code class="bash plain">4 xiao 杨洋</code></div><div class="line number83 index82 alt2"><code class="bash plain">5 </code><code class="bash functions">ping</code> <code class="bash plain">李玉</code></div><div class="line number84 index83 alt1"><code class="bash plain">6 hang 王一</code></div><div class="line number85 index84 alt2"><code class="bash plain">7 张麻</code></div><div class="line number86 index85 alt1"><code class="bash plain">8 赫赫</code></div><div class="line number87 index86 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -a2 test3 test2</code></div><div class="line number88 index87 alt1"><code class="bash plain">1 w2 张三</code></div><div class="line number89 index88 alt2"><code class="bash plain">2 徐思</code></div><div class="line number90 index89 alt1"><code class="bash plain">3 r4 刘磊</code></div><div class="line number91 index90 alt2"><code class="bash plain">4 y7 杨洋</code></div><div class="line number92 index91 alt1"><code class="bash plain">5 ij 李玉</code></div><div class="line number93 index92 alt2"><code class="bash plain">6 王一</code></div><div class="line number94 index93 alt1"><code class="bash plain">7 张麻</code></div><div class="line number95 index94 alt2"><code class="bash plain">8 赫赫</code></div><div class="line number96 index95 alt1">&nbsp;</div><div class="line number97 index96 alt2"><code class="bash plain">4）全连接（又称全外连接，显示左边和右边所有记录）</code></div><div class="line number98 index97 alt1"><code class="bash plain">=============================================================================</code></div><div class="line number99 index98 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -a1 -a2 test1 test2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number100 index99 alt1"><code class="bash plain">1 wang 张三</code></div><div class="line number101 index100 alt2"><code class="bash plain">2 han 徐思</code></div><div class="line number102 index101 alt1"><code class="bash plain">3 niu 刘磊</code></div><div class="line number103 index102 alt2"><code class="bash plain">4 xiao 杨洋</code></div><div class="line number104 index103 alt1"><code class="bash plain">5 </code><code class="bash functions">ping</code> <code class="bash plain">李玉</code></div><div class="line number105 index104 alt2"><code class="bash plain">6 hang 王一</code></div><div class="line number106 index105 alt1"><code class="bash plain">7 张麻</code></div><div class="line number107 index106 alt2"><code class="bash plain">8 赫赫</code></div><div class="line number108 index107 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -a1 -a2 test3 test2</code></div><div class="line number109 index108 alt2"><code class="bash plain">1 w2 张三</code></div><div class="line number110 index109 alt1"><code class="bash plain">2 徐思</code></div><div class="line number111 index110 alt2"><code class="bash plain">3 r4 刘磊</code></div><div class="line number112 index111 alt1"><code class="bash plain">4 y7 杨洋</code></div><div class="line number113 index112 alt2"><code class="bash plain">5 ij 李玉</code></div><div class="line number114 index113 alt1"><code class="bash plain">6 王一</code></div><div class="line number115 index114 alt2"><code class="bash plain">7 张麻</code></div><div class="line number116 index115 alt1"><code class="bash plain">8 赫赫</code></div><div class="line number117 index116 alt2">&nbsp;</div><div class="line number118 index117 alt1"><code class="bash plain">5）指定输出字段</code></div><div class="line number119 index118 alt2"><code class="bash plain">=============================================================================</code></div><div class="line number120 index119 alt1"><code class="bash plain">比如参数 -o 1.1 表示只输出第一个文件的第一个字段。</code></div><div class="line number121 index120 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -o 1.1 test1 test2</code></div><div class="line number122 index121 alt1"><code class="bash plain">1</code></div><div class="line number123 index122 alt2"><code class="bash plain">2</code></div><div class="line number124 index123 alt1"><code class="bash plain">3</code></div><div class="line number125 index124 alt2"><code class="bash plain">4</code></div><div class="line number126 index125 alt1"><code class="bash plain">5</code></div><div class="line number127 index126 alt2"><code class="bash plain">6</code></div><div class="line number128 index127 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -o 1.1 test3 test2</code></div><div class="line number129 index128 alt2"><code class="bash plain">1</code></div><div class="line number130 index129 alt1"><code class="bash plain">3</code></div><div class="line number131 index130 alt2"><code class="bash plain">4</code></div><div class="line number132 index131 alt1"><code class="bash plain">5</code></div><div class="line number133 index132 alt2">&nbsp;</div><div class="line number134 index133 alt1"><code class="bash plain">-o 1.2 只输出第一个文件的第二个字段</code></div><div class="line number135 index134 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -o 1.2 test1 test2</code></div><div class="line number136 index135 alt1"><code class="bash plain">wang</code></div><div class="line number137 index136 alt2"><code class="bash plain">han</code></div><div class="line number138 index137 alt1"><code class="bash plain">niu</code></div><div class="line number139 index138 alt2"><code class="bash plain">xiao</code></div><div class="line number140 index139 alt1"><code class="bash functions">ping</code></div><div class="line number141 index140 alt2"><code class="bash plain">hang</code></div><div class="line number142 index141 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -o 1.2 test3 test2</code></div><div class="line number143 index142 alt2"><code class="bash plain">w2</code></div><div class="line number144 index143 alt1"><code class="bash plain">r4</code></div><div class="line number145 index144 alt2"><code class="bash plain">y7</code></div><div class="line number146 index145 alt1"><code class="bash plain">ij</code></div><div class="line number147 index146 alt2">&nbsp;</div><div class="line number148 index147 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -o 1.2 2.2 test1 test2</code></div><div class="line number149 index148 alt2"><code class="bash plain">wang 张三</code></div><div class="line number150 index149 alt1"><code class="bash plain">han 徐思</code></div><div class="line number151 index150 alt2"><code class="bash plain">niu 刘磊</code></div><div class="line number152 index151 alt1"><code class="bash plain">xiao 杨洋</code></div><div class="line number153 index152 alt2"><code class="bash functions">ping</code> <code class="bash plain">李玉</code></div><div class="line number154 index153 alt1"><code class="bash plain">hang 王一</code></div><div class="line number155 index154 alt2">&nbsp;</div><div class="line number156 index155 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -o 2.2 1.2 test1 test2 </code></div><div class="line number157 index156 alt2"><code class="bash plain">张三 wang</code></div><div class="line number158 index157 alt1"><code class="bash plain">徐思 han</code></div><div class="line number159 index158 alt2"><code class="bash plain">刘磊 niu</code></div><div class="line number160 index159 alt1"><code class="bash plain">杨洋 xiao</code></div><div class="line number161 index160 alt2"><code class="bash plain">李玉 </code><code class="bash functions">ping</code></div><div class="line number162 index161 alt1"><code class="bash plain">王一 hang</code></div><div class="line number163 index162 alt2">&nbsp;</div><div class="line number164 index163 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -o 1.1 2.2 test1 test2&nbsp;&nbsp;&nbsp; </code></div><div class="line number165 index164 alt2"><code class="bash plain">1 张三</code></div><div class="line number166 index165 alt1"><code class="bash plain">2 徐思</code></div><div class="line number167 index166 alt2"><code class="bash plain">3 刘磊</code></div><div class="line number168 index167 alt1"><code class="bash plain">4 杨洋</code></div><div class="line number169 index168 alt2"><code class="bash plain">5 李玉</code></div><div class="line number170 index169 alt1"><code class="bash plain">6 王一</code></div><div class="line number171 index170 alt2">&nbsp;</div><div class="line number172 index171 alt1"><code class="bash plain">6）指定分隔符</code></div><div class="line number173 index172 alt2"><code class="bash plain">=============================================================================</code></div><div class="line number174 index173 alt1"><code class="bash functions">join</code> <code class="bash plain">-t </code><code class="bash string">"分隔符"</code>&nbsp;&nbsp; <code class="bash plain">注意：这个分隔符必须是两个文件中都存在的！！</code></div><div class="line number175 index174 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -t ':' test1 test2</code></div><div class="line number176 index175 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -t ' ' test1 test2</code></div><div class="line number177 index176 alt2"><code class="bash plain">1 wang 张三</code></div><div class="line number178 index177 alt1"><code class="bash plain">2 han 徐思</code></div><div class="line number179 index178 alt2"><code class="bash plain">3 niu 刘磊</code></div><div class="line number180 index179 alt1"><code class="bash plain">4 xiao 杨洋</code></div><div class="line number181 index180 alt2"><code class="bash plain">5 </code><code class="bash functions">ping</code> <code class="bash plain">李玉</code></div><div class="line number182 index181 alt1"><code class="bash plain">6 hang 王一</code></div><div class="line number183 index182 alt2">&nbsp;</div><div class="line number184 index183 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha1</code></div><div class="line number185 index184 alt2"><code class="bash plain">a:11:aa:111:aaa</code></div><div class="line number186 index185 alt1"><code class="bash plain">b:22:aff:5t</code></div><div class="line number187 index186 alt2"><code class="bash plain">c:33:hji:o0p:p8u</code></div><div class="line number188 index187 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha2</code></div><div class="line number189 index188 alt2"><code class="bash plain">a:nj:5:c</code></div><div class="line number190 index189 alt1"><code class="bash plain">b:ok:90</code></div><div class="line number191 index190 alt2"><code class="bash plain">c:yh8</code></div><div class="line number192 index191 alt1"><code class="bash plain">d:p:0:9</code></div><div class="line number193 index192 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># join -t ":" haha1 haha2</code></div><div class="line number194 index193 alt1"><code class="bash plain">a:11:aa:111:aaa:nj:5:c</code></div><div class="line number195 index194 alt2"><code class="bash plain">b:22:aff:5t:ok:90</code></div><div class="line number196 index195 alt1"><code class="bash plain">c:33:hji:o0p:p8u:yh8</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">20）<span style="color: rgba(255, 0, 255, 1)">paste&nbsp;</span>命令用法</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_610986" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">paste</code> <code class="bash plain">命令用于合并文件的列，会把每个文件以列对列的方式，一列列地加以合并。</code></div><div class="line number2 index1 alt1"><code class="bash plain">语法</code></div><div class="line number3 index2 alt2"><code class="bash functions">paste</code> <code class="bash plain">[-s][-d &lt;间隔字符&gt;][--help][--version][文件...]</code></div><div class="line number4 index3 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number5 index4 alt2"><code class="bash plain">参数：</code></div><div class="line number6 index5 alt1"><code class="bash plain">-d&lt;间隔字符&gt;或--delimiters=&lt;间隔字符&gt; ： 用指定的间隔字符取代跳格字符。</code></div><div class="line number7 index6 alt2"><code class="bash plain">-s或--serial:&nbsp; 串列进行而非平行处理。</code></div><div class="line number8 index7 alt1"><code class="bash plain">--help:&nbsp; 在线帮助。</code></div><div class="line number9 index8 alt2"><code class="bash plain">--version:&nbsp; 显示帮助信息。</code></div><div class="line number10 index9 alt1"><code class="bash plain">[文件…]:&nbsp; 指定操作的文件路径</code></div><div class="line number11 index10 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="bash plain">比如：</code></div><div class="line number13 index12 alt2"><code class="bash functions">paste</code> <code class="bash functions">file</code> <code class="bash plain">testfile testfile1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#合并指定文件的内容</code></div><div class="line number14 index13 alt1"><code class="bash functions">paste</code> <code class="bash functions">file</code> <code class="bash plain">testfile testfile1&nbsp; -d </code><code class="bash string">":"</code>&nbsp;&nbsp;&nbsp; <code class="bash comments">#合并指定文件的内容,并使用逗号隔开。-d后面的分隔符可以自行定义！</code></div><div class="line number15 index14 alt2"><code class="bash functions">paste</code> <code class="bash plain">-s file1 file2&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#将file1和file2文件的各自多行内容合并到各自的一行里面进行展示。使用-s参数可以将一个文件中的多行数据合并为一行进行显示。</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="bash plain">注意：</code></div><div class="line number18 index17 alt1"><code class="bash functions">paste</code> <code class="bash plain">可以针对多个文件进行合并！！也可以针对一个文件进行处理！</code></div><div class="line number19 index18 alt2"><code class="bash functions">join</code>&nbsp; <code class="bash plain">只能针对两个文件进行连接！！！</code></div><div class="line number20 index19 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number21 index20 alt2"><code class="bash plain">示例如下：</code></div><div class="line number22 index21 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat aa.txt</code></div><div class="line number23 index22 alt2"><code class="bash plain">11</code></div><div class="line number24 index23 alt1"><code class="bash plain">22</code></div><div class="line number25 index24 alt2"><code class="bash plain">33</code></div><div class="line number26 index25 alt1"><code class="bash plain">44</code></div><div class="line number27 index26 alt2"><code class="bash plain">55</code></div><div class="line number28 index27 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat bb.txt</code></div><div class="line number29 index28 alt2"><code class="bash plain">aa</code></div><div class="line number30 index29 alt1"><code class="bash plain">ab</code></div><div class="line number31 index30 alt2"><code class="bash plain">ac</code></div><div class="line number32 index31 alt1"><code class="bash plain">cc</code></div><div class="line number33 index32 alt2"><code class="bash functions">cd</code></div><div class="line number34 index33 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number35 index34 alt2"><code class="bash plain">使用</code><code class="bash functions">paste</code><code class="bash plain">命令将文件进行合并</code></div><div class="line number36 index35 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># paste aa.txt bb.txt</code></div><div class="line number37 index36 alt2"><code class="bash plain">11 aa</code></div><div class="line number38 index37 alt1"><code class="bash plain">22 ab</code></div><div class="line number39 index38 alt2"><code class="bash plain">33 ac</code></div><div class="line number40 index39 alt1"><code class="bash plain">44 cc</code></div><div class="line number41 index40 alt2"><code class="bash plain">55 </code><code class="bash functions">cd</code></div><div class="line number42 index41 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number43 index42 alt2"><code class="bash plain">合并后使用</code><code class="bash string">":"</code><code class="bash plain">隔开</code></div><div class="line number44 index43 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># paste -d":" aa.txt bb.txt</code></div><div class="line number45 index44 alt2"><code class="bash plain">11:aa</code></div><div class="line number46 index45 alt1"><code class="bash plain">22:ab</code></div><div class="line number47 index46 alt2"><code class="bash plain">33:ac</code></div><div class="line number48 index47 alt1"><code class="bash plain">44:cc</code></div><div class="line number49 index48 alt2"><code class="bash plain">55:</code><code class="bash functions">cd</code></div><div class="line number50 index49 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number51 index50 alt2"><code class="bash plain">合并后使用</code><code class="bash string">"-"</code><code class="bash plain">隔开</code></div><div class="line number52 index51 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># paste -d"-" aa.txt bb.txt</code></div><div class="line number53 index52 alt2"><code class="bash plain">11-aa</code></div><div class="line number54 index53 alt1"><code class="bash plain">22-ab</code></div><div class="line number55 index54 alt2"><code class="bash plain">33-ac</code></div><div class="line number56 index55 alt1"><code class="bash plain">44-cc</code></div><div class="line number57 index56 alt2"><code class="bash plain">55-</code><code class="bash functions">cd</code></div><div class="line number58 index57 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number59 index58 alt2"><code class="bash functions">paste</code> <code class="bash plain">-s 可以将一个文件中的多行内容合并为一行。例如：</code></div><div class="line number60 index59 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat file</code></div><div class="line number61 index60 alt2"><code class="bash plain">111</code></div><div class="line number62 index61 alt1"><code class="bash plain">222</code></div><div class="line number63 index62 alt2"><code class="bash plain">333</code></div><div class="line number64 index63 alt1"><code class="bash plain">444</code></div><div class="line number65 index64 alt2"><code class="bash plain">555</code></div><div class="line number66 index65 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat file |paste -s</code></div><div class="line number67 index66 alt2"><code class="bash plain">111&nbsp;&nbsp;&nbsp;&nbsp; 222&nbsp;&nbsp;&nbsp;&nbsp; 333&nbsp;&nbsp;&nbsp;&nbsp; 444&nbsp;&nbsp;&nbsp;&nbsp; 555</code></div><div class="line number68 index67 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat file |paste -s -d":"</code></div><div class="line number69 index68 alt2"><code class="bash plain">111:222:333:444:555</code></div><div class="line number70 index69 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat file |paste -s -d ":"</code></div><div class="line number71 index70 alt2"><code class="bash plain">111:222:333:444:555</code></div><div class="line number72 index71 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat file |paste -s -d "-" </code></div><div class="line number73 index72 alt2"><code class="bash plain">111-222-333-444-555</code></div><div class="line number74 index73 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat file |paste -s -d "---"</code></div><div class="line number75 index74 alt2"><code class="bash plain">111-222-333-444-555</code></div><div class="line number76 index75 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat file |paste -s -d "," </code></div><div class="line number77 index76 alt2"><code class="bash plain">111,222,333,444,555</code></div><div class="line number78 index77 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number79 index78 alt2"><code class="bash plain">看下面一个小需求：</code></div><div class="line number80 index79 alt1"><code class="bash plain">有一个log.txt文件，第二列是ip，现在需要将log.txt文件中的ip列取出来放在一行，并用逗号隔开。</code></div><div class="line number81 index80 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number82 index81 alt1"><code class="bash plain">第一种做法：</code><code class="bash functions">awk</code> <code class="bash plain">+ </code><code class="bash functions">paste</code></div><div class="line number83 index82 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat log.txt</code></div><div class="line number84 index83 alt1"><code class="bash plain">17:05 172.16.60.34 sadfjsafjsdf</code></div><div class="line number85 index84 alt2"><code class="bash plain">17:14 172.16.60.35 asdfasudfasjfasjfklsafsaf</code></div><div class="line number86 index85 alt1"><code class="bash plain">17:45 172.16.60.38 dsafkjdsajflsajfadf</code></div><div class="line number87 index86 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number88 index87 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat log.txt</code></div><div class="line number89 index88 alt2"><code class="bash plain">17:05 172.16.60.34 sadfjsafjsdf</code></div><div class="line number90 index89 alt1"><code class="bash plain">17:14 172.16.60.35 asdfasudfasjfasjfklsafsaf</code></div><div class="line number91 index90 alt2"><code class="bash plain">17:45 172.16.60.38 dsafkjdsajflsajfadf</code></div><div class="line number92 index91 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number93 index92 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat log.txt |awk '{print $2}'</code></div><div class="line number94 index93 alt1"><code class="bash plain">172.16.60.34</code></div><div class="line number95 index94 alt2"><code class="bash plain">172.16.60.35</code></div><div class="line number96 index95 alt1"><code class="bash plain">172.16.60.38</code></div><div class="line number97 index96 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number98 index97 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat log.txt |awk '{print $2}'|paste -s</code></div><div class="line number99 index98 alt2"><code class="bash plain">172.16.60.34&nbsp;&nbsp;&nbsp; 172.16.60.35&nbsp;&nbsp;&nbsp; 172.16.60.38</code></div><div class="line number100 index99 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number101 index100 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat log.txt |awk '{print $2}'|paste -s -d","</code></div><div class="line number102 index101 alt1"><code class="bash plain">172.16.60.34,172.16.60.35,172.16.60.38</code></div><div class="line number103 index102 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number104 index103 alt1"><code class="bash plain">另一种做法是：</code><code class="bash functions">awk</code> <code class="bash plain">+ </code><code class="bash functions">xargs</code> <code class="bash plain">+ </code><code class="bash functions">sed</code></div><div class="line number105 index104 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat log.txt |awk '{print $2}'</code></div><div class="line number106 index105 alt1"><code class="bash plain">172.16.60.34</code></div><div class="line number107 index106 alt2"><code class="bash plain">172.16.60.35</code></div><div class="line number108 index107 alt1"><code class="bash plain">172.16.60.38</code></div><div class="line number109 index108 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat log.txt |awk '{print $2}'|xargs</code></div><div class="line number110 index109 alt1"><code class="bash plain">172.16.60.34 172.16.60.35 172.16.60.38</code></div><div class="line number111 index110 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat log.txt |awk '{print $2}'|xargs|sed 's/ /,/g'</code></div><div class="line number112 index111 alt1"><code class="bash plain">172.16.60.34,172.16.60.35,172.16.60.38</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">21）<span style="color: rgba(255, 0, 255, 1)">su</span>命令用法</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_243127" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">su</code><code class="bash plain">命令用于变更为其他使用者的身份，除 root 外，需要键入该使用者的密码。（即root用户使用</code><code class="bash functions">su</code><code class="bash plain">切换到其他用户不需要输入密码，其他用户之间使用</code><code class="bash functions">su</code><code class="bash plain">切换均需要输入密码）。</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="bash plain">===================================</code></div><div class="line number4 index3 alt1"><code class="bash plain">1）</code><code class="bash functions">su</code> <code class="bash plain">和 </code><code class="bash functions">su</code> <code class="bash plain">- 的区别</code></div><div class="line number5 index4 alt2"><code class="bash string">"su"</code><code class="bash plain">命令仅仅是切换了用户身份，但用户的shell环境变量没有切换！即</code><code class="bash functions">su</code><code class="bash plain">切换用户身份后，环境变量还是切换前的用户的环境变量。</code></div><div class="line number6 index5 alt1"><code class="bash string">"su -"</code><code class="bash plain">命令不仅切换了用户身份，用户的shell环境变量也一起切换！即</code><code class="bash functions">su</code><code class="bash plain">切换用户身份后，环境变量是切换后的用户的环境变量。</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="bash plain">示例：</code></div><div class="line number9 index8 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># su kevin</code></div><div class="line number10 index9 alt1"><code class="bash plain">[kevin@ss-server root]$ </code><code class="bash functions">whoami</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash comments">#用户身份切换了</code></div><div class="line number11 index10 alt2"><code class="bash plain">kevin</code></div><div class="line number12 index11 alt1"><code class="bash plain">[kevin@ss-server root]$ </code><code class="bash functions">pwd</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash comments">#用户的环境变量没有切换</code></div><div class="line number13 index12 alt2"><code class="bash plain">/root</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># su - kevin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number16 index15 alt1"><code class="bash plain">Last login: Fri Dec&nbsp; 6 10:29:59 CST 2019 on pts</code><code class="bash plain">/16</code></div><div class="line number17 index16 alt2"><code class="bash plain">[kevin@ss-server ~]$ </code><code class="bash functions">whoami</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash comments">#用户身份切换了</code></div><div class="line number18 index17 alt1"><code class="bash plain">kevin</code></div><div class="line number19 index18 alt2"><code class="bash plain">[kevin@ss-server ~]$ </code><code class="bash functions">pwd</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash comments">#用户的环境变量也切换了</code></div><div class="line number20 index19 alt1"><code class="bash plain">/home/kevin</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="bash plain">2）-c 参数，表示切换到某用户后执行一些命令，注意，这个命令是在切换用户后的状态下执行的，并且执行命令后再变回原来的用户。</code></div><div class="line number23 index22 alt2"><code class="bash plain">示例：</code></div><div class="line number24 index23 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># su - kevin -c "pwd"&nbsp;&nbsp;&nbsp;&nbsp; #即是在切换到kevin用户状态下执行的"pwd"命令。这里使用"su -"，即也切换了shell环境变量</code></div><div class="line number25 index24 alt2"><code class="bash plain">/home/kevin</code></div><div class="line number26 index25 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># su kevin -c "pwd"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #即是在切换到kevin用户状态下执行的"pwd"命令。这里没有切换shell环境变量</code></div><div class="line number27 index26 alt2"><code class="bash plain">/root</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="bash functions">su</code><code class="bash plain">和</code><code class="bash functions">sudo</code><code class="bash plain">权限使用可参考：</code></div><div class="line number30 index29 alt1"><code class="bash plain">https:</code><code class="bash plain">//www</code><code class="bash plain">.cnblogs.com</code><code class="bash plain">/kevingrace/p/5823003</code><code class="bash plain">.html</code></div><div class="line number31 index30 alt2"><code class="bash plain">https:</code><code class="bash plain">//www</code><code class="bash plain">.cnblogs.com</code><code class="bash plain">/kevingrace/p/6130008</code><code class="bash plain">.html</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">22）<span style="color: rgba(255, 0, 255, 1)">test&nbsp;</span>命令用法</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_84582" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div><div class="line number169 index168 alt2">169</div><div class="line number170 index169 alt1">170</div><div class="line number171 index170 alt2">171</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">test</code> <code class="bash plain">命令最短的定义可能是评估一个表达式；如果条件为真，则返回一个 0 值。如果表达式不为真，则返回一个大于 0 的值（一般为1）,也可以将其称为假值。</code></div><div class="line number2 index1 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number3 index2 alt2"><code class="bash plain">需要注意：</code></div><div class="line number4 index3 alt1"><code class="bash plain">1. 在shell中，</code><code class="bash functions">test</code><code class="bash plain">命令 和 [] 是同一个命令的不同名称。也就是说，</code><code class="bash functions">test</code> <code class="bash plain">xxxx 等同于 [ xxxx ] 的形式！！，注意[]里面的内容两边要有空格！！</code></div><div class="line number5 index4 alt2"><code class="bash plain">2. 检查最后所执行命令的状态的最简便方法是使用 $? 值。</code></div><div class="line number6 index5 alt1"><code class="bash plain">3. </code><code class="bash functions">test</code><code class="bash plain">功能是检查文件和比较值。</code></div><div class="line number7 index6 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number8 index7 alt1"><code class="bash functions">test</code> <code class="bash plain">和 [ ] 的语法如下：</code></div><div class="line number9 index8 alt2"><code class="bash functions">test</code> <code class="bash plain">expression</code></div><div class="line number10 index9 alt1"><code class="bash plain">[ expression ]</code></div><div class="line number11 index10 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="bash plain">其中，expression为</code><code class="bash functions">test</code><code class="bash plain">命令构造的表达式。这里expression是</code><code class="bash functions">test</code><code class="bash plain">命令可以理解的任何有效表达式，该简化格式将是我们可能会踫见的最常用格式返回值：</code></div><div class="line number13 index12 alt2"><code class="bash functions">test</code><code class="bash plain">命令或者返回0(真) 或者返回1(假).</code></div><div class="line number14 index13 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number15 index14 alt2"><code class="bash plain">因为它们彼此互为别名，所以使用 </code><code class="bash functions">test</code> <code class="bash plain">或 [ ] 均需要一个表达式。表达式一般是文本、数字或文件和目录属性的比较，并且可以包含变量、常量和运算符。</code></div><div class="line number16 index15 alt1"><code class="bash plain">运算符可以是字符串运算符、整数运算符、文件运算符或布尔运算符 — 我们将在以下各部分依次介绍每一种运算符。</code></div><div class="line number17 index16 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number18 index17 alt1"><code class="bash functions">test</code><code class="bash plain">可理解的表达式类型分为四类：</code></div><div class="line number19 index18 alt2"><code class="bash plain">1. 表达式判断</code></div><div class="line number20 index19 alt1"><code class="bash plain">2. 字符串比较</code></div><div class="line number21 index20 alt2"><code class="bash plain">3. 数字比较</code></div><div class="line number22 index21 alt1"><code class="bash plain">4. 文件比较</code></div><div class="line number23 index22 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number24 index23 alt1"><code class="bash plain">1）判断表达式</code></div><div class="line number25 index24 alt2"><code class="bash plain">--------------------------------------------------------</code></div><div class="line number26 index25 alt1"><code class="bash keyword">if</code> <code class="bash functions">test</code> <code class="bash plain">表达式&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#表达式为真</code></div><div class="line number27 index26 alt2"><code class="bash keyword">if</code> <code class="bash functions">test</code> <code class="bash plain">! 表达式&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#表达式为假</code></div><div class="line number28 index27 alt1"><code class="bash functions">test</code> <code class="bash plain">表达式1 –a 表达式 2&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#两个表达式都为真</code></div><div class="line number29 index28 alt2"><code class="bash functions">test</code> <code class="bash plain">表达式1 –o 表达式2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#两个表达式有一个为真</code></div><div class="line number30 index29 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number31 index30 alt2"><code class="bash plain">2）判断字符串</code></div><div class="line number32 index31 alt1"><code class="bash plain">--------------------------------------------------------</code></div><div class="line number33 index32 alt2"><code class="bash functions">test</code> <code class="bash plain">–n 字符串&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#字符串的长度非零。即非空字符串。</code></div><div class="line number34 index33 alt1"><code class="bash functions">test</code> <code class="bash plain">–z 字符串&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#字符串的长度为零。即空字符串。</code></div><div class="line number35 index34 alt2"><code class="bash functions">test</code> <code class="bash plain">字符串1＝字符串 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#字符串相等</code></div><div class="line number36 index35 alt1"><code class="bash functions">test</code> <code class="bash plain">字符串1 !＝字符串2&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#字符串不等</code></div><div class="line number37 index36 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number38 index37 alt1"><code class="bash plain">3）判断整数</code></div><div class="line number39 index38 alt2"><code class="bash plain">--------------------------------------------------------</code></div><div class="line number40 index39 alt1"><code class="bash functions">test</code> <code class="bash plain">整数1 –</code><code class="bash keyword">eq</code> <code class="bash plain">整数2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#整数相等</code></div><div class="line number41 index40 alt2"><code class="bash functions">test</code> <code class="bash plain">整数1 –</code><code class="bash keyword">ne</code> <code class="bash plain">整数 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#整数1不等于整数2</code></div><div class="line number42 index41 alt1"><code class="bash functions">test</code> <code class="bash plain">整数 1 –</code><code class="bash keyword">ge</code> <code class="bash plain">整数2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#整数1大于等于整数2</code></div><div class="line number43 index42 alt2"><code class="bash functions">test</code> <code class="bash plain">整数1 –gt 整数 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#整数1大于整数2</code></div><div class="line number44 index43 alt1"><code class="bash functions">test</code> <code class="bash plain">整数1 –</code><code class="bash keyword">le</code> <code class="bash plain">整数 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#整数1小于等于整数2</code></div><div class="line number45 index44 alt2"><code class="bash functions">test</code> <code class="bash plain">整数1 –lt 整数 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#整数1小于整数2</code></div><div class="line number46 index45 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number47 index46 alt2"><code class="bash plain">4）判断文件</code></div><div class="line number48 index47 alt1"><code class="bash plain">--------------------------------------------------------</code></div><div class="line number49 index48 alt2"><code class="bash functions">test</code> <code class="bash plain">File1 –nt&nbsp; File2&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#文件1比文件2新（new）</code></div><div class="line number50 index49 alt1"><code class="bash functions">test</code> <code class="bash plain">File1 –ot&nbsp; File2&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#文件1比文件2旧（old）</code></div><div class="line number51 index50 alt2"><code class="bash functions">test</code> <code class="bash plain">File1 –ef&nbsp; File2&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#判断两个文件是否与同一个设备相连，是否拥有相同的inode号</code></div><div class="line number52 index51 alt1"><code class="bash functions">test</code> <code class="bash plain">–d File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#文件存在并且是目录</code></div><div class="line number53 index52 alt2"><code class="bash functions">test</code> <code class="bash plain">–e File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#文件存在</code></div><div class="line number54 index53 alt1"><code class="bash functions">test</code> <code class="bash plain">–f File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#文件存在并且是正规文件</code></div><div class="line number55 index54 alt2"><code class="bash functions">test</code> <code class="bash plain">–h File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#文件存在并且是一个符号链接（同-L）。即存在且是软链接文件</code></div><div class="line number56 index55 alt1"><code class="bash functions">test</code> <code class="bash plain">–L File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#文件存在并且是一个符号链接（同-h）。即存在且是软链接文件</code></div><div class="line number57 index56 alt2"><code class="bash functions">test</code> <code class="bash plain">–k File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#文件存在并且设置了sticky位（即设置了t权限）</code></div><div class="line number58 index57 alt1"><code class="bash functions">test</code> <code class="bash plain">–r File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#文件存在并且可读</code></div><div class="line number59 index58 alt2"><code class="bash functions">test</code> <code class="bash plain">–w File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#文件存在并且可写</code></div><div class="line number60 index59 alt1"><code class="bash functions">test</code> <code class="bash plain">–x File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#文件存在并且可执行</code></div><div class="line number61 index60 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number62 index61 alt1"><code class="bash plain">示例如下：</code></div><div class="line number63 index62 alt2"><code class="bash plain">1）判断表达式。下面hang.txt文件是不存在的。</code></div><div class="line number64 index63 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number65 index64 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number66 index65 alt1"><code class="bash keyword">if</code> <code class="bash functions">test</code> <code class="bash plain">`</code><code class="bash functions">cat</code> <code class="bash plain">/hang</code><code class="bash plain">.txt`;</code><code class="bash keyword">then</code></div><div class="line number67 index66 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"haha.txt is exist"</code></div><div class="line number68 index67 alt1"><code class="bash keyword">else</code></div><div class="line number69 index68 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"haha.txt is not exist"</code></div><div class="line number70 index69 alt1"><code class="bash keyword">fi</code></div><div class="line number71 index70 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number72 index71 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number73 index72 alt2"><code class="bash functions">cat</code><code class="bash plain">: </code><code class="bash plain">/hang</code><code class="bash plain">.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number74 index73 alt1"><code class="bash plain">haha.txt is not exist</code></div><div class="line number75 index74 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number76 index75 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number77 index76 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number78 index77 alt1"><code class="bash keyword">if</code> <code class="bash functions">test</code> <code class="bash plain">!`</code><code class="bash functions">cat</code> <code class="bash plain">/hang</code><code class="bash plain">.txt &gt;</code><code class="bash plain">/dev/null</code> <code class="bash plain">2&gt;&amp;1`;</code><code class="bash keyword">then</code></div><div class="line number79 index78 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"haha.txt is exist"</code></div><div class="line number80 index79 alt1"><code class="bash keyword">else</code></div><div class="line number81 index80 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"haha.txt is not exist"</code></div><div class="line number82 index81 alt1"><code class="bash keyword">fi</code></div><div class="line number83 index82 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number84 index83 alt1"><code class="bash plain">haha.txt is exist</code></div><div class="line number85 index84 alt2">&nbsp;</div><div class="line number86 index85 alt1"><code class="bash plain">使用[]的形式操作上面的脚本</code></div><div class="line number87 index86 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number88 index87 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number89 index88 alt2"><code class="bash keyword">if</code> <code class="bash plain">[ `</code><code class="bash functions">cat</code> <code class="bash plain">/hang</code><code class="bash plain">.txt` ];</code><code class="bash keyword">then</code></div><div class="line number90 index89 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"haha.txt is exist"</code></div><div class="line number91 index90 alt2"><code class="bash keyword">else</code></div><div class="line number92 index91 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"haha.txt is not exist"</code></div><div class="line number93 index92 alt2"><code class="bash keyword">fi</code></div><div class="line number94 index93 alt1">&nbsp;</div><div class="line number95 index94 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number96 index95 alt1"><code class="bash functions">cat</code><code class="bash plain">: </code><code class="bash plain">/hang</code><code class="bash plain">.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number97 index96 alt2"><code class="bash plain">haha.txt is not exist</code></div><div class="line number98 index97 alt1">&nbsp;</div><div class="line number99 index98 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number100 index99 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number101 index100 alt2"><code class="bash keyword">if</code> <code class="bash plain">[ !`</code><code class="bash functions">cat</code> <code class="bash plain">/hang</code><code class="bash plain">.txt &gt;</code><code class="bash plain">/dev/null</code> <code class="bash plain">2&gt;&amp;1` ];</code><code class="bash keyword">then</code></div><div class="line number102 index101 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"haha.txt is exist"</code></div><div class="line number103 index102 alt2"><code class="bash keyword">else</code></div><div class="line number104 index103 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"haha.txt is not exist"</code></div><div class="line number105 index104 alt2"><code class="bash keyword">fi</code></div><div class="line number106 index105 alt1">&nbsp;</div><div class="line number107 index106 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number108 index107 alt1"><code class="bash plain">haha.txt is exist</code></div><div class="line number109 index108 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number110 index109 alt1"><code class="bash plain">2）判断第一个参数是否为空字符串，不空则打印该字符串，为空则打印</code><code class="bash string">"空字符串"</code></div><div class="line number111 index110 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number112 index111 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number113 index112 alt2"><code class="bash keyword">if</code> <code class="bash functions">test</code> <code class="bash plain">-n </code><code class="bash string">"$1"</code><code class="bash plain">;</code><code class="bash keyword">then</code></div><div class="line number114 index113 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"$1"</code></div><div class="line number115 index114 alt2"><code class="bash keyword">else</code></div><div class="line number116 index115 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"空字符串"</code></div><div class="line number117 index116 alt2"><code class="bash keyword">fi</code></div><div class="line number118 index117 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number119 index118 alt2"><code class="bash plain">执行结果：</code></div><div class="line number120 index119 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh beijing</code></div><div class="line number121 index120 alt2"><code class="bash plain">beijing</code></div><div class="line number122 index121 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number123 index122 alt2"><code class="bash plain">空字符串</code></div><div class="line number124 index123 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number125 index124 alt2"><code class="bash plain">由于</code><code class="bash functions">test</code> <code class="bash plain">xxxx 等同于 [ xxxx ] 的形式，所以上面还可以改成：</code></div><div class="line number126 index125 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number127 index126 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number128 index127 alt1"><code class="bash keyword">if</code> <code class="bash plain">[ -n </code><code class="bash string">"$1"</code> <code class="bash plain">];</code><code class="bash keyword">then</code></div><div class="line number129 index128 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"$1"</code></div><div class="line number130 index129 alt1"><code class="bash keyword">else</code></div><div class="line number131 index130 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"空字符串"</code></div><div class="line number132 index131 alt1"><code class="bash keyword">fi</code></div><div class="line number133 index132 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number134 index133 alt1"><code class="bash plain">执行结果：</code></div><div class="line number135 index134 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh shanghai</code></div><div class="line number136 index135 alt1"><code class="bash plain">shanghai</code></div><div class="line number137 index136 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number138 index137 alt1"><code class="bash plain">空字符串</code></div><div class="line number139 index138 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number140 index139 alt1"><code class="bash plain">3）文件判断</code></div><div class="line number141 index140 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># test -h heihei</code></div><div class="line number142 index141 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $?</code></div><div class="line number143 index142 alt2"><code class="bash plain">0</code></div><div class="line number144 index143 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># [ -h heihei ]</code></div><div class="line number145 index144 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $?&nbsp;&nbsp;&nbsp; </code></div><div class="line number146 index145 alt1"><code class="bash plain">0</code></div><div class="line number147 index146 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number148 index147 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># test -x haha</code></div><div class="line number149 index148 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $?&nbsp;&nbsp; </code></div><div class="line number150 index149 alt1"><code class="bash plain">1</code></div><div class="line number151 index150 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># [ -x haha ]&nbsp;&nbsp; </code></div><div class="line number152 index151 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $?&nbsp; </code></div><div class="line number153 index152 alt2"><code class="bash plain">1</code></div><div class="line number154 index153 alt1"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number155 index154 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># ll haha</code></div><div class="line number156 index155 alt1"><code class="bash plain">-rw-r--r-- 1 root root 32 Dec 18 13:06 haha</code></div><div class="line number157 index156 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># ll hehe</code></div><div class="line number158 index157 alt1"><code class="bash plain">-rw-r--r-- 1 root root 0 Dec 19 17:19 hehe</code></div><div class="line number159 index158 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># test haha -nt hehe</code></div><div class="line number160 index159 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $?</code></div><div class="line number161 index160 alt2"><code class="bash plain">1</code></div><div class="line number162 index161 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># [ haha -nt hehe ]</code></div><div class="line number163 index162 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number164 index163 alt1"><code class="bash plain">1</code></div><div class="line number165 index164 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number166 index165 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># test haha -ot hehe</code></div><div class="line number167 index166 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $?</code></div><div class="line number168 index167 alt1"><code class="bash plain">0</code></div><div class="line number169 index168 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># [ haha -ot hehe ]</code></div><div class="line number170 index169 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number171 index170 alt2"><code class="bash plain">0</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">23）<span style="color: rgba(255, 0, 255, 1)">printf&nbsp;</span>命令用法</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_768554" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">关于</code><code class="bash functions">printf</code><code class="bash plain">的含义，需要注意下面四点：</code></div><div class="line number2 index1 alt1"><code class="bash plain">1. </code><code class="bash functions">printf</code> <code class="bash plain">命令用于格式化输出，它是</code><code class="bash functions">echo</code><code class="bash plain">命令的增强版。它是C语言</code><code class="bash functions">printf</code><code class="bash plain">()库函数的一个有限的变形，并且在语法上有些不同。</code></div><div class="line number3 index2 alt2"><code class="bash plain">2. </code><code class="bash functions">printf</code> <code class="bash plain">由 POSIX 标准所定义，因此使用 </code><code class="bash functions">printf</code> <code class="bash plain">的脚本比使用 </code><code class="bash functions">echo</code> <code class="bash plain">移植性好。</code></div><div class="line number4 index3 alt1"><code class="bash plain">3. </code><code class="bash functions">printf</code> <code class="bash plain">使用引用文本或空格分隔的参数，外面可以在 </code><code class="bash functions">printf</code> <code class="bash plain">中使用格式化字符串，还可以制定字符串的宽度、左右对齐方式等。</code></div><div class="line number5 index4 alt2"><code class="bash plain">4. 默认 </code><code class="bash functions">printf</code> <code class="bash plain">不会像 </code><code class="bash functions">echo</code> <code class="bash plain">自动添加换行符，但是可以手动添加 \n。</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="bash functions">printf</code> <code class="bash plain">命令的语法：</code></div><div class="line number8 index7 alt1"><code class="bash functions">printf</code> <code class="bash functions">format</code><code class="bash plain">-string [arguments...]</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="bash plain">参数说明：</code></div><div class="line number11 index10 alt2"><code class="bash functions">format</code><code class="bash plain">-string: 为格式控制字符串</code></div><div class="line number12 index11 alt1"><code class="bash plain">arguments: 为参数列表。</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="bash plain">需要注意：</code></div><div class="line number15 index14 alt2"><code class="bash plain">1. </code><code class="bash functions">printf</code> <code class="bash plain">不像 </code><code class="bash functions">echo</code> <code class="bash plain">那样会自动换行，必须显式添加换行符(\n)。</code></div><div class="line number16 index15 alt1"><code class="bash plain">2. </code><code class="bash functions">printf</code> <code class="bash plain">命令不用加括号</code></div><div class="line number17 index16 alt2"><code class="bash plain">3. </code><code class="bash functions">format</code><code class="bash plain">-string 可以没有引号，但最好加上，单引号双引号均可。</code></div><div class="line number18 index17 alt1"><code class="bash plain">4. 参数多于格式控制符(%)时，</code><code class="bash functions">format</code><code class="bash plain">-string 可以重用，可以将所有参数都转换。</code></div><div class="line number19 index18 alt2"><code class="bash plain">5. arguments 使用空格分隔，不用逗号。</code></div><div class="line number20 index19 alt1">&nbsp;</div><div class="line number21 index20 alt2"><code class="bash plain">示例如下：</code></div><div class="line number22 index21 alt1"><code class="bash functions">echo</code><code class="bash plain">默认自动换行。加上-n参数，则不换行</code></div><div class="line number23 index22 alt2"><code class="bash functions">printf</code><code class="bash plain">默认不会自动换行</code></div><div class="line number24 index23 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo "Hello, Shell"</code></div><div class="line number25 index24 alt2"><code class="bash plain">Hello, Shell</code></div><div class="line number26 index25 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo -n "Hello, Shell"</code></div><div class="line number27 index26 alt2"><code class="bash plain">Hello, Shell[root@ss-server ~]</code><code class="bash comments"># </code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf "Hello, Shell"</code></div><div class="line number30 index29 alt1"><code class="bash plain">Hello, Shell[root@ss-server ~]</code><code class="bash comments"># </code></div><div class="line number31 index30 alt2">&nbsp;</div><div class="line number32 index31 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf "Hello, Shell\n"</code></div><div class="line number33 index32 alt2"><code class="bash plain">Hello, Shell</code></div><div class="line number34 index33 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># </code></div><div class="line number35 index34 alt2">&nbsp;</div><div class="line number36 index35 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf "%-10s %-8s %-4s\n" 姓名 性别 体重kg&nbsp; </code></div><div class="line number37 index36 alt2"><code class="bash plain">姓名&nbsp;&nbsp;&nbsp;&nbsp; 性别&nbsp;&nbsp; 体重kg</code></div><div class="line number38 index37 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf "%-10s %-8s %-4.2f\n" 小明 男 65.1234</code></div><div class="line number39 index38 alt2"><code class="bash plain">小明&nbsp;&nbsp;&nbsp;&nbsp; 男&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 65.12</code></div><div class="line number40 index39 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf "%-10s %-8s %-4.2f\n" 小洋 男 72.6589 </code></div><div class="line number41 index40 alt2"><code class="bash plain">小洋&nbsp;&nbsp;&nbsp;&nbsp; 男&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 72.66</code></div><div class="line number42 index41 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf "%-10s %-8s %-4.2f\n" 小梅 女 48.7167 </code></div><div class="line number43 index42 alt2"><code class="bash plain">小梅&nbsp;&nbsp;&nbsp;&nbsp; 女&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 48.72</code></div><div class="line number44 index43 alt1">&nbsp;</div><div class="line number45 index44 alt2"><code class="bash plain">需要注意：</code></div><div class="line number46 index45 alt1"><code class="bash plain">%d指的是针对数字的格式化</code></div><div class="line number47 index46 alt2"><code class="bash plain">%s指的是字符串的格式化</code></div><div class="line number48 index47 alt1"><code class="bash plain">%-10s 指一个宽度为10个字符（-表示左对齐，没有则表示右对齐），任何字符都会被显示在10个字符宽的字符内，如果不足则自动以空格填充，超过也会将内容全部显示出来。</code></div><div class="line number49 index48 alt2"><code class="bash plain">%-4.2f 指格式化为小数，其中.2指保留2位小数。</code></div><div class="line number50 index49 alt1">&nbsp;</div><div class="line number51 index50 alt2"><code class="bash plain">示例如下：</code></div><div class="line number52 index51 alt1"><code class="bash functions">format</code><code class="bash plain">-string为双引号（换行）</code></div><div class="line number53 index52 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf "%d %s\n" 1 "abc"</code></div><div class="line number54 index53 alt1"><code class="bash plain">1 abc</code></div><div class="line number55 index54 alt2">&nbsp;</div><div class="line number56 index55 alt1"><code class="bash plain">单引号与双引号效果一样（换行）</code></div><div class="line number57 index56 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf '%d %s\n' 1 "abc"</code></div><div class="line number58 index57 alt1"><code class="bash plain">1 abc</code></div><div class="line number59 index58 alt2">&nbsp;</div><div class="line number60 index59 alt1"><code class="bash plain">没有引号也可以输出（不换行）</code></div><div class="line number61 index60 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf %s abcdef</code></div><div class="line number62 index61 alt1"><code class="bash plain">abcdef[root@ss-server ~]</code><code class="bash comments"># </code></div><div class="line number63 index62 alt2">&nbsp;</div><div class="line number64 index63 alt1"><code class="bash plain">格式只指定了一个参数，但多出的参数仍然会按照该格式输出，</code><code class="bash functions">format</code><code class="bash plain">-string 被重用</code></div><div class="line number65 index64 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf %s abc def</code></div><div class="line number66 index65 alt1"><code class="bash plain">abcdef[root@ss-server ~]</code><code class="bash comments"># </code></div><div class="line number67 index66 alt2">&nbsp;</div><div class="line number68 index67 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf "%s\n" abc def</code></div><div class="line number69 index68 alt2"><code class="bash plain">abc</code></div><div class="line number70 index69 alt1"><code class="bash plain">def</code></div><div class="line number71 index70 alt2">&nbsp;</div><div class="line number72 index71 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf "%s %s %s\n" a b c d e f g h i j</code></div><div class="line number73 index72 alt2"><code class="bash plain">a b c</code></div><div class="line number74 index73 alt1"><code class="bash plain">d e f</code></div><div class="line number75 index74 alt2"><code class="bash plain">g h i</code></div><div class="line number76 index75 alt1"><code class="bash plain">j </code></div><div class="line number77 index76 alt2">&nbsp;</div><div class="line number78 index77 alt1"><code class="bash plain">如果没有 arguments，那么 %s 用NULL代替，%d 用 0 代替</code></div><div class="line number79 index78 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf "%s and %d \n"</code></div><div class="line number80 index79 alt1"><code class="bash spaces">&nbsp;</code><code class="bash plain">and 0 </code></div><div class="line number81 index80 alt2">&nbsp;</div><div class="line number82 index81 alt1"><code class="bash plain">如果以 %d 的格式来显示字符串，那么会有警告，提示无效的数字，此时默认置为 0</code></div><div class="line number83 index82 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf "The first program always prints'%s,%d\n'" Hello Shell</code></div><div class="line number84 index83 alt1"><code class="bash plain">-</code><code class="bash functions">bash</code><code class="bash plain">: </code><code class="bash functions">printf</code><code class="bash plain">: Shell: invalid number</code></div><div class="line number85 index84 alt2"><code class="bash plain">The first program always prints'Hello,0</code></div><div class="line number86 index85 alt1">&nbsp;</div><div class="line number87 index86 alt2">&nbsp;</div><div class="line number88 index87 alt1"><code class="bash functions">printf</code><code class="bash plain">的转义序列</code></div><div class="line number89 index88 alt2"><code class="bash plain">=================================================================================</code></div><div class="line number90 index89 alt1"><code class="bash plain">\a&nbsp;&nbsp;&nbsp;&nbsp; 警告字符，通常为ASCII的BEL字符</code></div><div class="line number91 index90 alt2"><code class="bash plain">\b&nbsp;&nbsp;&nbsp;&nbsp; 后退</code></div><div class="line number92 index91 alt1"><code class="bash plain">\c&nbsp;&nbsp;&nbsp;&nbsp; 抑制（不显示）输出结果中任何结尾的换行字符（只在%b格式指示符控制下的参数字符串中有效），而且，任何留在参数里的字符、任何接下来的参数以及任何留在格式字符串中的字符，都被忽略</code></div><div class="line number93 index92 alt2"><code class="bash plain">\f&nbsp;&nbsp;&nbsp;&nbsp; 换页（formfeed）</code></div><div class="line number94 index93 alt1"><code class="bash plain">\n&nbsp;&nbsp;&nbsp;&nbsp; 换行</code></div><div class="line number95 index94 alt2"><code class="bash plain">\r&nbsp;&nbsp;&nbsp;&nbsp; 回车（Carriage </code><code class="bash keyword">return</code><code class="bash plain">）</code></div><div class="line number96 index95 alt1"><code class="bash plain">\t&nbsp;&nbsp;&nbsp;&nbsp; 水平制表符</code></div><div class="line number97 index96 alt2"><code class="bash plain">\</code><code class="bash functions">v</code>&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash plain">垂直制表符</code></div><div class="line number98 index97 alt1"><code class="bash plain">\\&nbsp;&nbsp;&nbsp;&nbsp; 一个字面上的反斜杠字符</code></div><div class="line number99 index98 alt2"><code class="bash plain">\ddd&nbsp; 表示1到3位数八进制值的字符。仅在格式字符串中有效</code></div><div class="line number100 index99 alt1"><code class="bash plain">\0ddd 表示1到3位的八进制值字符</code></div><div class="line number101 index100 alt2">&nbsp;</div><div class="line number102 index101 alt1"><code class="bash plain">示例如下：</code></div><div class="line number103 index102 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf "welcome, 哈哈，北京:&lt;%s&gt;\n" "A\nB"</code></div><div class="line number104 index103 alt1"><code class="bash plain">welcome, 哈哈，北京:&lt;A\nB&gt;</code></div><div class="line number105 index104 alt2">&nbsp;</div><div class="line number106 index105 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf "welcome, 哈哈，北京::&lt;%b&gt;\n" "A\nB"</code></div><div class="line number107 index106 alt2"><code class="bash plain">welcome, 哈哈，北京::&lt;A</code></div><div class="line number108 index107 alt1"><code class="bash plain">B&gt;</code></div><div class="line number109 index108 alt2">&nbsp;</div><div class="line number110 index109 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># printf "www.kevin.com \a"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number111 index110 alt2"><code class="bash plain">www.kevin.com [root@ss-server ~]</code><code class="bash comments">#</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">24）<span style="color: rgba(255, 0, 255, 1)">zcat</span> 和 <span style="color: rgba(255, 0, 255, 1)">zgrep</span>命令用法</span></strong><br>服务器端常有很多压缩过的日志文件，当需要查找日志中某些特定信息的时候，为了避免解压文件，可以使用zgrep，zcat等命令查找、查看压缩文件中的信息。</p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_276801" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">1）</code><code class="bash functions">gzip</code><code class="bash plain">打包压缩文件</code></div><div class="line number2 index1 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test</code></div><div class="line number3 index2 alt2"><code class="bash plain">name:wangbo</code></div><div class="line number4 index3 alt1"><code class="bash plain">age:29</code></div><div class="line number5 index4 alt2"><code class="bash plain">address:beijing</code></div><div class="line number6 index5 alt1"><code class="bash plain">school:lanzhoucaida</code></div><div class="line number7 index6 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number8 index7 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># gzip test</code></div><div class="line number9 index8 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># ls test.gz</code></div><div class="line number10 index9 alt1"><code class="bash functions">test</code><code class="bash plain">.gz</code></div><div class="line number11 index10 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number12 index11 alt1"><code class="bash plain">------------------------------------------------------------------</code></div><div class="line number13 index12 alt2"><code class="bash plain">注意：</code></div><div class="line number14 index13 alt1"><code class="bash functions">gzip</code> <code class="bash plain">filename&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments"># 将filename文件打包压缩成filename.gz</code></div><div class="line number15 index14 alt2"><code class="bash functions">gzip</code> <code class="bash plain">-d filename.gz&nbsp;&nbsp; </code><code class="bash comments"># 解压filename.gz文件</code></div><div class="line number16 index15 alt1"><code class="bash functions">gzip</code> <code class="bash plain">-r </code><code class="bash functions">dirname</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash comments"># 将dirname目录下的文件打包压缩为.gz格式的文件</code></div><div class="line number17 index16 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number18 index17 alt1"><code class="bash functions">gzip</code><code class="bash plain">打包压缩一个文件，打包后，原文件就变成压缩文件，原文件不存在了！</code></div><div class="line number19 index18 alt2"><code class="bash plain">-----------------------------------------------------------------</code></div><div class="line number20 index19 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number21 index20 alt2"><code class="bash plain">现在想在不解压的情况下查看或者搜索</code><code class="bash functions">test</code><code class="bash plain">.</code><code class="bash functions">tar</code><code class="bash plain">.gz文件中的数据</code></div><div class="line number22 index21 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number23 index22 alt2"><code class="bash plain">使用zcat命令</code></div><div class="line number24 index23 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># zcat test.gz |grep "age"</code></div><div class="line number25 index24 alt2"><code class="bash plain">age:29</code></div><div class="line number26 index25 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number27 index26 alt2"><code class="bash plain">使用</code><code class="bash functions">gzip</code><code class="bash plain">命令</code></div><div class="line number28 index27 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># zgrep "age" test.gz</code></div><div class="line number29 index28 alt2"><code class="bash plain">age:29</code></div><div class="line number30 index29 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># zgrep "age" test.gz |more</code></div><div class="line number31 index30 alt2"><code class="bash plain">age:29</code></div><div class="line number32 index31 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number33 index32 alt2"><code class="bash plain">2）zip打包压缩文件</code></div><div class="line number34 index33 alt1"><code class="bash plain">以上针对的是</code><code class="bash functions">gzip</code><code class="bash plain">压缩的gz格式的压缩文件，如果换成zip格式的话，效果如何？继续看下面：</code></div><div class="line number35 index34 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># gzip -d test.gz</code></div><div class="line number36 index35 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># zip test.zip test</code></div><div class="line number37 index36 alt2"><code class="bash spaces">&nbsp;&nbsp;</code><code class="bash plain">adding: </code><code class="bash functions">test</code> <code class="bash plain">(stored 0%)</code></div><div class="line number38 index37 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># ls test*</code></div><div class="line number39 index38 alt2"><code class="bash functions">test</code>&nbsp; <code class="bash functions">test</code><code class="bash plain">.zip</code></div><div class="line number40 index39 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># zcat test.zip</code></div><div class="line number41 index40 alt2"><code class="bash plain">name:wangbo</code></div><div class="line number42 index41 alt1"><code class="bash plain">age:29</code></div><div class="line number43 index42 alt2"><code class="bash plain">address:beijing</code></div><div class="line number44 index43 alt1"><code class="bash plain">school:lanzhoucaida</code></div><div class="line number45 index44 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># zgrep "address" test.zip</code></div><div class="line number46 index45 alt1"><code class="bash plain">address:beijing</code></div><div class="line number47 index46 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># zgrep "address" test.zip |more</code></div><div class="line number48 index47 alt1"><code class="bash plain">address:beijing</code></div><div class="line number49 index48 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number50 index49 alt1"><code class="bash plain">------------------------------------------------------------------</code></div><div class="line number51 index50 alt2"><code class="bash plain">注意：</code></div><div class="line number52 index51 alt1"><code class="bash plain">zip filename.zip filename&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#将filename文件打包压缩成filename.zip</code></div><div class="line number53 index52 alt2"><code class="bash plain">unzip filename.zip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#解压filename.zip文件</code></div><div class="line number54 index53 alt1"><code class="bash plain">unzip -r xxx.zip ./*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#当前目录的内容打包压缩为为xxx.zip文件</code></div><div class="line number55 index54 alt2"><code class="bash plain">unzip -r </code><code class="bash functions">dirname</code><code class="bash plain">.zip </code><code class="bash functions">dirname</code>&nbsp;&nbsp; <code class="bash comments">#当dirname目录打包压缩为dirname.zip文件</code></div><div class="line number56 index55 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number57 index56 alt2"><code class="bash plain">zip打包压缩后，原文件还存在，原文件和打包文件同时存在</code></div><div class="line number58 index57 alt1"><code class="bash plain">------------------------------------------------------------------</code></div><div class="line number59 index58 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number60 index59 alt1"><code class="bash plain">3）</code><code class="bash functions">tar</code><code class="bash plain">打包压缩文件</code></div><div class="line number61 index60 alt2"><code class="bash plain">如果换成</code><code class="bash functions">tar</code><code class="bash plain">打包压缩文件，又该如何？继续往下看</code></div><div class="line number62 index61 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># ls test*</code></div><div class="line number63 index62 alt2"><code class="bash functions">test</code>&nbsp; <code class="bash functions">test</code><code class="bash plain">.zip</code></div><div class="line number64 index63 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># rm -f test.zip</code></div><div class="line number65 index64 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># tar -zvcf test.tar.gz test</code></div><div class="line number66 index65 alt1"><code class="bash functions">test</code></div><div class="line number67 index66 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># ls test*</code></div><div class="line number68 index67 alt1"><code class="bash functions">test</code>&nbsp; <code class="bash functions">test</code><code class="bash plain">.</code><code class="bash functions">tar</code><code class="bash plain">.gz</code></div><div class="line number69 index68 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number70 index69 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># zgrep "age" test.tar.gz</code></div><div class="line number71 index70 alt2"><code class="bash plain">Binary </code><code class="bash functions">file</code> <code class="bash plain">(standard input) matches</code></div><div class="line number72 index71 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number73 index72 alt2"><code class="bash plain">上面报错是因为</code><code class="bash functions">grep</code><code class="bash plain">认为</code><code class="bash functions">test</code><code class="bash plain">.</code><code class="bash functions">tar</code><code class="bash plain">.gz是个二进制文件，无法</code><code class="bash functions">grep</code><code class="bash plain">查找。</code></div><div class="line number74 index73 alt1"><code class="bash plain">解决办法：加上-a参数即可</code></div><div class="line number75 index74 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># zgrep -a "age" test.tar.gz</code></div><div class="line number76 index75 alt1"><code class="bash plain">age:29</code></div><div class="line number77 index76 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># zgrep -a "age" test.tar.gz |more</code></div><div class="line number78 index77 alt1"><code class="bash plain">age:29</code></div><div class="line number79 index78 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number80 index79 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># zcat test.tar.gz</code></div><div class="line number81 index80 alt2"><code class="bash plain">test0000644000000000000000000000006713576332517010475 0ustar&nbsp; rootrootname:wangbo</code></div><div class="line number82 index81 alt1"><code class="bash plain">age:29</code></div><div class="line number83 index82 alt2"><code class="bash plain">address:beijing</code></div><div class="line number84 index83 alt1"><code class="bash plain">school:lanzhoucaida</code></div><div class="line number85 index84 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number86 index85 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># zgrep -a "name" test.tar.gz |more</code></div><div class="line number87 index86 alt2"><code class="bash functions">test</code></div><div class="line number88 index87 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number89 index88 alt2"><code class="bash plain">可以看出，对于</code><code class="bash functions">tar</code><code class="bash plain">格式的压缩文件，zcat或zgrep查看或搜索，会在第一行多处一个字符串，</code></div><div class="line number90 index89 alt1"><code class="bash plain">这个字符串是</code><code class="bash functions">tar</code><code class="bash plain">打包压缩后出现的，并把文件正文中的第一行内容和这个字符串放在一行！</code></div><div class="line number91 index90 alt2"><code class="bash plain">这样当zgrep搜索内容的字段在原文第一行，则就搜索不出来了！</code></div><div class="line number92 index91 alt1">&nbsp;</div><div class="line number93 index92 alt2"><code class="bash plain">------------------------------------------------------------------</code></div><div class="line number94 index93 alt1"><code class="bash plain">如果一个目录被打成</code><code class="bash functions">tar</code><code class="bash plain">包了，怎么查看这个</code><code class="bash functions">tar</code><code class="bash plain">包里有哪些文件？</code></div><div class="line number95 index94 alt2"><code class="bash plain">如下，使用</code><code class="bash string">"tar -tvf"</code><code class="bash plain">查看即可</code></div><div class="line number96 index95 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># tar -tvf test1.tar.gz</code></div><div class="line number97 index96 alt2"><code class="bash plain">drwxr-xr-x root</code><code class="bash plain">/root</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash plain">0 2020-01-13 12:59 test1/</code></div><div class="line number98 index97 alt1"><code class="bash plain">-rw-r--r-- root</code><code class="bash plain">/root</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash plain">7 2020-01-13 12:59 test1</code><code class="bash plain">/b</code><code class="bash plain">.txt</code></div><div class="line number99 index98 alt2"><code class="bash plain">-rw-r--r-- root</code><code class="bash plain">/root</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash plain">7 2020-01-13 12:59 test1</code><code class="bash plain">/a</code><code class="bash plain">.txt</code></div><div class="line number100 index99 alt1"><code class="bash plain">drwxr-xr-x root</code><code class="bash plain">/root</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash plain">0 2020-01-13 13:00 test1</code><code class="bash plain">/haha/</code></div><div class="line number101 index100 alt2"><code class="bash plain">-rw-r--r-- root</code><code class="bash plain">/root</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash plain">9 2020-01-13 13:00 test1</code><code class="bash plain">/haha/test</code><code class="bash plain">.txt</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">25）<span style="color: rgba(255, 0, 255, 1)">; || &amp;&amp;</span> 区别</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_371479" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">三种符号均用于多用命令之间的衔接。区别如下：</code></div><div class="line number2 index1 alt1"><code class="bash plain">1）; 符号，表示不论前面的命令执行结果是</code><code class="bash functions">true</code><code class="bash plain">还是</code><code class="bash functions">false</code><code class="bash plain">，后面的命令照样执行。</code></div><div class="line number3 index2 alt2"><code class="bash plain">2）|| 符号，表示只有前面的命令执行结果为</code><code class="bash functions">false</code><code class="bash plain">时，后面的命令才会继续执行；如果前面命令执行结果为</code><code class="bash functions">true</code><code class="bash plain">，则后面的命令就不会继续执行了。</code></div><div class="line number4 index3 alt1"><code class="bash plain">3）&amp;&amp; 符号，表示只有前面的命令执行结果为</code><code class="bash functions">true</code><code class="bash plain">时，后面的命令才会继续执行；如果前面命令执行结果为</code><code class="bash functions">false</code><code class="bash plain">，则后面的命令就不会继续执行了。</code></div><div class="line number5 index4 alt2">&nbsp;</div><div class="line number6 index5 alt1"><code class="bash plain">示例如下：</code></div><div class="line number7 index6 alt2"><code class="bash plain">[root@kevin_test ~]</code><code class="bash comments"># cat haha.txt</code></div><div class="line number8 index7 alt1"><code class="bash functions">cat</code><code class="bash plain">: haha.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number9 index8 alt2"><code class="bash plain">[root@kevin_test ~]</code><code class="bash comments"># hostname</code></div><div class="line number10 index9 alt1"><code class="bash plain">kevin_test</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="bash plain">[root@kevin_test ~]</code><code class="bash comments"># cat haha.txt ; hostname</code></div><div class="line number13 index12 alt2"><code class="bash functions">cat</code><code class="bash plain">: haha.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number14 index13 alt1"><code class="bash plain">kevin_test</code></div><div class="line number15 index14 alt2"><code class="bash plain">[root@kevin_test ~]</code><code class="bash comments"># hostname ; cat haha.txt</code></div><div class="line number16 index15 alt1"><code class="bash plain">kevin_test</code></div><div class="line number17 index16 alt2"><code class="bash functions">cat</code><code class="bash plain">: haha.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="bash plain">[root@kevin_test ~]</code><code class="bash comments"># cat haha.txt || hostname</code></div><div class="line number20 index19 alt1"><code class="bash functions">cat</code><code class="bash plain">: haha.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number21 index20 alt2"><code class="bash plain">kevin_test</code></div><div class="line number22 index21 alt1"><code class="bash plain">[root@kevin_test ~]</code><code class="bash comments"># hostname || cat haha.txt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number23 index22 alt2"><code class="bash plain">kevin_test</code></div><div class="line number24 index23 alt1">&nbsp;</div><div class="line number25 index24 alt2"><code class="bash plain">[root@kevin_test ~]</code><code class="bash comments"># cat haha.txt &amp;&amp; hostname</code></div><div class="line number26 index25 alt1"><code class="bash functions">cat</code><code class="bash plain">: haha.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number27 index26 alt2"><code class="bash plain">[root@kevin_test ~]</code><code class="bash comments"># hostname &amp;&amp; cat haha.txt&nbsp;&nbsp; </code></div><div class="line number28 index27 alt1"><code class="bash plain">kevin_test</code></div><div class="line number29 index28 alt2"><code class="bash functions">cat</code><code class="bash plain">: haha.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">26）如何<span style="color: rgba(255, 0, 255, 1)">比较两个目录</span></span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_823829" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">在Linux系统里如何快速比较两个目录中的文件列表的差别，比如test1、test2两个目录，对两个目录中多出的文件、少掉的文件分别做处理。基于运维日常中常用的方法，总结如下：</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="bash plain">首先比较下两个目录的结构：</code></div><div class="line number4 index3 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># yum install -y tree</code></div><div class="line number5 index4 alt2"><code class="bash plain">[root@ss-server opt]</code><code class="bash comments"># tree test1 test2</code></div><div class="line number6 index5 alt1"><code class="bash plain">test1</code></div><div class="line number7 index6 alt2"><code class="bash plain">├── a.txt</code></div><div class="line number8 index7 alt1"><code class="bash plain">├── b.txt</code></div><div class="line number9 index8 alt2"><code class="bash plain">└── haha</code></div><div class="line number10 index9 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">└── </code><code class="bash functions">test</code><code class="bash plain">.txt</code></div><div class="line number11 index10 alt2"><code class="bash plain">test2</code></div><div class="line number12 index11 alt1"><code class="bash plain">├── a.txt</code></div><div class="line number13 index12 alt2"><code class="bash plain">├── b.txt</code></div><div class="line number14 index13 alt1"><code class="bash plain">└── haha</code></div><div class="line number15 index14 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">├── bo.txt</code></div><div class="line number16 index15 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">└── </code><code class="bash functions">test</code><code class="bash plain">.txt</code></div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="bash plain">2 directories, 7 files</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="bash plain">一、命令行输出的结果&nbsp; </code><code class="bash comments">#################################################################################################</code></div><div class="line number21 index20 alt2">&nbsp;</div><div class="line number22 index21 alt1"><code class="bash plain">方法1：使用</code><code class="bash functions">diff</code><code class="bash plain">命令&nbsp; -----------------------------------------------------------------</code></div><div class="line number23 index22 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cd /opt/</code></div><div class="line number24 index23 alt1"><code class="bash plain">[root@ss-server opt]</code><code class="bash comments"># diff -r test1 test2</code></div><div class="line number25 index24 alt2"><code class="bash functions">diff</code> <code class="bash plain">-r test1</code><code class="bash plain">/a</code><code class="bash plain">.txt test2</code><code class="bash plain">/a</code><code class="bash plain">.txt</code></div><div class="line number26 index25 alt1"><code class="bash plain">1a2</code></div><div class="line number27 index26 alt2"><code class="bash plain">&gt;&nbsp;
 
hhhhh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="bash comments"># 该行内容是test2/a.txt文件比test1/a.txt文件多出来的内容"</code></div><div class="line number28 index27 alt1"><code class="bash functions">diff</code> <code class="bash plain">-r test1</code><code class="bash plain">/b</code><code class="bash plain">.txt test2</code><code class="bash plain">/b</code><code class="bash plain">.txt</code></div><div class="line number29 index28 alt2"><code class="bash plain">1c1,2</code></div><div class="line number30 index29 alt1"><code class="bash plain">&lt;
 
abcdfg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="bash comments"># 该行是test1/b.txt文件内容</code></div><div class="line number31 index30 alt2"><code class="bash plain">--- </code></div><div class="line number32 index31 alt1"><code class="bash plain">&gt;
 
66666&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="bash comments"># 这两行是test2/b.txt文件内容。这两个文件内容各不相同</code></div><div class="line number33 index32 alt2"><code class="bash plain">&gt;&nbsp; asdfsafd</code></div><div class="line number34 index33 alt1"><code class="bash plain">Only </code><code class="bash keyword">in</code> <code class="bash plain">test2</code><code class="bash plain">/haha</code><code class="bash plain">: bo.txt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments"># test2/haha目录相比如test1/haha目录多处一个bo.txt文件。</code></div><div class="line number35 index34 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments"># 另外，test1/haha和test2/haha两个目录下的test.txt文件内容相同。diff命令只输出不同的，相同的不输出。</code></div><div class="line number36 index35 alt1">&nbsp;</div><div class="line number37 index36 alt2"><code class="bash plain">需要注意：</code><code class="bash functions">diff</code><code class="bash plain">命令会对两个每个文件中的每一行都做比较，所以文件较多或者文件较大的时候会非常慢。请谨慎使用</code></div><div class="line number38 index37 alt1">&nbsp;</div><div class="line number39 index38 alt2"><code class="bash plain">方法2：使用</code><code class="bash functions">diff</code><code class="bash plain">结合tree&nbsp; -----------------------------------------------------------------</code></div><div class="line number40 index39 alt1"><code class="bash plain">[root@ss-server opt]</code><code class="bash comments"># diff &lt;(tree -Ci --noreport /opt/test1) &lt;(tree -Ci --noreport /opt/test2)</code></div><div class="line number41 index40 alt2"><code class="bash plain">1c1</code></div><div class="line number42 index41 alt1"><code class="bash plain">&lt; </code><code class="bash plain">/opt/test1</code></div><div class="line number43 index42 alt2"><code class="bash plain">---</code></div><div class="line number44 index43 alt1"><code class="bash plain">&gt; </code><code class="bash plain">/opt/test2</code></div><div class="line number45 index44 alt2"><code class="bash plain">4a5</code></div><div class="line number46 index45 alt1"><code class="bash plain">&gt;
 
bo.txt&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 </code><code class="bash comments">#/opt/test2目录比/opt/test1目录多处一个bo.txt文件</code></div><div class="line number47 index46 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash comments"># 该方法比较的只是两个目录下多处的文件。</code></div><div class="line number48 index47 alt1">&nbsp;</div><div class="line number49 index48 alt2"><code class="bash plain">说明：</code></div><div class="line number50 index49 alt1"><code class="bash plain">tree的-C选项是输出颜色，如果只是看一下目录的不同，可以使用该选项，但在结合其他命令使用的时候建议不要使用该选项，因为颜色也会转换为对应的编码而输出；</code></div><div class="line number51 index50 alt2"><code class="bash plain">-i是不缩进，建议不要省略-i，否则</code><code class="bash functions">diff</code><code class="bash plain">的结果很难看，也不好继续后续的文件操作；</code></div><div class="line number52 index51 alt1"><code class="bash plain">--noreport是不输出报告结果，建议不要省略该选项。</code></div><div class="line number53 index52 alt2"><code class="bash plain">该方法效率很高！！！</code></div><div class="line number54 index53 alt1">&nbsp;</div><div class="line number55 index54 alt2"><code class="bash plain">方法3：</code><code class="bash functions">find</code><code class="bash plain">结合</code><code class="bash functions">diff</code>&nbsp; <code class="bash plain">-----------------------------------------------------------------</code></div><div class="line number56 index55 alt1"><code class="bash plain">[root@ss-server opt]</code><code class="bash comments"># find /opt/test1 -printf "%P\n" | sort &gt; file1_diff.txt</code></div><div class="line number57 index56 alt2"><code class="bash plain">[root@ss-server opt]</code><code class="bash comments"># find /opt/test2 -printf "%P\n" | sort | sort | diff file1_diff.txt -</code></div><div class="line number58 index57 alt1"><code class="bash plain">4a5</code></div><div class="line number59 index58 alt2"><code class="bash plain">&gt; haha</code><code class="bash plain">/bo</code><code class="bash plain">.txt</code></div><div class="line number60 index59 alt1">&nbsp;</div><div class="line number61 index60 alt2"><code class="bash plain">说明：</code></div><div class="line number62 index61 alt1"><code class="bash plain">&lt; 代表的是第一个目录</code><code class="bash plain">/opt/test1</code><code class="bash plain">中有，而第二个目录</code><code class="bash plain">/opt/test2</code><code class="bash plain">中没有的文件</code></div><div class="line number63 index62 alt2"><code class="bash plain">&gt; 则相反，代表的是第二个目录</code><code class="bash plain">/opt/test2</code><code class="bash plain">中有而第一个目录</code><code class="bash plain">/opt/test1</code><code class="bash plain">中没有。</code></div><div class="line number64 index63 alt1">&nbsp;</div><div class="line number65 index64 alt2"><code class="bash plain">不要省略-</code><code class="bash functions">printf</code> <code class="bash string">"%P\n"</code><code class="bash plain">，此处的%P表示</code><code class="bash functions">find</code><code class="bash plain">的结果中去掉前缀路径。</code></div><div class="line number66 index65 alt1"><code class="bash plain">例如</code><code class="bash plain">/opt/test2</code><code class="bash plain">目录下多出了haha</code><code class="bash plain">/bo</code><code class="bash plain">.txt文件，所以结果显示的是haha</code><code class="bash plain">/bo</code><code class="bash plain">.txt，将前缀路径</code><code class="bash plain">/opt/test2</code><code class="bash plain">去掉了！</code></div><div class="line number67 index66 alt2"><code class="bash plain">这样效率很高，输出也简洁！</code></div><div class="line number68 index67 alt1">&nbsp;</div><div class="line number69 index68 alt2"><code class="bash plain">如果不想使用-</code><code class="bash functions">printf</code><code class="bash plain">，那么先进入各目录再</code><code class="bash functions">find</code><code class="bash plain">也是可以的。如下：</code></div><div class="line number70 index69 alt1"><code class="bash plain">[root@ss-server opt]</code><code class="bash comments"># (cd /opt/test1;find . | sort &gt;/tmp/file1.txt)&nbsp;&nbsp;&nbsp; </code></div><div class="line number71 index70 alt2"><code class="bash plain">[root@ss-server opt]</code><code class="bash comments"># (cd /opt/test2;find . | sort | diff /tmp/file1.txt -)</code></div><div class="line number72 index71 alt1"><code class="bash plain">4a5</code></div><div class="line number73 index72 alt2"><code class="bash plain">&gt; .</code><code class="bash plain">/haha/bo</code><code class="bash plain">.txt</code></div><div class="line number74 index73 alt1">&nbsp;</div><div class="line number75 index74 alt2"><code class="bash plain">上面将命令放进括号中执行是为了在子shell中切换目录，不用影响当前所在目录。</code></div><div class="line number76 index75 alt1">&nbsp;</div><div class="line number77 index76 alt2"><code class="bash plain">方法4：使用</code><code class="bash functions">rsync</code>&nbsp; <code class="bash plain">------------------------------------------------------------------------</code></div><div class="line number78 index77 alt1"><code class="bash plain">[root@ss-server opt]</code><code class="bash comments"># rsync -rvn --delete /opt/test1/ /opt/test2 | sed -n '2,/^$/{/^$/!p}'</code></div><div class="line number79 index78 alt2"><code class="bash plain">a.txt</code></div><div class="line number80 index79 alt1"><code class="bash plain">b.txt</code></div><div class="line number81 index80 alt2"><code class="bash plain">deleting haha</code><code class="bash plain">/bo</code><code class="bash plain">.txt</code></div><div class="line number82 index81 alt1"><code class="bash plain">haha</code><code class="bash plain">/test</code><code class="bash plain">.txt</code></div><div class="line number83 index82 alt2">&nbsp;</div><div class="line number84 index83 alt1"><code class="bash plain">其中deleting所在的行就是第二个目录</code><code class="bash plain">/opt/test2</code><code class="bash plain">中多出的文件。</code></div><div class="line number85 index84 alt2"><code class="bash plain">其他的都是两个目录中相同文件名的文件。</code></div><div class="line number86 index85 alt1">&nbsp;</div><div class="line number87 index86 alt2"><code class="bash plain">如果想区分出不同的是目录还是文件。可以加上</code><code class="bash string">"-i"</code><code class="bash plain">选项。</code></div><div class="line number88 index87 alt1"><code class="bash plain">[root@ss-server opt]</code><code class="bash comments"># rsync -rvn -i --delete /opt/test1/ /opt/test2 | sed -n '2,/^$/{/^$/!p}'</code></div><div class="line number89 index88 alt2"><code class="bash plain">&gt;f.sT...... a.txt</code></div><div class="line number90 index89 alt1"><code class="bash plain">&gt;f.sT...... b.txt</code></div><div class="line number91 index90 alt2"><code class="bash plain">*deleting&nbsp;&nbsp; haha</code><code class="bash plain">/bo</code><code class="bash plain">.txt</code></div><div class="line number92 index91 alt1"><code class="bash plain">&gt;f..T...... haha</code><code class="bash plain">/test</code><code class="bash plain">.txt</code></div><div class="line number93 index92 alt2">&nbsp;</div><div class="line number94 index93 alt1"><code class="bash plain">其中&gt;f+++++++++中的f代表的是文件，d代表的目录。</code></div><div class="line number95 index94 alt2">&nbsp;</div><div class="line number96 index95 alt1"><code class="bash plain">需要注意上面的</code><code class="bash functions">rsync</code><code class="bash plain">比较目录的命令中有几点要说明：</code></div><div class="line number97 index96 alt2"><code class="bash plain">1）一定不能缺少-n选项，它表示：尝试着进行</code><code class="bash functions">rsync</code><code class="bash plain">同步，但不会真的同步。</code></div><div class="line number98 index97 alt1"><code class="bash plain">2）第一个目录(</code><code class="bash plain">/opt/test1/</code><code class="bash plain">)后一定不能缺少斜线，否则表示将</code><code class="bash plain">/opt/test1</code><code class="bash plain">整个目录同步到</code><code class="bash plain">/opt/test2</code><code class="bash plain">目录下。</code></div><div class="line number99 index98 alt2"><code class="bash plain">3）其它选项，如</code><code class="bash string">"-r -v --delete"</code><code class="bash plain">也都不能缺少，它们的含义很简单，分别表示递归、打印详细信息、同步前删除（只是模拟</code><code class="bash functions">rsync</code><code class="bash plain">操作，不会真的执行）</code></div><div class="line number100 index99 alt1"><code class="bash plain">4）</code><code class="bash functions">sed</code><code class="bash plain">的作用是过滤掉和文件不相关的内容。</code></div><div class="line number101 index100 alt2"><code class="bash plain">5）以上</code><code class="bash functions">rsync</code><code class="bash plain">命令是假定了比较两个目录中只有普通文件和目录，没有软链接、块设备等特殊文件。如果有，请考虑加上对应的选项或者使用-a替代-r，</code></div><div class="line number102 index101 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash plain">否则结果中将出现skipping non-regular </code><code class="bash functions">file</code><code class="bash plain">的提示。但请注意，如果有软链接，且加了对应选项(-l或-a或其他相关选项)，则可能会出现fileA--&gt;fileB的输出。</code></div><div class="line number103 index102 alt2"><code class="bash plain">6）这种方式效率很高，因为</code><code class="bash functions">rsync</code><code class="bash plain">的原因，筛选的可定制性也非常强。</code></div><div class="line number104 index103 alt1">&nbsp;</div><div class="line number105 index104 alt2"><code class="bash plain">二、图形化的比较结果&nbsp; </code><code class="bash comments">#################################################################################################</code></div><div class="line number106 index105 alt1">&nbsp;</div><div class="line number107 index106 alt2"><code class="bash plain">方法1：使用vimdiff&nbsp; ---------------------------------------------------------------------</code></div><div class="line number108 index107 alt1"><code class="bash plain">vimdiff命令用于快速比较和合并少量文件，详细用法参考：https:</code><code class="bash plain">//man</code><code class="bash plain">.linuxde.net</code><code class="bash plain">/vimdiff</code></div><div class="line number109 index108 alt2">&nbsp;</div><div class="line number110 index109 alt1"><code class="bash plain">[root@ss-server opt]</code><code class="bash comments"># vimdiff &lt;(cd /opt/test1; find . | sort) &lt;(cd /opt/test2; find . | sort)</code></div><div class="line number111 index110 alt2"><code class="bash plain">或者</code></div><div class="line number112 index111 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># vimdiff &lt;(find /opt/test1 -printf "%P\n"| sort) &lt;(find /opt/test2 -printf "%P\n"| sort)</code></div><div class="line number113 index112 alt2">&nbsp;</div><div class="line number114 index113 alt1"><code class="bash plain">如何从图形中退出？？</code></div><div class="line number115 index114 alt2"><code class="bash plain">依次按：Shift + 冒号，输入quit，回车； 再接着输入依次Shift + 冒号，输入quit，回车。&nbsp;&nbsp; 以上两次操作后，就退出图形了。</code></div><div class="line number116 index115 alt1">&nbsp;</div><div class="line number117 index116 alt2"><code class="bash plain">方法2：使用meld&nbsp; ---------------------------------------------------------------------</code></div><div class="line number118 index117 alt1"><code class="bash plain">meld是python写的一个图形化文件/目录比较工具，所以必须先安装Linux图形界面或设置好图形界面接受协议。</code></div><div class="line number119 index118 alt2"><code class="bash plain">它的功能非常丰富，和win下的beyond compare有异曲同工之妙。</code></div><div class="line number120 index119 alt1"><code class="bash plain">meld是一个很酷的图形化工具（一个 GNOME 桌面下的可视化的比较和合并工具），可供那些喜欢使用鼠标的人使用，可按如下来安装。</code></div><div class="line number121 index120 alt2">&nbsp;</div><div class="line number122 index121 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># yum install -y meld</code></div><div class="line number123 index122 alt2">&nbsp;</div><div class="line number124 index123 alt1"><code class="bash plain">安装了meld之后，就可以在linux桌面上使用meld比较两个目录了，功能非常强大。这里就不做介绍了~</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">27）Shell中判断传入的<span style="color: rgba(255, 0, 255, 1)">变量是否为空</span>？ （ 使用 if [ <span style="color: rgba(255, 0, 255, 1)">X$1 == X</span> ] ）（"<span style="color: rgba(255, 0, 255, 1)">== 和 =</span> "）（<span style="color: rgba(255, 0, 255, 1)">"()和{}"<span style="color: rgba(255, 102, 0, 1)">）</span></span></span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_422823" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh </code></div><div class="line number2 index1 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number3 index2 alt2"><code class="bash plain">Deploy_Env=$1</code></div><div class="line number4 index3 alt1"><code class="bash plain">Deploy_Env=`</code><code class="bash functions">echo</code> <code class="bash plain">${Deploy_Env} | </code><code class="bash functions">tr</code> <code class="bash string">'[a-z]'</code> <code class="bash string">'[A-Z]'</code><code class="bash plain">`</code></div><div class="line number5 index4 alt2"><code class="bash functions">echo</code> <code class="bash plain">${Deploy_Env}</code></div><div class="line number6 index5 alt1"><code class="bash keyword">if</code> <code class="bash plain">[[ x${Deploy_Env} == x ]];</code><code class="bash keyword">then</code></div><div class="line number7 index6 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"变量参数为空"</code></div><div class="line number8 index7 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">exit</code> <code class="bash plain">0</code></div><div class="line number9 index8 alt2"><code class="bash keyword">fi</code></div><div class="line number10 index9 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh aa</code></div><div class="line number11 index10 alt2"><code class="bash plain">AA</code></div><div class="line number12 index11 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh </code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="bash plain">变量参数为空</code></div><div class="line number15 index14 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments">#</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2">&nbsp;</div><div class="line number18 index17 alt1"><code class="bash plain">注意： 上面</code><code class="bash functions">test</code><code class="bash plain">.sh脚本中的</code><code class="bash string">"=="</code> <code class="bash plain">也可以写成 </code><code class="bash string">"="</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="bash plain">这里需要说明下</code></div><div class="line number21 index20 alt2"><code class="bash plain">===========================================================</code></div><div class="line number22 index21 alt1"><code class="bash plain">1）== 和 = 的区别</code></div><div class="line number23 index22 alt2"><code class="bash plain">==&nbsp;&nbsp;&nbsp; 可用于判断变量是否相等</code></div><div class="line number24 index23 alt1"><code class="bash plain">=&nbsp;&nbsp;&nbsp;&nbsp; 除了可用于判断变量是否相等外，还可以表示赋值。</code></div><div class="line number25 index24 alt2">&nbsp;</div><div class="line number26 index25 alt1"><code class="bash plain">在 [ ] 或 [[ ]] 中，= 与 == 都表示判断(字符串比较)，此种情况下二者是等价的！</code></div><div class="line number27 index26 alt2"><code class="bash plain">例如：</code></div><div class="line number28 index27 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># a=beijing</code></div><div class="line number29 index28 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># b=shanghai</code></div><div class="line number30 index29 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># [ $a=$b ] &amp;&amp; echo "equal"&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number31 index30 alt2"><code class="bash plain">equal</code></div><div class="line number32 index31 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># [ $a==$b ] &amp;&amp; echo "equal"</code></div><div class="line number33 index32 alt2"><code class="bash plain">equal</code></div><div class="line number34 index33 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># [[ $a=$b ]] &amp;&amp; echo "equal" </code></div><div class="line number35 index34 alt2"><code class="bash plain">equal</code></div><div class="line number36 index35 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># [[ $a==$b ]] &amp;&amp; echo "equal"</code></div><div class="line number37 index36 alt2"><code class="bash plain">equal</code></div><div class="line number38 index37 alt1">&nbsp;</div><div class="line number39 index38 alt2"><code class="bash plain">在 (( )) 中 = 表示赋值， == 表示判断(整数比较)，此种情况下二者是不等价的！</code></div><div class="line number40 index39 alt1"><code class="bash plain">例如：</code></div><div class="line number41 index40 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># ((n=5))</code></div><div class="line number42 index41 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $n</code></div><div class="line number43 index42 alt2"><code class="bash plain">5</code></div><div class="line number44 index43 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># ((n==5)) &amp;&amp; echo "equal"</code></div><div class="line number45 index44 alt2"><code class="bash plain">equal</code></div><div class="line number46 index45 alt1">&nbsp;</div><div class="line number47 index46 alt2">&nbsp;</div><div class="line number48 index47 alt1"><code class="bash plain">===========================================================</code></div><div class="line number49 index48 alt2"><code class="bash plain">2）()和{} 区别</code></div><div class="line number50 index49 alt1"><code class="bash plain">()和{}都是对一串的命令进行执行,但有所区别：</code></div><div class="line number51 index50 alt2">&nbsp;</div><div class="line number52 index51 alt1"><code class="bash plain">相同点：</code></div><div class="line number53 index52 alt2"><code class="bash plain">()和{}都是把一串的命令放在括号里面,并且命令之间用;号隔开</code></div><div class="line number54 index53 alt1">&nbsp;</div><div class="line number55 index54 alt2"><code class="bash plain">不同点:</code></div><div class="line number56 index55 alt1"><code class="bash plain">()只是对一串命令重新开一个子shell进行执行，{}对一串命令在当前shell执行。</code></div><div class="line number57 index56 alt2"><code class="bash plain">()最后一个命令可以不用分号，{}最后一个命令要用分号。</code></div><div class="line number58 index57 alt1"><code class="bash plain">()里的第一个命令和左边括号不必有空格，{}的第一个命令和左括号之间必须要有一个空格！！！</code></div><div class="line number59 index58 alt2"><code class="bash plain">()和{}中括号里面的某个命令的重定向只影响该命令，但括号外的重定向则影响到括号里的所有命令。</code></div><div class="line number60 index59 alt1">&nbsp;</div><div class="line number61 index60 alt2"><code class="bash plain">示例如下：</code></div><div class="line number62 index61 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># var=test</code></div><div class="line number63 index62 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $var</code></div><div class="line number64 index63 alt1"><code class="bash functions">test</code></div><div class="line number65 index64 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># (var=notest;echo $var)</code></div><div class="line number66 index65 alt1"><code class="bash plain">notest</code></div><div class="line number67 index66 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $var&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number68 index67 alt1"><code class="bash functions">test</code></div><div class="line number69 index68 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># { var=notest;echo $var;}</code></div><div class="line number70 index69 alt1"><code class="bash plain">notest</code></div><div class="line number71 index70 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $var&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number72 index71 alt1"><code class="bash plain">notest</code></div><div class="line number73 index72 alt2">&nbsp;</div><div class="line number74 index73 alt1"><code class="bash plain">有上面可知：</code></div><div class="line number75 index74 alt2"><code class="bash plain">在{}中 第一个命令和{之间必须有空格,结束必须有;分号！！</code></div><div class="line number76 index75 alt1"><code class="bash plain">{}中的修改了$var的值，说明在当前shell执行！！</code></div><div class="line number77 index76 alt2">&nbsp;</div><div class="line number78 index77 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># { var1=test1;var2=test2;echo $var1&gt;a;echo $var2;}</code></div><div class="line number79 index78 alt2"><code class="bash plain">test2</code></div><div class="line number80 index79 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat a</code></div><div class="line number81 index80 alt2"><code class="bash plain">test1</code></div><div class="line number82 index81 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># { var1=test1;var2=test2;echo $var1;echo $var2;}&gt;a</code></div><div class="line number83 index82 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat a</code></div><div class="line number84 index83 alt1"><code class="bash plain">test1</code></div><div class="line number85 index84 alt2"><code class="bash plain">test2</code></div><div class="line number86 index85 alt1">&nbsp;</div><div class="line number87 index86 alt2"><code class="bash plain">脚本如下:</code></div><div class="line number88 index87 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number89 index88 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number90 index89 alt1"><code class="bash plain">(</code></div><div class="line number91 index90 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"1"</code></div><div class="line number92 index91 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"2"</code></div><div class="line number93 index92 alt2"><code class="bash plain">) | </code><code class="bash functions">awk</code> <code class="bash string">'{print NR,$0}'</code></div><div class="line number94 index93 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number95 index94 alt2"><code class="bash plain">1 1</code></div><div class="line number96 index95 alt1"><code class="bash plain">2 2</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">28）<span style="color: rgba(255, 0, 255, 1)">eval</span> 命令用法</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_259227" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash functions">eval</code><code class="bash plain">可读取一连串的参数，然后再依参数本身的特性来执行。</code><code class="bash functions">eval</code><code class="bash plain">是shell内建命令，可用shell查看其用法。参数不限数目，彼此之间用分号隔开。</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="bash functions">eval</code> <code class="bash plain">[参数]</code></div><div class="line number4 index3 alt1"><code class="bash functions">eval</code><code class="bash plain">命令将会首先扫描命令行进行所有的置换，然后再执行该命令。</code></div><div class="line number5 index4 alt2"><code class="bash plain">该命令适用于那些一次扫描无法实现其功能的变量。该命令对变量进行两次扫描。这些需要进行两次扫描的变量有时被称为复杂变量。</code></div><div class="line number6 index5 alt1"><code class="bash plain">不过这些变量本身并不复杂。</code><code class="bash functions">eval</code><code class="bash plain">命令也可以用于回显简单变量，不一定是复杂变量。</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1">&nbsp;</div><div class="line number9 index8 alt2"><code class="bash plain">示例1： </code><code class="bash functions">eval</code><code class="bash plain">命令也可以用于回显简单变量，不一定是复杂变量&nbsp; </code><code class="bash comments">##########################################################################</code></div><div class="line number10 index9 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># NAME=kevin</code></div><div class="line number11 index10 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># echo ${NAME}</code></div><div class="line number12 index11 alt1"><code class="bash plain">kevin</code></div><div class="line number13 index12 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># eval echo ${NAME}</code></div><div class="line number14 index13 alt1"><code class="bash plain">kevin</code></div><div class="line number15 index14 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># echo '${'"NAME"'}'</code></div><div class="line number16 index15 alt1"><code class="bash plain">${NAME}</code></div><div class="line number17 index16 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># eval echo '${'"NAME"'}'</code></div><div class="line number18 index17 alt1"><code class="bash plain">kevin</code></div><div class="line number19 index18 alt2">&nbsp;</div><div class="line number20 index19 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># a=123&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number21 index20 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># echo ${a}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code></div><div class="line number22 index21 alt1"><code class="bash plain">123</code></div><div class="line number23 index22 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># eval echo ${a}&nbsp; </code></div><div class="line number24 index23 alt1"><code class="bash plain">123</code></div><div class="line number25 index24 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># echo '${a}'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #单引号默认不识别变量</code></div><div class="line number26 index25 alt1"><code class="bash plain">${a}</code></div><div class="line number27 index26 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># eval echo '${a}'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #使用eval后，用户回显变量，则单引号里面的变量就会被显示出来</code></div><div class="line number28 index27 alt1"><code class="bash plain">123</code></div><div class="line number29 index28 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># echo "${a}"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #双引号默认识别变量</code></div><div class="line number30 index29 alt1"><code class="bash plain">123</code></div><div class="line number31 index30 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># eval echo "${a}"</code></div><div class="line number32 index31 alt1"><code class="bash plain">123</code></div><div class="line number33 index32 alt2">&nbsp;</div><div class="line number34 index33 alt1"><code class="bash plain">示例2：执行含有字符串的命令&nbsp; </code><code class="bash comments">##########################################################################</code></div><div class="line number35 index34 alt2"><code class="bash plain">首先我们首先创建一个名为</code><code class="bash functions">test</code><code class="bash plain">的小文件，在这个小文件中含有一些文本。</code></div><div class="line number36 index35 alt1"><code class="bash plain">接着，将</code><code class="bash functions">cat</code> <code class="bash functions">test</code><code class="bash plain">赋给变量myfile，现在我们e c h o该变量，看看是否能够执行上述命令。</code></div><div class="line number37 index36 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test</code></div><div class="line number38 index37 alt1"><code class="bash plain">Hello World!!!</code></div><div class="line number39 index38 alt2"><code class="bash plain">I am a chinese Boy!</code></div><div class="line number40 index39 alt1">&nbsp;</div><div class="line number41 index40 alt2"><code class="bash plain">将</code><code class="bash string">"cat test"</code><code class="bash plain">赋给变量myfile</code></div><div class="line number42 index41 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># myfile="cat test"</code></div><div class="line number43 index42 alt2">&nbsp;</div><div class="line number44 index43 alt1"><code class="bash plain">如果直接</code><code class="bash functions">echo</code><code class="bash plain">该变量，那么将无法列出</code><code class="bash functions">test</code><code class="bash plain">文件中的内容。</code></div><div class="line number45 index44 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># echo $myfile</code></div><div class="line number46 index45 alt1"><code class="bash functions">cat</code> <code class="bash functions">test</code></div><div class="line number47 index46 alt2">&nbsp;</div><div class="line number48 index47 alt1"><code class="bash plain">接着来试一下</code><code class="bash functions">eval</code><code class="bash plain">命令，记住</code><code class="bash functions">eval</code><code class="bash plain">命令将会对该变量进行两次扫瞄。</code></div><div class="line number49 index48 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># eval $myfile</code></div><div class="line number50 index49 alt1"><code class="bash plain">Hello World!!!</code></div><div class="line number51 index50 alt2"><code class="bash plain">I am a chinese Boy!</code></div><div class="line number52 index51 alt1">&nbsp;</div><div class="line number53 index52 alt2"><code class="bash plain">从上面的结果可以看出，使用e </code><code class="bash functions">v</code> <code class="bash plain">a l命令不但可以置换该变量，还能够执行相应的命令。第</code></div><div class="line number54 index53 alt1"><code class="bash plain">一次扫描进行了变量置换，第二次扫描执行了该字符串中所包含的命令</code><code class="bash functions">cat</code> <code class="bash functions">test</code><code class="bash plain">。</code></div><div class="line number55 index54 alt2">&nbsp;</div><div class="line number56 index55 alt1"><code class="bash plain">示例3： </code><code class="bash functions">eval</code><code class="bash plain">可以用来显示出传递给脚本的最后一个参数&nbsp; </code><code class="bash comments">##########################################################################</code></div><div class="line number57 index56 alt2"><code class="bash plain">下面提及的命令是</code><code class="bash functions">eval</code><code class="bash plain">其中一个很普通的应用，它重复了1次命令行参数传递过程，纯粹地执行命令的命令。</code></div><div class="line number58 index57 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># echo 'eval echo \$$#' &gt; test</code></div><div class="line number59 index58 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test </code></div><div class="line number60 index59 alt1"><code class="bash functions">eval</code> <code class="bash functions">echo</code> <code class="bash plain">\$$</code><code class="bash comments">#</code></div><div class="line number61 index60 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test aa bb cc</code></div><div class="line number62 index61 alt1"><code class="bash plain">cc</code></div><div class="line number63 index62 alt2">&nbsp;</div><div class="line number64 index63 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number65 index64 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number66 index65 alt1"><code class="bash functions">echo</code> <code class="bash string">"Total of the arguments passed $#"</code></div><div class="line number67 index66 alt2"><code class="bash functions">echo</code> <code class="bash string">"The process Id is $$"</code></div><div class="line number68 index67 alt1"><code class="bash functions">echo</code> <code class="bash string">"Last argument os "</code><code class="bash plain">$(</code><code class="bash functions">eval</code> <code class="bash functions">echo</code> <code class="bash plain">\$$</code><code class="bash comments">#)""</code></div><div class="line number69 index68 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh beijing shanghai anhui</code></div><div class="line number70 index69 alt1"><code class="bash plain">Total of the arguments passed 3</code></div><div class="line number71 index70 alt2"><code class="bash plain">The process Id is 82540</code></div><div class="line number72 index71 alt1"><code class="bash plain">Last argument os anhui</code></div><div class="line number73 index72 alt2">&nbsp;</div><div class="line number74 index73 alt1"><code class="bash plain">在上面的脚本中，</code><code class="bash functions">eval</code><code class="bash plain">命令首先把$</code><code class="bash comments"># 解析为当前shell的参数个数，然后再进行第二次扫描时得出最后一个参数。</code></div><div class="line number75 index74 alt2">&nbsp;</div><div class="line number76 index75 alt1"><code class="bash plain">示例4：给每个值一个变量名&nbsp; </code><code class="bash comments">##########################################################################</code></div><div class="line number77 index76 alt2"><code class="bash plain">可以给一个值一个变量名。下面会对此做些解释，假定有一个名为test2的文件：</code></div><div class="line number78 index77 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test2</code></div><div class="line number79 index78 alt2"><code class="bash plain">COMMANY TQ</code></div><div class="line number80 index79 alt1"><code class="bash plain">LANGUE ENGLISH</code></div><div class="line number81 index80 alt2"><code class="bash plain">LIKE YES</code></div><div class="line number82 index81 alt1">&nbsp;</div><div class="line number83 index82 alt2"><code class="bash plain">希望该文件中的第一列成为变量名，第二列成为该变量的值，这样就可以:</code></div><div class="line number84 index83 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number85 index84 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number86 index85 alt1"><code class="bash keyword">while</code> <code class="bash functions">read</code> <code class="bash plain">NAME VALUE</code></div><div class="line number87 index86 alt2"><code class="bash keyword">do</code></div><div class="line number88 index87 alt1"><code class="bash functions">eval</code> <code class="bash string">"${NAME}=${VALUE}"</code></div><div class="line number89 index88 alt2"><code class="bash keyword">done</code> <code class="bash plain">&lt;test2</code></div><div class="line number90 index89 alt1"><code class="bash functions">echo</code> <code class="bash string">"$COMMANY $LANGUE $LIKE"</code></div><div class="line number91 index90 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number92 index91 alt1"><code class="bash plain">TQ ENGLISH YES</code></div><div class="line number93 index92 alt2">&nbsp;</div><div class="line number94 index93 alt1"><code class="bash plain">示例5：使用</code><code class="bash functions">eval</code><code class="bash plain">命令进行1次命令行参数传递&nbsp; </code><code class="bash comments">##########################################################################</code></div><div class="line number95 index94 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number96 index95 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number97 index96 alt2"><code class="bash plain">NODE_IP_LIST=$1</code></div><div class="line number98 index97 alt1"><code class="bash plain">NODE_PORT_LIST=$2</code></div><div class="line number99 index98 alt2"><code class="bash keyword">for</code> <code class="bash plain">((i=1;i&lt;=3;i++)); </code><code class="bash keyword">do</code></div><div class="line number100 index99 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">eval</code> <code class="bash plain">NODE_IP=</code><code class="bash string">'`echo ${NODE_IP_LIST}|awk -F, "{ print $"$i" }"`'</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <code class="bash comments">#这里awk语句中的print后面{}两边之所以加双引号而不是单引号，是因为要将$i变量识别出来！！！</code></div><div class="line number101 index100 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">eval</code> <code class="bash plain">NODE_PORT=</code><code class="bash string">'`echo ${NODE_PORT_LIST}|awk -F, "{ print $"$i" }"`'</code>&nbsp;&nbsp; <code class="bash comments">#如果awk语句中的print后面{}两边加单引号，则$i变量就识别不出来了！！！</code></div><div class="line number102 index101 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number103 index102 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"address is ${NODE_IP}:${NODE_PORT}"</code></div><div class="line number104 index103 alt1"><code class="bash keyword">done</code></div><div class="line number105 index104 alt2">&nbsp;</div><div class="line number106 index105 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh 172.16.60.21,172.16.60.22,172.16.60.23 8080,8081,8082</code></div><div class="line number107 index106 alt2"><code class="bash plain">address is 172.16.60.21:8080</code></div><div class="line number108 index107 alt1"><code class="bash plain">address is 172.16.60.22:8081</code></div><div class="line number109 index108 alt2"><code class="bash plain">address is 172.16.60.23:8082</code></div><div class="line number110 index109 alt1">&nbsp;</div><div class="line number111 index110 alt2"><code class="bash plain">如果上面</code><code class="bash functions">test</code><code class="bash plain">.sh脚本中不使用</code><code class="bash functions">eval</code><code class="bash plain">，将</code><code class="bash functions">eval</code><code class="bash plain">去掉的话，则命令行参数就传递失败了</code></div><div class="line number112 index111 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number113 index112 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number114 index113 alt1"><code class="bash plain">NODE_IP_LIST=$1</code></div><div class="line number115 index114 alt2"><code class="bash plain">NODE_PORT_LIST=$2</code></div><div class="line number116 index115 alt1"><code class="bash keyword">for</code> <code class="bash plain">((i=1;i&lt;=3;i++)); </code><code class="bash keyword">do</code></div><div class="line number117 index116 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">NODE_IP=</code><code class="bash string">'`echo ${NODE_IP_LIST}|awk -F, "{ print $"$i" }"`'</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div class="line number118 index117 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">NODE_PORT=</code><code class="bash string">'`echo ${NODE_PORT_LIST}|awk -F, "{ print $"$i" }"`'</code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</div><div class="line number119 index118 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number120 index119 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"address is ${NODE_IP}:${NODE_PORT}"</code></div><div class="line number121 index120 alt2"><code class="bash keyword">done</code></div><div class="line number122 index121 alt1">&nbsp;</div><div class="line number123 index122 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh 172.16.60.21,172.16.60.22,172.16.60.23 8080,8081,8082</code></div><div class="line number124 index123 alt1"><code class="bash plain">address is `</code><code class="bash functions">echo</code> <code class="bash plain">${NODE_IP_LIST}|</code><code class="bash functions">awk</code> <code class="bash plain">-F, </code><code class="bash string">"{ print $"</code><code class="bash plain">$i</code><code class="bash string">" }"</code><code class="bash plain">`:`</code><code class="bash functions">echo</code> <code class="bash plain">${NODE_PORT_LIST}|</code><code class="bash functions">awk</code> <code class="bash plain">-F, </code><code class="bash string">"{ print $"</code><code class="bash plain">$i</code><code class="bash string">" }"</code><code class="bash plain">`</code></div><div class="line number125 index124 alt2"><code class="bash plain">address is `</code><code class="bash functions">echo</code> <code class="bash plain">${NODE_IP_LIST}|</code><code class="bash functions">awk</code> <code class="bash plain">-F, </code><code class="bash string">"{ print $"</code><code class="bash plain">$i</code><code class="bash string">" }"</code><code class="bash plain">`:`</code><code class="bash functions">echo</code> <code class="bash plain">${NODE_PORT_LIST}|</code><code class="bash functions">awk</code> <code class="bash plain">-F, </code><code class="bash string">"{ print $"</code><code class="bash plain">$i</code><code class="bash string">" }"</code><code class="bash plain">`</code></div><div class="line number126 index125 alt1"><code class="bash plain">address is `</code><code class="bash functions">echo</code> <code class="bash plain">${NODE_IP_LIST}|</code><code class="bash functions">awk</code> <code class="bash plain">-F, </code><code class="bash string">"{ print $"</code><code class="bash plain">$i</code><code class="bash string">" }"</code><code class="bash plain">`:`</code><code class="bash functions">echo</code> <code class="bash plain">${NODE_PORT_LIST}|</code><code class="bash functions">awk</code> <code class="bash plain">-F, </code><code class="bash string">"{ print $"</code><code class="bash plain">$i</code><code class="bash string">" }"</code><code class="bash plain">`</code></div><div class="line number127 index126 alt2">&nbsp;</div><div class="line number128 index127 alt1"><code class="bash plain">将NODE_IP和NODE_PORT两个参数变量后面的单引号去掉，则效果和使用了</code><code class="bash functions">eval</code><code class="bash plain">命令一样</code></div><div class="line number129 index128 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh </code></div><div class="line number130 index129 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number131 index130 alt2"><code class="bash plain">NODE_IP_LIST=$1</code></div><div class="line number132 index131 alt1"><code class="bash plain">NODE_PORT_LIST=$2</code></div><div class="line number133 index132 alt2"><code class="bash keyword">for</code> <code class="bash plain">((i=1;i&lt;=3;i++)); </code><code class="bash keyword">do</code></div><div class="line number134 index133 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">NODE_IP=`</code><code class="bash functions">echo</code> <code class="bash plain">${NODE_IP_LIST}|</code><code class="bash functions">awk</code> <code class="bash plain">-F, </code><code class="bash string">"{ print $"</code><code class="bash plain">$i</code><code class="bash string">" }"</code><code class="bash plain">`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#这里awk语句中的print后面{}两边之所以加双引号而不是单引号，是因为要将$i变量识别出来！！！</code></div><div class="line number135 index134 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash plain">NODE_PORT=`</code><code class="bash functions">echo</code> <code class="bash plain">${NODE_PORT_LIST}|</code><code class="bash functions">awk</code> <code class="bash plain">-F, </code><code class="bash string">"{ print $"</code><code class="bash plain">$i</code><code class="bash string">" }"</code><code class="bash plain">`&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#如果awk语句中的print后面{}两边加单引号，则$i变量就识别不出来了！！！</code></div><div class="line number136 index135 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number137 index136 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"address is ${NODE_IP}:${NODE_PORT}"</code></div><div class="line number138 index137 alt1"><code class="bash keyword">done</code></div><div class="line number139 index138 alt2">&nbsp;</div><div class="line number140 index139 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh 172.16.60.21,172.16.60.22,172.16.60.23 8080,8081,8082</code></div><div class="line number141 index140 alt2"><code class="bash plain">address is 172.16.60.21:8080</code></div><div class="line number142 index141 alt1"><code class="bash plain">address is 172.16.60.22:8081</code></div><div class="line number143 index142 alt2"><code class="bash plain">address is 172.16.60.23:8082</code></div><div class="line number144 index143 alt1">&nbsp;</div><div class="line number145 index144 alt2"><code class="bash comments">##########################################################################################################################</code></div><div class="line number146 index145 alt1"><code class="bash plain">需要注意一个细节：</code></div><div class="line number147 index146 alt2"><code class="bash plain">下面两种方式是一样的效果，即</code><code class="bash functions">awk</code><code class="bash plain">中-F后面的分隔符两边加不加引号，加双引号还是单引号，都不影响分割的效果！！！</code></div><div class="line number148 index147 alt1"><code class="bash plain">但是后面print的{}两边必须是单引号！！！</code></div><div class="line number149 index148 alt2"><code class="bash functions">awk</code> <code class="bash plain">-F</code><code class="bash string">"分隔符"</code> <code class="bash string">'{print $n}'</code> <code class="bash plain">filename</code></div><div class="line number150 index149 alt1"><code class="bash functions">awk</code> <code class="bash plain">-F</code><code class="bash string">'分隔符'</code> <code class="bash string">'{print $n}'</code> <code class="bash plain">filename</code></div><div class="line number151 index150 alt2"><code class="bash functions">awk</code> <code class="bash plain">-F分隔符 </code><code class="bash string">'{print $n}'</code> <code class="bash plain">filename</code></div><div class="line number152 index151 alt1">&nbsp;</div><div class="line number153 index152 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># echo 172.16.60.21,172.16.60.22,172.16.60.23|awk -F"," '{ print $1 }'</code></div><div class="line number154 index153 alt1"><code class="bash plain">172.16.60.21</code></div><div class="line number155 index154 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># echo 172.16.60.21,172.16.60.22,172.16.60.23|awk -F, '{ print $1 }'&nbsp; </code></div><div class="line number156 index155 alt1"><code class="bash plain">172.16.60.21</code></div><div class="line number157 index156 alt2">&nbsp;</div><div class="line number158 index157 alt1"><code class="bash plain">下面两种方式均是不正确的。直接将$1作为前面</code><code class="bash functions">echo</code><code class="bash plain">输出的整体了，即-F后面的分隔符没有起作用！</code></div><div class="line number159 index158 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># echo 172.16.60.21,172.16.60.22,172.16.60.23|awk -F, "{ print $1 }"</code></div><div class="line number160 index159 alt1"><code class="bash plain">172.16.60.21,172.16.60.22,172.16.60.23</code></div><div class="line number161 index160 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># echo 172.16.60.21,172.16.60.22,172.16.60.23|awk -F"," "{ print $1 }"</code></div><div class="line number162 index161 alt1"><code class="bash plain">172.16.60.21,172.16.60.22,172.16.60.23</code></div><div class="line number163 index162 alt2">&nbsp;</div><div class="line number164 index163 alt1"><code class="bash plain">下面表达方式也是不正确的。$1两边加双引号，直接将$1打印出来了</code></div><div class="line number165 index164 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># echo 172.16.60.21,172.16.60.22,172.16.60.23|awk -F, '{ print "$1" }'&nbsp; </code></div><div class="line number166 index165 alt1"><code class="bash plain">$1</code></div><div class="line number167 index166 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># echo 172.16.60.21,172.16.60.22,172.16.60.23|awk -F"," '{ print "$1" }'</code></div><div class="line number168 index167 alt1"><code class="bash plain">$1</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)">29）shell判断传入的便利是否为空 if [ x$1 = x ]</span></strong></p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_844274" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash keyword">if</code><code class="bash plain">语句中使用</code><code class="bash string">"x$1 = x"</code><code class="bash plain">来判断$1传入参数是否为空。</code></div><div class="line number2 index1 alt1"><code class="bash plain">如果x$1等于x，则$1传入参数为空。</code></div><div class="line number3 index2 alt2"><code class="bash plain">如果x$1不等于x，则$1传入参数不为空。</code></div><div class="line number4 index3 alt1">&nbsp;</div><div class="line number5 index4 alt2"><code class="bash comments">####################&nbsp; 注意&nbsp; ####################</code></div><div class="line number6 index5 alt1"><code class="bash plain">x要么两边都是小写，要么两边都是大写！</code></div><div class="line number7 index6 alt2"><code class="bash plain">等号可以是</code><code class="bash string">"="</code><code class="bash plain">，也可以使用</code><code class="bash string">"=="</code></div><div class="line number8 index7 alt1"><code class="bash comments">###############################################</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="bash plain">如下脚本配置，如果x${num}的值为x，则$num传入的变量为空！</code></div><div class="line number11 index10 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number12 index11 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number13 index12 alt2"><code class="bash plain">num=$1</code></div><div class="line number14 index13 alt1"><code class="bash keyword">if</code> <code class="bash plain">[ x${num} = x ];</code><code class="bash keyword">then</code></div><div class="line number15 index14 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"the num argu is empty!"</code></div><div class="line number16 index15 alt1"><code class="bash keyword">else</code></div><div class="line number17 index16 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"the num args is $1"</code></div><div class="line number18 index17 alt1"><code class="bash keyword">fi</code></div><div class="line number19 index18 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number20 index19 alt1"><code class="bash plain">the num argu is empty!</code></div><div class="line number21 index20 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh beijing</code></div><div class="line number22 index21 alt1"><code class="bash plain">the num args is beijing</code></div><div class="line number23 index22 alt2">&nbsp;</div><div class="line number24 index23 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh </code></div><div class="line number25 index24 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number26 index25 alt1"><code class="bash plain">num=$1</code></div><div class="line number27 index26 alt2"><code class="bash keyword">if</code> <code class="bash plain">[ X${num} = X ];</code><code class="bash keyword">then</code></div><div class="line number28 index27 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"the num argu is empty!"</code></div><div class="line number29 index28 alt2"><code class="bash keyword">else</code></div><div class="line number30 index29 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"the num args is $1"</code></div><div class="line number31 index30 alt2"><code class="bash keyword">fi</code></div><div class="line number32 index31 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number33 index32 alt2"><code class="bash plain">the num argu is empty!</code></div><div class="line number34 index33 alt1"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh shanghai</code></div><div class="line number35 index34 alt2"><code class="bash plain">the num args is shanghai</code></div><div class="line number36 index35 alt1">&nbsp;</div><div class="line number37 index36 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number38 index37 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number39 index38 alt2"><code class="bash plain">num=$1</code></div><div class="line number40 index39 alt1"><code class="bash keyword">if</code> <code class="bash plain">[ X${num} == X ];</code><code class="bash keyword">then</code></div><div class="line number41 index40 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"the num argu is empty!"</code></div><div class="line number42 index41 alt1"><code class="bash keyword">else</code></div><div class="line number43 index42 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"the num args is $1"</code></div><div class="line number44 index43 alt1"><code class="bash keyword">fi</code></div><div class="line number45 index44 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number46 index45 alt1"><code class="bash plain">the num argu is empty!</code></div><div class="line number47 index46 alt2"><code class="bash plain">[root@localhost ~]</code><code class="bash comments"># sh test.sh shenzheng</code></div><div class="line number48 index47 alt1"><code class="bash plain">the num args is shenzheng</code></div></div></td></tr></tbody></table></div></div>
</div>
<p><strong><span style="color: rgba(255, 102, 0, 1)"><span style="color: rgba(255, 0, 255, 1)"><span style="color: rgba(255, 102, 0, 1)">30）</span>set</span> 命令用法</span></strong><br>set命令是 Bash 脚本的重要环节，却常常被忽视，导致脚本的安全性和可维护性出问题。set命令用来修改 Shell 环境的运行参数，也就是可以定制环境。set一共有十几个参数可以定制，<a href="https://www.gnu.org/software/bash/manual/html_node/The-Set-Builtin.html" target="_blank">官方手册</a>有完整清单，这里重点介绍其中最常用的几个参数。</p>
<div class="cnblogs_Highlighter sh-gutter">
<div><div id="highlighter_337242" class="syntaxhighlighter  bash"><div class="toolbar"><span><a href="#" class="toolbar_item command_help help">?</a></span></div><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div><div class="line number109 index108 alt2">109</div><div class="line number110 index109 alt1">110</div><div class="line number111 index110 alt2">111</div><div class="line number112 index111 alt1">112</div><div class="line number113 index112 alt2">113</div><div class="line number114 index113 alt1">114</div><div class="line number115 index114 alt2">115</div><div class="line number116 index115 alt1">116</div><div class="line number117 index116 alt2">117</div><div class="line number118 index117 alt1">118</div><div class="line number119 index118 alt2">119</div><div class="line number120 index119 alt1">120</div><div class="line number121 index120 alt2">121</div><div class="line number122 index121 alt1">122</div><div class="line number123 index122 alt2">123</div><div class="line number124 index123 alt1">124</div><div class="line number125 index124 alt2">125</div><div class="line number126 index125 alt1">126</div><div class="line number127 index126 alt2">127</div><div class="line number128 index127 alt1">128</div><div class="line number129 index128 alt2">129</div><div class="line number130 index129 alt1">130</div><div class="line number131 index130 alt2">131</div><div class="line number132 index131 alt1">132</div><div class="line number133 index132 alt2">133</div><div class="line number134 index133 alt1">134</div><div class="line number135 index134 alt2">135</div><div class="line number136 index135 alt1">136</div><div class="line number137 index136 alt2">137</div><div class="line number138 index137 alt1">138</div><div class="line number139 index138 alt2">139</div><div class="line number140 index139 alt1">140</div><div class="line number141 index140 alt2">141</div><div class="line number142 index141 alt1">142</div><div class="line number143 index142 alt2">143</div><div class="line number144 index143 alt1">144</div><div class="line number145 index144 alt2">145</div><div class="line number146 index145 alt1">146</div><div class="line number147 index146 alt2">147</div><div class="line number148 index147 alt1">148</div><div class="line number149 index148 alt2">149</div><div class="line number150 index149 alt1">150</div><div class="line number151 index150 alt2">151</div><div class="line number152 index151 alt1">152</div><div class="line number153 index152 alt2">153</div><div class="line number154 index153 alt1">154</div><div class="line number155 index154 alt2">155</div><div class="line number156 index155 alt1">156</div><div class="line number157 index156 alt2">157</div><div class="line number158 index157 alt1">158</div><div class="line number159 index158 alt2">159</div><div class="line number160 index159 alt1">160</div><div class="line number161 index160 alt2">161</div><div class="line number162 index161 alt1">162</div><div class="line number163 index162 alt2">163</div><div class="line number164 index163 alt1">164</div><div class="line number165 index164 alt2">165</div><div class="line number166 index165 alt1">166</div><div class="line number167 index166 alt2">167</div><div class="line number168 index167 alt1">168</div><div class="line number169 index168 alt2">169</div><div class="line number170 index169 alt1">170</div><div class="line number171 index170 alt2">171</div><div class="line number172 index171 alt1">172</div><div class="line number173 index172 alt2">173</div><div class="line number174 index173 alt1">174</div><div class="line number175 index174 alt2">175</div><div class="line number176 index175 alt1">176</div><div class="line number177 index176 alt2">177</div><div class="line number178 index177 alt1">178</div><div class="line number179 index178 alt2">179</div><div class="line number180 index179 alt1">180</div><div class="line number181 index180 alt2">181</div><div class="line number182 index181 alt1">182</div><div class="line number183 index182 alt2">183</div><div class="line number184 index183 alt1">184</div><div class="line number185 index184 alt2">185</div><div class="line number186 index185 alt1">186</div><div class="line number187 index186 alt2">187</div><div class="line number188 index187 alt1">188</div><div class="line number189 index188 alt2">189</div><div class="line number190 index189 alt1">190</div><div class="line number191 index190 alt2">191</div><div class="line number192 index191 alt1">192</div><div class="line number193 index192 alt2">193</div><div class="line number194 index193 alt1">194</div><div class="line number195 index194 alt2">195</div><div class="line number196 index195 alt1">196</div><div class="line number197 index196 alt2">197</div><div class="line number198 index197 alt1">198</div><div class="line number199 index198 alt2">199</div><div class="line number200 index199 alt1">200</div><div class="line number201 index200 alt2">201</div><div class="line number202 index201 alt1">202</div><div class="line number203 index202 alt2">203</div><div class="line number204 index203 alt1">204</div><div class="line number205 index204 alt2">205</div><div class="line number206 index205 alt1">206</div><div class="line number207 index206 alt2">207</div><div class="line number208 index207 alt1">208</div><div class="line number209 index208 alt2">209</div><div class="line number210 index209 alt1">210</div><div class="line number211 index210 alt2">211</div><div class="line number212 index211 alt1">212</div><div class="line number213 index212 alt2">213</div><div class="line number214 index213 alt1">214</div><div class="line number215 index214 alt2">215</div><div class="line number216 index215 alt1">216</div><div class="line number217 index216 alt2">217</div><div class="line number218 index217 alt1">218</div><div class="line number219 index218 alt2">219</div><div class="line number220 index219 alt1">220</div><div class="line number221 index220 alt2">221</div><div class="line number222 index221 alt1">222</div><div class="line number223 index222 alt2">223</div><div class="line number224 index223 alt1">224</div><div class="line number225 index224 alt2">225</div><div class="line number226 index225 alt1">226</div><div class="line number227 index226 alt2">227</div><div class="line number228 index227 alt1">228</div><div class="line number229 index228 alt2">229</div><div class="line number230 index229 alt1">230</div><div class="line number231 index230 alt2">231</div><div class="line number232 index231 alt1">232</div><div class="line number233 index232 alt2">233</div><div class="line number234 index233 alt1">234</div><div class="line number235 index234 alt2">235</div><div class="line number236 index235 alt1">236</div><div class="line number237 index236 alt2">237</div><div class="line number238 index237 alt1">238</div><div class="line number239 index238 alt2">239</div><div class="line number240 index239 alt1">240</div><div class="line number241 index240 alt2">241</div><div class="line number242 index241 alt1">242</div><div class="line number243 index242 alt2">243</div><div class="line number244 index243 alt1">244</div><div class="line number245 index244 alt2">245</div><div class="line number246 index245 alt1">246</div><div class="line number247 index246 alt2">247</div><div class="line number248 index247 alt1">248</div><div class="line number249 index248 alt2">249</div><div class="line number250 index249 alt1">250</div><div class="line number251 index250 alt2">251</div><div class="line number252 index251 alt1">252</div><div class="line number253 index252 alt2">253</div><div class="line number254 index253 alt1">254</div><div class="line number255 index254 alt2">255</div><div class="line number256 index255 alt1">256</div><div class="line number257 index256 alt2">257</div><div class="line number258 index257 alt1">258</div><div class="line number259 index258 alt2">259</div><div class="line number260 index259 alt1">260</div><div class="line number261 index260 alt2">261</div><div class="line number262 index261 alt1">262</div><div class="line number263 index262 alt2">263</div><div class="line number264 index263 alt1">264</div><div class="line number265 index264 alt2">265</div><div class="line number266 index265 alt1">266</div><div class="line number267 index266 alt2">267</div><div class="line number268 index267 alt1">268</div><div class="line number269 index268 alt2">269</div><div class="line number270 index269 alt1">270</div><div class="line number271 index270 alt2">271</div><div class="line number272 index271 alt1">272</div><div class="line number273 index272 alt2">273</div><div class="line number274 index273 alt1">274</div><div class="line number275 index274 alt2">275</div><div class="line number276 index275 alt1">276</div><div class="line number277 index276 alt2">277</div><div class="line number278 index277 alt1">278</div><div class="line number279 index278 alt2">279</div><div class="line number280 index279 alt1">280</div><div class="line number281 index280 alt2">281</div><div class="line number282 index281 alt1">282</div><div class="line number283 index282 alt2">283</div><div class="line number284 index283 alt1">284</div><div class="line number285 index284 alt2">285</div><div class="line number286 index285 alt1">286</div><div class="line number287 index286 alt2">287</div><div class="line number288 index287 alt1">288</div><div class="line number289 index288 alt2">289</div><div class="line number290 index289 alt1">290</div><div class="line number291 index290 alt2">291</div><div class="line number292 index291 alt1">292</div><div class="line number293 index292 alt2">293</div><div class="line number294 index293 alt1">294</div><div class="line number295 index294 alt2">295</div><div class="line number296 index295 alt1">296</div><div class="line number297 index296 alt2">297</div><div class="line number298 index297 alt1">298</div><div class="line number299 index298 alt2">299</div><div class="line number300 index299 alt1">300</div><div class="line number301 index300 alt2">301</div><div class="line number302 index301 alt1">302</div><div class="line number303 index302 alt2">303</div><div class="line number304 index303 alt1">304</div><div class="line number305 index304 alt2">305</div><div class="line number306 index305 alt1">306</div><div class="line number307 index306 alt2">307</div><div class="line number308 index307 alt1">308</div><div class="line number309 index308 alt2">309</div><div class="line number310 index309 alt1">310</div><div class="line number311 index310 alt2">311</div><div class="line number312 index311 alt1">312</div><div class="line number313 index312 alt2">313</div><div class="line number314 index313 alt1">314</div><div class="line number315 index314 alt2">315</div><div class="line number316 index315 alt1">316</div><div class="line number317 index316 alt2">317</div><div class="line number318 index317 alt1">318</div><div class="line number319 index318 alt2">319</div><div class="line number320 index319 alt1">320</div><div class="line number321 index320 alt2">321</div><div class="line number322 index321 alt1">322</div><div class="line number323 index322 alt2">323</div><div class="line number324 index323 alt1">324</div><div class="line number325 index324 alt2">325</div><div class="line number326 index325 alt1">326</div><div class="line number327 index326 alt2">327</div><div class="line number328 index327 alt1">328</div><div class="line number329 index328 alt2">329</div><div class="line number330 index329 alt1">330</div><div class="line number331 index330 alt2">331</div><div class="line number332 index331 alt1">332</div><div class="line number333 index332 alt2">333</div><div class="line number334 index333 alt1">334</div><div class="line number335 index334 alt2">335</div><div class="line number336 index335 alt1">336</div><div class="line number337 index336 alt2">337</div><div class="line number338 index337 alt1">338</div><div class="line number339 index338 alt2">339</div><div class="line number340 index339 alt1">340</div><div class="line number341 index340 alt2">341</div><div class="line number342 index341 alt1">342</div><div class="line number343 index342 alt2">343</div><div class="line number344 index343 alt1">344</div><div class="line number345 index344 alt2">345</div><div class="line number346 index345 alt1">346</div><div class="line number347 index346 alt2">347</div><div class="line number348 index347 alt1">348</div><div class="line number349 index348 alt2">349</div><div class="line number350 index349 alt1">350</div><div class="line number351 index350 alt2">351</div><div class="line number352 index351 alt1">352</div><div class="line number353 index352 alt2">353</div><div class="line number354 index353 alt1">354</div><div class="line number355 index354 alt2">355</div><div class="line number356 index355 alt1">356</div><div class="line number357 index356 alt2">357</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">1）</code><code class="bash functions">set</code> <code class="bash plain">-e 参数</code></div><div class="line number2 index1 alt1"><code class="bash plain">========================================================================================</code></div><div class="line number3 index2 alt2"><code class="bash functions">set</code> <code class="bash plain">-e：表示执行的时候如果出现了返回值为非零，整个脚本就会立即退出。</code></div><div class="line number4 index3 alt1"><code class="bash functions">set</code> <code class="bash plain">+e：表示执行的时候如果出现了返回值为非零，将会继续执行下面的脚本。</code></div><div class="line number5 index4 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number6 index5 alt1"><code class="bash plain">即</code><code class="bash string">"set +e"</code><code class="bash plain">表示关闭-e选项，</code><code class="bash string">"set -e"</code><code class="bash plain">表示重新打开-e选项。</code></div><div class="line number7 index6 alt2"><code class="bash spaces">&nbsp;&nbsp;</code>&nbsp;</div><div class="line number8 index7 alt1"><code class="bash string">"set -e"</code><code class="bash plain">命令作用</code></div><div class="line number9 index8 alt2"><code class="bash plain">对于编写的每个脚本，都应该在文件开头加上</code><code class="bash functions">set</code> <code class="bash plain">-e，这句语句的作用是告诉</code><code class="bash functions">bash</code><code class="bash plain">，如果任何语句的执行结果不是</code><code class="bash functions">true</code><code class="bash plain">则应该退出。</code></div><div class="line number10 index9 alt1"><code class="bash plain">这样的好处是防止错误像滚雪球般变大导致一个致命的错误，而这些错误本应该在之前就被处理掉。</code></div><div class="line number11 index10 alt2"><code class="bash plain">如果要增加可读性，可以使用</code><code class="bash functions">set</code> <code class="bash plain">-o errexit，它的作用与</code><code class="bash functions">set</code> <code class="bash plain">-e相同。</code></div><div class="line number12 index11 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number13 index12 alt2"><code class="bash string">"set -e"</code><code class="bash plain">命令用法总结:</code></div><div class="line number14 index13 alt1"><code class="bash plain">1. 当命令的返回值为非零状态时，则立即退出脚本的执行。</code></div><div class="line number15 index14 alt2"><code class="bash plain">2. 作用范围仅仅只限于脚本执行的当前进行，不作用于其创建的子进程！比如在当前终端下设置</code><code class="bash string">"set -e"</code><code class="bash plain">, 但是关闭该窗口，另开一个终端窗口，之前设置的</code><code class="bash string">"set -e"</code><code class="bash plain">功能就失效了！</code></div><div class="line number16 index15 alt1"><code class="bash plain">3. 另外，当想根据命令执行的返回值，输出对应的log时，最好不要采用</code><code class="bash functions">set</code> <code class="bash plain">-e选项，而是通过配合</code><code class="bash functions">exit</code> <code class="bash plain">命令来达到输出log并退出执行的目的。</code></div><div class="line number17 index16 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number18 index17 alt1"><code class="bash plain">示例如下：</code></div><div class="line number19 index18 alt2"><code class="bash plain">执行</code><code class="bash string">"set -e"</code><code class="bash plain">之后，在接下来执行的命令中，如果命令的返回值不为0，那么会使所在的进程或shell退出。</code></div><div class="line number20 index19 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number21 index20 alt2"><code class="bash plain">示例1：</code></div><div class="line number22 index21 alt1"><code class="bash plain">查看haha.txt文件，由于该文件不存在，之后命令后的返回值不为0</code></div><div class="line number23 index22 alt2"><code class="bash plain">由于没有提前执行</code><code class="bash string">"set -e"</code><code class="bash plain">，则命令执行后不会退出该进程</code></div><div class="line number24 index23 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha.txt</code></div><div class="line number25 index24 alt2"><code class="bash functions">cat</code><code class="bash plain">: haha.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number26 index25 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $?</code></div><div class="line number27 index26 alt2"><code class="bash plain">1</code></div><div class="line number28 index27 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments">#</code></div><div class="line number29 index28 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number30 index29 alt1"><code class="bash plain">现在执行</code><code class="bash string">"set -e"</code></div><div class="line number31 index30 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># set -e</code></div><div class="line number32 index31 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha.txt</code></div><div class="line number33 index32 alt2"><code class="bash functions">cat</code><code class="bash plain">: haha.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#由于在之前添加了"set -e"，则命令返回值为非零时就自动退出。</code></div><div class="line number34 index33 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number35 index34 alt2"><code class="bash plain">如果将</code><code class="bash string">"set -e"</code><code class="bash plain">换成</code><code class="bash string">"set +e"</code><code class="bash plain">，则命令执行后返回值为非零，将不会自动退出shell，会继续执行。</code></div><div class="line number36 index35 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># set +e</code></div><div class="line number37 index36 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha.txt</code></div><div class="line number38 index37 alt1"><code class="bash functions">cat</code><code class="bash plain">: haha.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number39 index38 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $?</code></div><div class="line number40 index39 alt1"><code class="bash plain">1</code></div><div class="line number41 index40 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments">#</code></div><div class="line number42 index41 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number43 index42 alt2"><code class="bash plain">为了增加可读性，可以使用</code><code class="bash string">"set -o errexit"</code><code class="bash plain">命令来替换</code><code class="bash string">"set -e"</code><code class="bash plain">，两者效果一样！</code></div><div class="line number44 index43 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># set -o errexit</code></div><div class="line number45 index44 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha.txt</code></div><div class="line number46 index45 alt1"><code class="bash functions">cat</code><code class="bash plain">: haha.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#执行命令的返回值为非零，直接退出当前shell。</code></div><div class="line number47 index46 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number48 index47 alt1"><code class="bash plain">示例2：</code></div><div class="line number49 index48 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat hehe.txt;hostname</code></div><div class="line number50 index49 alt1"><code class="bash functions">cat</code><code class="bash plain">: hehe.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number51 index50 alt2"><code class="bash plain">ss-server</code></div><div class="line number52 index51 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number53 index52 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># set -e</code></div><div class="line number54 index53 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat hehe.txt;hostname</code></div><div class="line number55 index54 alt2"><code class="bash functions">cat</code><code class="bash plain">: hehe.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#执行命令的返回值为非零，直接退出当前shell。</code></div><div class="line number56 index55 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;</code>&nbsp;</div><div class="line number57 index56 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># set -o errexit</code></div><div class="line number58 index57 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat hehe.txt;hostname</code></div><div class="line number59 index58 alt2"><code class="bash functions">cat</code><code class="bash plain">: hehe.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </code><code class="bash comments">#执行命令的返回值为非零，直接退出当前shell。</code></div><div class="line number60 index59 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number61 index60 alt2"><code class="bash comments">###############&nbsp; 需要注意&nbsp; ###############</code></div><div class="line number62 index61 alt1"><code class="bash plain">1. </code><code class="bash string">"set -e"</code><code class="bash plain">参数 和 </code><code class="bash string">"set -o errexit"</code> <code class="bash plain">两者等同！上面已有示例说明。</code></div><div class="line number63 index62 alt2"><code class="bash plain">2. 还有一种方法是使用</code><code class="bash functions">command</code> <code class="bash plain">|| </code><code class="bash functions">true</code><code class="bash plain">，使得该命令即使执行失败，脚本也不会终止执行。这个需要特别注意下！</code></div><div class="line number64 index63 alt1"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number65 index64 alt2"><code class="bash plain">如下，虽然设置了</code><code class="bash string">"set -e"</code><code class="bash plain">参数，并且</code><code class="bash string">"cat hehe.txt"</code><code class="bash plain">执行命令的返回值为非零。但是由于使用了||符号，表示前面命令执行结果为</code><code class="bash functions">false</code><code class="bash plain">后，继续执行后面的命令。</code></div><div class="line number66 index65 alt1"><code class="bash plain">那么只要这个||后面的命令执行结果为</code><code class="bash functions">true</code><code class="bash plain">，则整个命令执行结果返回值就是0，所以即使设置了</code><code class="bash string">"set -e"</code><code class="bash plain">，也没有退出当前shell！</code></div><div class="line number67 index66 alt2">&nbsp;</div><div class="line number68 index67 alt1"><code class="bash plain">示例如下：</code></div><div class="line number69 index68 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># set -e</code></div><div class="line number70 index69 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat hehe.txt || hostname</code></div><div class="line number71 index70 alt2"><code class="bash functions">cat</code><code class="bash plain">: hehe.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number72 index71 alt1"><code class="bash plain">ss-server</code></div><div class="line number73 index72 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $?</code></div><div class="line number74 index73 alt1"><code class="bash plain">0</code></div><div class="line number75 index74 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number76 index75 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># set -e</code></div><div class="line number77 index76 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat hehe.txt || cat haha.txt || hostname</code></div><div class="line number78 index77 alt1"><code class="bash functions">cat</code><code class="bash plain">: hehe.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number79 index78 alt2"><code class="bash functions">cat</code><code class="bash plain">: haha.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number80 index79 alt1"><code class="bash plain">ss-server</code></div><div class="line number81 index80 alt2"><code class="bash spaces">&nbsp;</code>&nbsp;</div><div class="line number82 index81 alt1"><code class="bash plain">如果||最后面的那条命令执行结果为</code><code class="bash functions">false</code><code class="bash plain">，则整个命令执行结果返回值就是非零，则就会退出当前shell</code></div><div class="line number83 index82 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># set -e</code></div><div class="line number84 index83 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat hehe.txt || cat haha.txt</code></div><div class="line number85 index84 alt2"><code class="bash functions">cat</code><code class="bash plain">: hehe.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number86 index85 alt1"><code class="bash functions">cat</code><code class="bash plain">: haha.txt: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number87 index86 alt2">&nbsp;</div><div class="line number88 index87 alt1"><code class="bash plain">3. 还要注意一种例外情况，就是</code><code class="bash functions">set</code> <code class="bash plain">-e不适用于管道命令。</code></div><div class="line number89 index88 alt2">&nbsp;</div><div class="line number90 index89 alt1"><code class="bash plain">所谓管道命令，就是多个子命令通过管道运算符（|）组合成为一个大的命令。Bash 会把最后一个子命令的返回值，作为整个命令的返回值。</code></div><div class="line number91 index90 alt2"><code class="bash plain">也就是说，只要最后一个子命令不失败，管道命令总是会执行成功，因此它后面命令依然会执行，</code><code class="bash functions">set</code> <code class="bash plain">-e就失效了。</code></div><div class="line number92 index91 alt1">&nbsp;</div><div class="line number93 index92 alt2"><code class="bash plain">示例如下：</code></div><div class="line number94 index93 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number95 index94 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number96 index95 alt1"><code class="bash functions">set</code> <code class="bash plain">-e</code></div><div class="line number97 index96 alt2"><code class="bash functions">cat</code> <code class="bash plain">haha_yu | </code><code class="bash functions">echo</code> <code class="bash string">"hello world"</code></div><div class="line number98 index97 alt1"><code class="bash functions">hostname</code></div><div class="line number99 index98 alt2">&nbsp;</div><div class="line number100 index99 alt1"><code class="bash plain">执行结果：</code></div><div class="line number101 index100 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number102 index101 alt1"><code class="bash plain">hello world</code></div><div class="line number103 index102 alt2"><code class="bash functions">cat</code><code class="bash plain">: haha_yu: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number104 index103 alt1"><code class="bash plain">ss-server</code></div><div class="line number105 index104 alt2">&nbsp;</div><div class="line number106 index105 alt1"><code class="bash plain">上面脚本中，虽然haha文件不存在，但是</code><code class="bash functions">cat</code> <code class="bash plain">haha_yu | </code><code class="bash functions">echo</code> <code class="bash string">"hello world"</code><code class="bash plain">它是一个整体命令，只有|后面的命令执行成功，则整个命令的返回值就是0</code></div><div class="line number107 index106 alt2"><code class="bash plain">所以后面的</code><code class="bash string">"hostname"</code><code class="bash plain">命令也会继续执行。</code></div><div class="line number108 index107 alt1">&nbsp;</div><div class="line number109 index108 alt2">&nbsp;</div><div class="line number110 index109 alt1"><code class="bash plain">2）</code><code class="bash functions">set</code> <code class="bash plain">-o pipefail 参数</code></div><div class="line number111 index110 alt2"><code class="bash plain">========================================================================================</code></div><div class="line number112 index111 alt1"><code class="bash plain">针对上面</code><code class="bash functions">set</code> <code class="bash plain">-e不适用于管道命令的例子，</code><code class="bash functions">set</code> <code class="bash plain">-o pipefail 用来解决这种情况，只要一个子命令失败，整个管道命令就失败，脚本就会终止执行。</code></div><div class="line number113 index112 alt2">&nbsp;</div><div class="line number114 index113 alt1"><code class="bash functions">set</code> <code class="bash plain">-o pipefail表示在管道连接的命令序列中，只要有任何一个命令返回非0值，则</code><code class="bash string">"整个管道命令"</code><code class="bash plain">返回非0值，即使最后一个命令返回0！！</code></div><div class="line number115 index114 alt2">&nbsp;</div><div class="line number116 index115 alt1"><code class="bash plain">示例如下：</code></div><div class="line number117 index116 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number118 index117 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number119 index118 alt2"><code class="bash functions">set</code> <code class="bash plain">-eo pipefail</code></div><div class="line number120 index119 alt1"><code class="bash functions">cat</code> <code class="bash plain">haha_yu | </code><code class="bash functions">echo</code> <code class="bash string">"hello world"</code></div><div class="line number121 index120 alt2"><code class="bash functions">hostname</code></div><div class="line number122 index121 alt1">&nbsp;</div><div class="line number123 index122 alt2"><code class="bash plain">执行结果如下：</code></div><div class="line number124 index123 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number125 index124 alt2"><code class="bash plain">hello world</code></div><div class="line number126 index125 alt1"><code class="bash functions">cat</code><code class="bash plain">: haha_yu: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number127 index126 alt2">&nbsp;</div><div class="line number128 index127 alt1"><code class="bash plain">示例2：</code></div><div class="line number129 index128 alt2"><code class="bash plain">|管道命令，只要最后一个命令执行成功，则整个管道命令执行结果返回值就是0，即整个管道命令执行就算成功！</code></div><div class="line number130 index129 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha_yu | echo "hello world"</code></div><div class="line number131 index130 alt2"><code class="bash plain">hello world</code></div><div class="line number132 index131 alt1"><code class="bash functions">cat</code><code class="bash plain">: haha_yu: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number133 index132 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $?</code></div><div class="line number134 index133 alt1"><code class="bash plain">0</code></div><div class="line number135 index134 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha_yu | echo "hello world" &gt;/dev/null 2&gt;&amp;1</code></div><div class="line number136 index135 alt1"><code class="bash functions">cat</code><code class="bash plain">: haha_yu: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number137 index136 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $?</code></div><div class="line number138 index137 alt1"><code class="bash plain">0</code></div><div class="line number139 index138 alt2">&nbsp;</div><div class="line number140 index139 alt1"><code class="bash plain">设置了</code><code class="bash string">"set -o pipefail"</code><code class="bash plain">之后，只要有任何一个命令返回非0值，则</code><code class="bash string">"整个管道命令"</code><code class="bash plain">返回非0值，即使最后一个命令返回0！</code></div><div class="line number141 index140 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># set -o pipefail</code></div><div class="line number142 index141 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat haha_yu | echo "hello world" &gt;/dev/null 2&gt;&amp;1</code></div><div class="line number143 index142 alt2"><code class="bash functions">cat</code><code class="bash plain">: haha_yu: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number144 index143 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># echo $?</code></div><div class="line number145 index144 alt2"><code class="bash plain">1</code></div><div class="line number146 index145 alt1">&nbsp;</div><div class="line number147 index146 alt2">&nbsp;</div><div class="line number148 index147 alt1"><code class="bash plain">3）</code><code class="bash functions">set</code> <code class="bash plain">-u 参数</code></div><div class="line number149 index148 alt2"><code class="bash plain">========================================================================================</code></div><div class="line number150 index149 alt1"><code class="bash plain">该参数表示在脚本执行中，如遇到不存在的变量就会报错，并停止执行！</code></div><div class="line number151 index150 alt2">&nbsp;</div><div class="line number152 index151 alt1"><code class="bash plain">示例如下：</code></div><div class="line number153 index152 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number154 index153 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number155 index154 alt2"><code class="bash functions">echo</code> <code class="bash plain">${a}</code></div><div class="line number156 index155 alt1"><code class="bash functions">echo</code> <code class="bash plain">`</code><code class="bash functions">hostname</code><code class="bash plain">`</code></div><div class="line number157 index156 alt2">&nbsp;</div><div class="line number158 index157 alt1"><code class="bash plain">上面脚本中，${a}是一个不存在的变量。执行结果如下：</code></div><div class="line number159 index158 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number160 index159 alt1">&nbsp;</div><div class="line number161 index160 alt2"><code class="bash plain">ss-server</code></div><div class="line number162 index161 alt1">&nbsp;</div><div class="line number163 index162 alt2"><code class="bash plain">可以看到，</code><code class="bash functions">echo</code> <code class="bash plain">${a}输出了一个空行，说明Bash忽略了不存在的${a}变量，然后继续执行</code><code class="bash functions">echo</code> <code class="bash plain">`</code><code class="bash functions">hostname</code><code class="bash plain">`。</code></div><div class="line number164 index163 alt1"><code class="bash plain">大多数情况下，这不是我们想要的行为，遇到变量不存在，脚本应该报错，而不是一声不响地往下执行。</code></div><div class="line number165 index164 alt2"><code class="bash plain">那么</code><code class="bash string">"set -u"</code><code class="bash plain">参数就用来改变这种行为。脚本在头部加上它，遇到不存在的变量就会报错，并停止执行。</code></div><div class="line number166 index165 alt1">&nbsp;</div><div class="line number167 index166 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number168 index167 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number169 index168 alt2"><code class="bash functions">set</code> <code class="bash plain">-u</code></div><div class="line number170 index169 alt1"><code class="bash functions">echo</code> <code class="bash plain">${a}</code></div><div class="line number171 index170 alt2"><code class="bash functions">echo</code> <code class="bash plain">`</code><code class="bash functions">hostname</code><code class="bash plain">`</code></div><div class="line number172 index171 alt1">&nbsp;</div><div class="line number173 index172 alt2"><code class="bash plain">执行结果如下：</code></div><div class="line number174 index173 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number175 index174 alt2"><code class="bash functions">test</code><code class="bash plain">.sh: line 3: a: unbound variable</code></div><div class="line number176 index175 alt1">&nbsp;</div><div class="line number177 index176 alt2"><code class="bash plain">从上面可以看到，添加</code><code class="bash string">"set -u"</code><code class="bash plain">参数后，脚本执行中发现不存在${a}变量就报错了(报错</code><code class="bash string">"未绑定的变量"</code><code class="bash plain">)，并且不再执行后面的语句。</code></div><div class="line number178 index177 alt1">&nbsp;</div><div class="line number179 index178 alt2"><code class="bash plain">需要注意：</code></div><div class="line number180 index179 alt1"><code class="bash string">"set -u"</code> <code class="bash plain">还有另一种写法</code><code class="bash string">"set -o nounset"</code><code class="bash plain">，两者是等价的！！！</code></div><div class="line number181 index180 alt2">&nbsp;</div><div class="line number182 index181 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number183 index182 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number184 index183 alt1"><code class="bash functions">set</code> <code class="bash plain">-o nounset</code></div><div class="line number185 index184 alt2"><code class="bash functions">echo</code> <code class="bash plain">${a}</code></div><div class="line number186 index185 alt1"><code class="bash functions">echo</code> <code class="bash plain">`</code><code class="bash functions">hostname</code><code class="bash plain">`</code></div><div class="line number187 index186 alt2">&nbsp;</div><div class="line number188 index187 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number189 index188 alt2"><code class="bash functions">test</code><code class="bash plain">.sh: line 3: a: unbound variable</code></div><div class="line number190 index189 alt1">&nbsp;</div><div class="line number191 index190 alt2">&nbsp;</div><div class="line number192 index191 alt1"><code class="bash plain">4）</code><code class="bash functions">set</code> <code class="bash plain">-x 参数</code></div><div class="line number193 index192 alt2"><code class="bash plain">========================================================================================</code></div><div class="line number194 index193 alt1"><code class="bash plain">默认情况下，shell脚本执行后，屏幕只显示运行结果，没有其他内容。</code></div><div class="line number195 index194 alt2"><code class="bash plain">如果多个命令连续执行，它们的运行结果就会连续输出。有时会分不清，某一段内容是什么命令产生的。</code></div><div class="line number196 index195 alt1">&nbsp;</div><div class="line number197 index196 alt2"><code class="bash string">"set -x"</code><code class="bash plain">参数用来在运行结果之前，先输出执行的那一行命令。即输出脚本执行的详细过程！</code></div><div class="line number198 index197 alt1">&nbsp;</div><div class="line number199 index198 alt2"><code class="bash plain">示例如下：</code></div><div class="line number200 index199 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number201 index200 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number202 index201 alt1"><code class="bash plain">DATE=$(</code><code class="bash functions">date</code> <code class="bash plain">+%Y%m%d)</code></div><div class="line number203 index202 alt2"><code class="bash functions">echo</code> <code class="bash string">"$(hostname) and ${DATE}"</code></div><div class="line number204 index203 alt1">&nbsp;</div><div class="line number205 index204 alt2"><code class="bash plain">执行结果如下，只输出运行结果，没有输出详细的执行命令</code></div><div class="line number206 index205 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh </code></div><div class="line number207 index206 alt2"><code class="bash plain">ss-server and 20191218</code></div><div class="line number208 index207 alt1">&nbsp;</div><div class="line number209 index208 alt2"><code class="bash plain">现在加上</code><code class="bash string">"set -x"</code><code class="bash plain">参数</code></div><div class="line number210 index209 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number211 index210 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number212 index211 alt1"><code class="bash functions">set</code> <code class="bash plain">-x</code></div><div class="line number213 index212 alt2"><code class="bash plain">DATE=$(</code><code class="bash functions">date</code> <code class="bash plain">+%Y%m%d)</code></div><div class="line number214 index213 alt1"><code class="bash functions">echo</code> <code class="bash string">"$(hostname) and ${DATE}"</code></div><div class="line number215 index214 alt2">&nbsp;</div><div class="line number216 index215 alt1"><code class="bash plain">执行结果如下：</code></div><div class="line number217 index216 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number218 index217 alt1"><code class="bash plain">++ </code><code class="bash functions">date</code> <code class="bash plain">+%Y%m%d</code></div><div class="line number219 index218 alt2"><code class="bash plain">+ DATE=20191218</code></div><div class="line number220 index219 alt1"><code class="bash plain">++ </code><code class="bash functions">hostname</code></div><div class="line number221 index220 alt2"><code class="bash plain">+ </code><code class="bash functions">echo</code> <code class="bash string">'ss-server and 20191218'</code></div><div class="line number222 index221 alt1"><code class="bash plain">ss-server and 20191218</code></div><div class="line number223 index222 alt2">&nbsp;</div><div class="line number224 index223 alt1"><code class="bash plain">需要注意：</code></div><div class="line number225 index224 alt2"><code class="bash string">"set -x"</code><code class="bash plain">参数还有另一种写法</code><code class="bash string">"set -o xtrace"</code><code class="bash plain">，两者是等价的！！！</code></div><div class="line number226 index225 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number227 index226 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number228 index227 alt1"><code class="bash functions">set</code> <code class="bash plain">-o xtrace</code></div><div class="line number229 index228 alt2"><code class="bash plain">DATE=$(</code><code class="bash functions">date</code> <code class="bash plain">+%Y%m%d)</code></div><div class="line number230 index229 alt1"><code class="bash functions">echo</code> <code class="bash string">"$(hostname) and ${DATE}"</code></div><div class="line number231 index230 alt2">&nbsp;</div><div class="line number232 index231 alt1"><code class="bash plain">执行结果如下：</code></div><div class="line number233 index232 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number234 index233 alt1"><code class="bash plain">++ </code><code class="bash functions">date</code> <code class="bash plain">+%Y%m%d</code></div><div class="line number235 index234 alt2"><code class="bash plain">+ DATE=20191218</code></div><div class="line number236 index235 alt1"><code class="bash plain">++ </code><code class="bash functions">hostname</code></div><div class="line number237 index236 alt2"><code class="bash plain">+ </code><code class="bash functions">echo</code> <code class="bash string">'ss-server and 20191218'</code></div><div class="line number238 index237 alt1"><code class="bash plain">ss-server and 20191218</code></div><div class="line number239 index238 alt2">&nbsp;</div><div class="line number240 index239 alt1"><code class="bash plain">其实，上面</code><code class="bash string">"set -x"</code> <code class="bash plain">和 </code><code class="bash string">"set -o xtrace"</code> <code class="bash plain">作用就是打印脚本执行的详细过程，这和</code><code class="bash string">"sh -x xxx.sh"</code><code class="bash plain">的效果也是一样的！</code></div><div class="line number241 index240 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number242 index241 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number243 index242 alt2"><code class="bash plain">DATE=$(</code><code class="bash functions">date</code> <code class="bash plain">+%Y%m%d)</code></div><div class="line number244 index243 alt1"><code class="bash functions">echo</code> <code class="bash string">"$(hostname) and ${DATE}"</code></div><div class="line number245 index244 alt2">&nbsp;</div><div class="line number246 index245 alt1"><code class="bash plain">如上，脚本中没有添加</code><code class="bash string">"set -x"</code> <code class="bash plain">或 </code><code class="bash string">"set -o xtrace"</code><code class="bash plain">, 在执行脚本时使用</code><code class="bash string">"sh -x"</code><code class="bash plain">也可以打印脚本执行过程。</code></div><div class="line number247 index246 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh -x test.sh</code></div><div class="line number248 index247 alt1"><code class="bash plain">++ </code><code class="bash functions">date</code> <code class="bash plain">+%Y%m%d</code></div><div class="line number249 index248 alt2"><code class="bash plain">+ DATE=20191218</code></div><div class="line number250 index249 alt1"><code class="bash plain">++ </code><code class="bash functions">hostname</code></div><div class="line number251 index250 alt2"><code class="bash plain">+ </code><code class="bash functions">echo</code> <code class="bash string">'ss-server and 20191218'</code></div><div class="line number252 index251 alt1"><code class="bash plain">ss-server and 20191218</code></div><div class="line number253 index252 alt2">&nbsp;</div><div class="line number254 index253 alt1">&nbsp;</div><div class="line number255 index254 alt2"><code class="bash plain">5）shell脚本的错误处理</code></div><div class="line number256 index255 alt1"><code class="bash plain">========================================================================================</code></div><div class="line number257 index256 alt2"><code class="bash plain">如果脚本里面有运行失败的命令（返回值非0），Bash 默认会继续执行后面的命令。</code></div><div class="line number258 index257 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number259 index258 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number260 index259 alt1"><code class="bash functions">cat</code> <code class="bash plain">haha_yu</code></div><div class="line number261 index260 alt2"><code class="bash functions">echo</code> <code class="bash plain">`</code><code class="bash functions">hostname</code><code class="bash plain">`</code></div><div class="line number262 index261 alt1">&nbsp;</div><div class="line number263 index262 alt2"><code class="bash plain">上面脚本中，</code><code class="bash string">"cat haha_yu"</code><code class="bash plain">是一个执行会报错的命令，因为haha_yu文件不存在。</code></div><div class="line number264 index263 alt1"><code class="bash plain">但是，Bash 会忽略这个错误，继续往下执行。</code></div><div class="line number265 index264 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number266 index265 alt1"><code class="bash functions">cat</code><code class="bash plain">: haha_yu: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number267 index266 alt2"><code class="bash plain">ss-server</code></div><div class="line number268 index267 alt1">&nbsp;</div><div class="line number269 index268 alt2"><code class="bash plain">可以看到，上面脚本中Bash 只是显示有错误，并没有终止执行。</code></div><div class="line number270 index269 alt1"><code class="bash plain">这种行为很不利于脚本安全和除错。实际开发中，如果某个命令失败，往往需要脚本停止执行，防止错误累积。这时，一般采用下面的写法。</code></div><div class="line number271 index270 alt2"><code class="bash string">"command || exit 1"</code></div><div class="line number272 index271 alt1">&nbsp;</div><div class="line number273 index272 alt2"><code class="bash plain">上面的写法表示只要</code><code class="bash functions">command</code><code class="bash plain">有非零返回值，脚本就会停止执行。</code></div><div class="line number274 index273 alt1">&nbsp;</div><div class="line number275 index274 alt2"><code class="bash plain">如果停止执行之前需要完成多个操作，就要采用下面三种写法。</code></div><div class="line number276 index275 alt1"><code class="bash comments"># 写法一</code></div><div class="line number277 index276 alt2"><code class="bash functions">command</code> <code class="bash plain">|| { </code><code class="bash functions">echo</code> <code class="bash string">"command failed"</code><code class="bash plain">; </code><code class="bash functions">exit</code> <code class="bash plain">1; }</code></div><div class="line number278 index277 alt1">&nbsp;</div><div class="line number279 index278 alt2"><code class="bash comments"># 写法二</code></div><div class="line number280 index279 alt1"><code class="bash keyword">if</code> <code class="bash plain">! </code><code class="bash functions">command</code><code class="bash plain">; </code><code class="bash keyword">then</code> <code class="bash functions">echo</code> <code class="bash string">"command failed"</code><code class="bash plain">; </code><code class="bash functions">exit</code> <code class="bash plain">1; </code><code class="bash keyword">fi</code></div><div class="line number281 index280 alt2">&nbsp;</div><div class="line number282 index281 alt1"><code class="bash comments"># 写法三</code></div><div class="line number283 index282 alt2"><code class="bash functions">command</code></div><div class="line number284 index283 alt1"><code class="bash keyword">if</code> <code class="bash plain">[ </code><code class="bash string">"$?"</code> <code class="bash plain">-</code><code class="bash keyword">ne</code> <code class="bash plain">0 ]; </code><code class="bash keyword">then</code> <code class="bash functions">echo</code> <code class="bash string">"command failed"</code><code class="bash plain">; </code><code class="bash functions">exit</code> <code class="bash plain">1; </code><code class="bash keyword">fi</code></div><div class="line number285 index284 alt2">&nbsp;</div><div class="line number286 index285 alt1"><code class="bash plain">另外，除了停止执行，还有一种情况:</code></div><div class="line number287 index286 alt2"><code class="bash plain">如果两个命令有继承关系，只有第一个命令成功了，才能继续执行第二个命令，那么就要采用下面的写法。</code></div><div class="line number288 index287 alt1"><code class="bash plain">command1 &amp;&amp; command2</code></div><div class="line number289 index288 alt2">&nbsp;</div><div class="line number290 index289 alt1"><code class="bash plain">至于，;、||、&amp;&amp; 这三者的使用区别，在上面已经详细介绍过了，这里就不赘述了。</code></div><div class="line number291 index290 alt2">&nbsp;</div><div class="line number292 index291 alt1"><code class="bash plain">示例1</code></div><div class="line number293 index292 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number294 index293 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number295 index294 alt2"><code class="bash functions">cat</code> <code class="bash plain">haha_yu || </code><code class="bash functions">exit</code> <code class="bash plain">1</code></div><div class="line number296 index295 alt1"><code class="bash functions">echo</code> <code class="bash plain">`</code><code class="bash functions">hostname</code><code class="bash plain">`</code></div><div class="line number297 index296 alt2">&nbsp;</div><div class="line number298 index297 alt1"><code class="bash plain">执行结果如下：</code></div><div class="line number299 index298 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number300 index299 alt1"><code class="bash functions">cat</code><code class="bash plain">: haha_yu: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number301 index300 alt2">&nbsp;</div><div class="line number302 index301 alt1"><code class="bash plain">示例2</code></div><div class="line number303 index302 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number304 index303 alt1"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number305 index304 alt2"><code class="bash functions">cat</code> <code class="bash plain">haha_yu || { </code><code class="bash functions">echo</code> <code class="bash string">"执行失败"</code><code class="bash plain">;</code><code class="bash functions">exit</code> <code class="bash plain">1;}</code></div><div class="line number306 index305 alt1"><code class="bash functions">echo</code> <code class="bash plain">`</code><code class="bash functions">hostname</code><code class="bash plain">`</code></div><div class="line number307 index306 alt2">&nbsp;</div><div class="line number308 index307 alt1"><code class="bash plain">执行结果如下：</code></div><div class="line number309 index308 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number310 index309 alt1"><code class="bash functions">cat</code><code class="bash plain">: haha_yu: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number311 index310 alt2"><code class="bash plain">执行失败</code></div><div class="line number312 index311 alt1">&nbsp;</div><div class="line number313 index312 alt2"><code class="bash plain">示例3</code></div><div class="line number314 index313 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number315 index314 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number316 index315 alt1"><code class="bash keyword">if</code> <code class="bash plain">! </code><code class="bash functions">cat</code> <code class="bash plain">haha_yu;</code><code class="bash keyword">then</code></div><div class="line number317 index316 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"执行失败"</code></div><div class="line number318 index317 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">exit</code> <code class="bash plain">1</code></div><div class="line number319 index318 alt2"><code class="bash keyword">fi</code></div><div class="line number320 index319 alt1"><code class="bash functions">echo</code> <code class="bash plain">`</code><code class="bash functions">hostname</code><code class="bash plain">`</code></div><div class="line number321 index320 alt2">&nbsp;</div><div class="line number322 index321 alt1"><code class="bash plain">执行结果如下：</code></div><div class="line number323 index322 alt2"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number324 index323 alt1"><code class="bash functions">cat</code><code class="bash plain">: haha_yu: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number325 index324 alt2"><code class="bash plain">执行失败</code></div><div class="line number326 index325 alt1">&nbsp;</div><div class="line number327 index326 alt2"><code class="bash plain">示例4</code></div><div class="line number328 index327 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># cat test.sh</code></div><div class="line number329 index328 alt2"><code class="bash preprocessor bold">#!/bin/bash</code></div><div class="line number330 index329 alt1"><code class="bash functions">cat</code> <code class="bash plain">haha_yu</code></div><div class="line number331 index330 alt2"><code class="bash keyword">if</code> <code class="bash plain">[ $? -</code><code class="bash keyword">ne</code> <code class="bash plain">0 ];</code><code class="bash keyword">then</code></div><div class="line number332 index331 alt1"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">echo</code> <code class="bash string">"执行失败"</code></div><div class="line number333 index332 alt2"><code class="bash spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="bash functions">exit</code> <code class="bash plain">1</code></div><div class="line number334 index333 alt1"><code class="bash keyword">fi</code></div><div class="line number335 index334 alt2"><code class="bash functions">echo</code> <code class="bash plain">`</code><code class="bash functions">hostname</code><code class="bash plain">`</code></div><div class="line number336 index335 alt1">&nbsp;</div><div class="line number337 index336 alt2"><code class="bash plain">执行结果如下：</code></div><div class="line number338 index337 alt1"><code class="bash plain">[root@ss-server ~]</code><code class="bash comments"># sh test.sh</code></div><div class="line number339 index338 alt2"><code class="bash functions">cat</code><code class="bash plain">: haha_yu: No such </code><code class="bash functions">file</code> <code class="bash plain">or directory</code></div><div class="line number340 index339 alt1"><code class="bash plain">执行失败</code></div><div class="line number341 index340 alt2">&nbsp;</div><div class="line number342 index341 alt1">&nbsp;</div><div class="line number343 index342 alt2"><code class="bash plain">6）</code><code class="bash functions">set</code><code class="bash plain">命令总结</code></div><div class="line number344 index343 alt1"><code class="bash plain">========================================================================================</code></div><div class="line number345 index344 alt2"><code class="bash functions">set</code><code class="bash plain">命令的上面这四个参数，一般都放在一起在shell脚本中使用。</code></div><div class="line number346 index345 alt1">&nbsp;</div><div class="line number347 index346 alt2"><code class="bash comments"># 写法一</code></div><div class="line number348 index347 alt1"><code class="bash functions">set</code> <code class="bash plain">-euxo pipefail</code></div><div class="line number349 index348 alt2">&nbsp;</div><div class="line number350 index349 alt1"><code class="bash comments"># 写法二</code></div><div class="line number351 index350 alt2"><code class="bash functions">set</code> <code class="bash plain">-eux</code></div><div class="line number352 index351 alt1"><code class="bash functions">set</code> <code class="bash plain">-o pipefail</code></div><div class="line number353 index352 alt2">&nbsp;</div><div class="line number354 index353 alt1"><code class="bash plain">以上这两种写法建议放在所有 Bash 脚本的头部。</code></div><div class="line number355 index354 alt2">&nbsp;</div><div class="line number356 index355 alt1"><code class="bash plain">还有另一种办法：在执行Bash脚本的时候，从命令行传入这些参数。</code></div><div class="line number357 index356 alt2"><code class="bash comments"># bash -euxo pipefail script.sh</code></div></div></td></tr></tbody></table></div></div>
</div>
</div>
<div id="MySignature" style="display: block;">*************** 当你发现自己的才华撑不起野心时，就请安静下来学习吧！***************</div>
<div class="clear"></div>
<div id="blog_post_info_block"><div id="BlogPostCategory">
    分类: 
            <a href="https://www.cnblogs.com/kevingrace/category/796275.html" target="_blank">Shell</a></div>


    <div id="blog_post_info">
<div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(5996133,cb_blogId,1);green_channel_success(this,'谢谢推荐！');">好文要顶</a>
        <a id="green_channel_follow" onclick="follow('2423edd6-4be4-e511-9fc1-ac853d9f53cc');" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_weibo" href="javascript:void(0);" title="分享至新浪微博" onclick="ShareToTsina()"><img src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/icon_weibo_24.png" alt=""></a>
    <a id="green_channel_wechat" href="javascript:void(0);" title="分享至微信" onclick="shareOnWechat()"><img src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/wechat.png" alt=""></a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/kevingrace/" target="_blank"><img src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/20161124180837.png" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/kevingrace/">散尽浮华</a><br>
            <a href="https://home.cnblogs.com/u/kevingrace/followees/">关注 - 23</a><br>
            <a href="https://home.cnblogs.com/u/kevingrace/followers/">粉丝 - 3230</a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow">
                <a href="javascript:void(0);" onclick="follow('2423edd6-4be4-e511-9fc1-ac853d9f53cc');return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(5996133,'Digg')">
        <span class="diggnum" id="digg_count">0</span>
    </div>
    <div class="buryit" onclick="votePost(5996133,'Bury')">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
</div>

<script type="text/javascript">
    currentDiggType = 0;
</script></div>
    <div class="clear"></div>
    <div id="post_next_prev">

    <a href="https://www.cnblogs.com/kevingrace/p/5995875.html" class="p_n_p_prefix">« </a> 上一篇：    <a href="https://www.cnblogs.com/kevingrace/p/5995875.html" title="发布于 2016-10-25 10:57">分布式监控系统Zabbix-3.0.3-完整安装记录（6）-微信报警部署</a>
    <br>
    <a href="https://www.cnblogs.com/kevingrace/p/5997804.html" class="p_n_p_prefix">» </a> 下一篇：    <a href="https://www.cnblogs.com/kevingrace/p/5997804.html" title="发布于 2016-10-25 18:45">Shell+Curl监控网站页面访问状态，利用SendEmail发邮件通知</a>

</div>
</div>
		</div>
		<div class="postDesc">posted @ 
<span id="post-date">2016-10-25 11:44</span>&nbsp;
<a href="https://www.cnblogs.com/kevingrace/">散尽浮华</a>&nbsp;
阅读(<span id="post_view_count">11842</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=5996133" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(5996133);return false;">收藏</a></div>
	</div>
	
	
</div><!--end: topics 文章、评论容器-->
<script src="Shell%E8%84%9A%E6%9C%AC%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D%E5%8F%8A%E6%97%A5%E5%B8%B8%E5%91%BD%E4%BB%A4%E5%B7%A5%E5%85%B7%20-%20%E7%94%A8%E6%B3%95%E6%80%BB%E7%BB%93%EF%BC%88%E6%8A%80%E5%B7%A7%E6%8C%87%E5%8D%97%EF%BC%89%20-%20%E6%95%A3%E5%B0%BD%E6%B5%AE%E5%8D%8E%20-%20%E5%8D%9A%E5%AE%A2%E5%9B%AD_files/highlight.js"></script>
<script>markdown_highlight();</script>
<script>
    var allowComments = true, cb_blogId = 271300, cb_blogApp = 'kevingrace', cb_blogUserGuid = '2423edd6-4be4-e511-9fc1-ac853d9f53cc';
    var cb_entryId = 5996133, cb_entryCreatedDate = '2016-10-25 11:44', cb_postType = 1;
    updatePostStats(
        [cb_entryId],
        function(id, count) { $("#post_view_count").text(count) },
        function(id, count) { $("#post_comment_count").text(count) })
    zoomManager.apply("#cnblogs_post_body img:not(.code_img_closed):not(.code_img_opened)");
</script>
<a name="!comments"></a>
<div id="blog-comments-placeholder"></div>
<div id="comment_form" class="commentform">
    <a name="commentform"></a>
    <div id="divCommentShow"></div>
    <div id="comment_nav"><span id="span_refresh_tips"></span><a href="javascript:void(0);" onclick="return RefreshCommentList();" id="lnk_RefreshComments" runat="server" clientidmode="Static">刷新评论</a><a href="#" onclick="return RefreshPage();">刷新页面</a><a href="#top">返回顶部</a></div>
    <div id="comment_form_container" style="visibility: visible;"><div class="login_tips">
    登录后才能查看或发表评论，立即 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return account.login('!comments');">登录</a> 或者
    <a href="https://www.cnblogs.com/">逛逛</a> 博客园首页
</div>
</div>
    <div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
    <div id="ad_t2"></div>
    <div id="opt_under_post"></div>
    <div id="cnblogs_c1" class="under-post-card">
        <div id="div-gpt-ad-1592365906576-0" style="width: 300px; height: 250px;"></div>
    </div>
    <div id="under_post_card1"><div class="under-post-card"><b>园子动态</b>：<br>· <a href="https://www.cnblogs.com/cmt/p/14585828.html" target="_blank">致园友们的一封检讨书：都是我们的错</a><br>· <a href="https://www.cnblogs.com/cmt/p/14595262.html" target="_blank">数据库实例 CPU 100% 引发全站故障</a><br>· <a href="https://www.cnblogs.com/cmt/p/14217355.html" target="_blank">发起一个开源项目：博客引擎 fluss</a><br></div></div>
    <div id="cnblogs_c2" class="under-post-card">
        <div id="div-gpt-ad-1592366332455-0" style="width: 468px; height: 60px;"></div>
    </div>
    <div id="under_post_card2"><div class="itnews under-post-card">
    <b>最新新闻</b>：
    <br>
 ·          <a href="https://news.cnblogs.com/n/694873/" target="_blank">微信官方：微信圈子即将关闭 赶紧备份</a>
        <br>
 ·          <a href="https://news.cnblogs.com/n/694872/" target="_blank">新款特斯拉Model X实车内饰曝光：矩形方向盘 鸥翼门大亮</a>
        <br>
 ·          <a href="https://news.cnblogs.com/n/694871/" target="_blank">西部数据CEO：中美芯片脱钩很难 长江存储还有很长的路要走</a>
        <br>
 ·          <a href="https://news.cnblogs.com/n/694870/" target="_blank">祝融号火星巡航速度仅每小时40米 它为啥要这么慢？专家释疑</a>
        <br>
 ·          <a href="https://news.cnblogs.com/n/694869/" target="_blank">强强联手！游族网络宣布与华为达成游戏业务战略合作</a>
        <br>
    » <a href="https://news.cnblogs.com/" title="IT 新闻" target="_blank">更多新闻...</a>
</div></div>
    <div id="HistoryToday" class="under-post-card"></div>
    <script type="text/javascript">
       var commentManager = new blogCommentManager();
       commentManager.renderComments(0);
       fixPostBody();
       deliverBigBanner();
setTimeout(function() { incrementViewCount(cb_entryId); }, 50);       deliverT2();
       deliverC1C2();
       loadNewsAndKb();
       loadBlogSignature();
LoadPostCategoriesTags(cb_blogId, cb_entryId);       LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
       GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
       loadOptUnderPost();
       GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
    </script>
</div>

</div>


	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->

	<div id="sideBar">
		<div id="sideBarMain">
			<div id="sidebar_news" class="newsItem"><!--done-->
<div class="newsItem">
<h3 class="catListTitle">公告</h3>
	
<div id="blog-news">
    
    <div id="profile_block">
        昵称：
        <a href="https://home.cnblogs.com/u/kevingrace/">
            散尽浮华
        </a>
        <br>
        园龄：
        <a href="https://home.cnblogs.com/u/kevingrace/" title="入园时间：2016-03-07">
            5年2个月
        </a>
        <br>
        粉丝：
        <a href="https://home.cnblogs.com/u/kevingrace/followers/">
            3230
        </a>
        <br>
        关注：
        <a href="https://home.cnblogs.com/u/kevingrace/followees/">
            23
        </a>
        <div id="p_b_follow">
<a href="javascript:void(0)" onclick="follow('2423edd6-4be4-e511-9fc1-ac853d9f53cc')">+加关注</a></div>
        <script>getFollowStatus('2423edd6-4be4-e511-9fc1-ac853d9f53cc');</script>
    </div>
</div>
</div>

</div>
<div id="sidebar_c3"></div>
			<div id="calendar"><div id="blog-calendar" style="">

<table id="blogCalendar" class="Cal" title="Calendar" cellspacing="0" cellpadding="0" border="0">
    <tbody>
        <tr>
            <td colspan="7">
                <table class="CalTitle" cellspacing="0" border="0">
                    <tbody>
                        <tr>
                            <td class="CalNextPrev">
                                <a href="javascript:void(0);" onclick="loadBlogCalendar('2021/04/29'); return false;">&lt;</a>
                            </td>
                            <td align="center">2021年5月</td>
                            <td class="CalNextPrev" align="right">
                                <a href="javascript:void(0);" onclick="loadBlogCalendar('2021/06/29'); return false;">&gt;</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
    <tr>
        <th class="CalDayHeader" abbr="日" scope="col" align="center">日</th>
        <th class="CalDayHeader" abbr="一" scope="col" align="center">一</th>
        <th class="CalDayHeader" abbr="二" scope="col" align="center">二</th>
        <th class="CalDayHeader" abbr="三" scope="col" align="center">三</th>
        <th class="CalDayHeader" abbr="四" scope="col" align="center">四</th>
        <th class="CalDayHeader" abbr="五" scope="col" align="center">五</th>
        <th class="CalDayHeader" abbr="六" scope="col" align="center">六</th>
    </tr>
            <tr>
                            <td class="CalOtherMonthDay" align="center">25</td>
                            <td class="CalOtherMonthDay" align="center">26</td>
                            <td class="CalOtherMonthDay" align="center">27</td>
                            <td class="CalOtherMonthDay" align="center">28</td>
                            <td class="CalOtherMonthDay" align="center">29</td>
                            <td class="CalOtherMonthDay" align="center">30</td>
                    <td class="CalWeekendDay" align="center">
                        1
                    </td>
            </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            2
                        </td>
                            <td class="" align="center">
                                3
                            </td>
                            <td class="" align="center">
                                4
                            </td>
                            <td class="" align="center">
                                5
                            </td>
                            <td class="" align="center">
                                6
                            </td>
                            <td class="" align="center">
                                7
                            </td>
                        <td class="CalWeekendDay" align="center">
                            8
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            9
                        </td>
                            <td class="" align="center">
                                10
                            </td>
                            <td class="" align="center">
                                11
                            </td>
                            <td class="" align="center">
                                12
                            </td>
                            <td class="" align="center">
                                13
                            </td>
                            <td class="" align="center">
                                14
                            </td>
                        <td class="CalWeekendDay" align="center">
                            15
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            16
                        </td>
                            <td class="" align="center">
                                17
                            </td>
                            <td class="" align="center">
                                18
                            </td>
                            <td class="" align="center">
                                19
                            </td>
                            <td class="" align="center">
                                20
                            </td>
                            <td class="" align="center">
                                21
                            </td>
                        <td class="CalWeekendDay" align="center">
                            22
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            23
                        </td>
                            <td class="" align="center">
                                24
                            </td>
                            <td class="" align="center">
                                25
                            </td>
                            <td class="" align="center">
                                26
                            </td>
                            <td class="" align="center">
                                27
                            </td>
                            <td class="" align="center">
                                28
                            </td>
                        <td class="CalTodayDay" align="center">
                            29
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            30
                        </td>
                            <td class="" align="center">
                                31
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                1
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                2
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                3
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                4
                            </td>
                        <td class="CalOtherMonthDay" align="center">
                            5
                        </td>
                </tr>
    </tbody>
</table></div><script>loadBlogDefaultCalendar();</script></div>
			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"><!-- 搜索 -->
<div id="sidebar_search" class="sidebar-block">
    <div id="sidebar_search" class="mySearch">
        <h3 class="catListTitle">搜索</h3>
        <div id="sidebar_search_box">
            <div id="widget_my_zzk" class="div_my_zzk">
                <input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk">
            </div>
            <div id="widget_my_google" class="div_my_zzk">
                <input type="text" name="google_q" id="google_q" onkeydown="return google_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="google_go()" type="button" value="谷歌搜索" class="btn_my_zzk">
            </div>
        </div>
    </div>
</div>

<!-- 常用链接 -->
<div id="sidebar_shortcut" class="sidebar-block"><div class="catListLink">
<h3 class="catListTitle">
常用链接
</h3>
<ul>
    
<li><a href="https://www.cnblogs.com/kevingrace/p/" title="我的博客的随笔列表">我的随笔</a></li>
<li><a href="https://www.cnblogs.com/kevingrace/MyComments.html" title="我的发表过的评论列表">我的评论</a></li>
<li><a href="https://www.cnblogs.com/kevingrace/OtherPosts.html" title="我评论过的随笔列表">我的参与</a></li>
<li><a href="https://www.cnblogs.com/kevingrace/RecentComments.html" title="我的博客的评论列表">最新评论</a></li>
<li><a href="https://www.cnblogs.com/kevingrace/tag/" title="我的博客的标签列表">我的标签</a></li>

    <li><a id="itemListLink" onclick="this.blur();WarpClass('itemListLink', 'itemListLin_con');return false;" href="#">更多链接</a></li>
</ul>
</div>

</div>

<!-- 最新随笔 -->


<!-- 我的标签 -->
<div id="sidebar_toptags" class="sidebar-block"></div>

<!-- 积分与排名 -->


<!-- 随笔分类、随笔档案、文章分类、新闻分类、相册、链接 -->
<div id="sidebar_categories">

    <div class="catListPostCategory">
        <h3 class="catListTitle">
            
随笔分类



        </h3>

        <ul>
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924510.html" rel="" target="">
    Ansible(5)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924454.html" rel="" target="">
    Apache(6)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/category/1129278.html" rel="" target="">
    Ceph(4)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924513.html" rel="" target="">
    ClusterShell(1)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/category/911553.html" rel="" target="">
    DNS(5)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/category/839227.html" rel="" target="">
    Docker/K8S(51)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/category/925329.html" rel="" target="">
    DRBD(3)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/category/1099403.html" rel="" target="">
    Elasticsearch(7)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924516.html" rel="" target="">
    Expect(2)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/category/1363595.html" rel="" target="">
    Fabric(1)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/category/1067863.html" rel="" target="">
    FastDFS(1)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924891.html" rel="" target="">
    FTP(4)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/category/929881.html" rel="" target="">
    GlusterFS (5)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924880.html" rel="" target="">
    Haproxy(6)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/category/1165527.html" rel="" target="">
    IP SAN(1)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924884.html" rel="" target="">
    Iptables(6)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924512.html" rel="" target="">
    Jenkins(9)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/928638.html" rel="" target="">
    Jira and Confluence(6)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924517.html" rel="" target="">
    Jumpserver(4)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/1079836.html" rel="" target="">
    Kafka(2)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/899066.html" rel="" target="">
    LB/HA高可用(23)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/899069.html" rel="" target="">
    LDAP(2)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924896.html" rel="" target="">
    LVM(3)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924881.html" rel="" target="">
    LVS(5)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924895.html" rel="" target="">
    Maven/Nexus(1)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/898773.html" rel="" target="">
    Memcached(4)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/888957.html" rel="" target="">
    MongoDB(11)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924882.html" rel="" target="">
    MooseFS(2)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/1115510.html" rel="" target="">
    MQ消息队列(5)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/796278.html" rel="" target="">
    MySQL(65)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924883.html" rel="" target="">
    NFS(2)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/839102.html" rel="" target="">
    Nginx(55)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924453.html" rel="" target="">
    PHP(10)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924515.html" rel="" target="">
    Puppet(3)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/796274.html" rel="" target="">
    Python(13)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/888956.html" rel="" target="">
    Redis(16)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924886.html" rel="" target="">
    Rsync(8)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/796271.html" rel="" target="">
    Saltstack(4)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/1187446.html" rel="" target="">
    Samba(3)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/796275.html" rel="" target="">
    Shell(36)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924451.html" rel="" target="">
    Squid(4)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924885.html" rel="" target="">
    SSH(7)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/1079565.html" rel="" target="">
    Supervisor/Monit(3)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924446.html" rel="" target="">
    Tomcat(11)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/927096.html" rel="" target="">
    Ubuntu(9)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/924450.html" rel="" target="">
    Varnish(1)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/927534.html" rel="" target="">
    VPN(7)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/1067862.html" rel="" target="">
    Zookeeper(3)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/1142292.html" rel="" target="">
    安全性能(29)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/860276.html" rel="" target="">
    版本控制(32)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/796260.html" rel="" target="">
    常规运维(91)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/796277.html" rel="" target="">
    监控系统(43)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/888028.html" rel="" target="">
    日志分析(8)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/796272.html" rel="" target="">
    虚拟化(30)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/category/920574.html" rel="" target="">
    邮件服务(3)
</a>
 

                </li>                
            <li><a href="javascript:void(0)" onclick="sideColumnManager.loadMore(this)">更多</a></li>
        </ul>
    </div>    
    <div class="catListPostArchive">
        <h3 class="catListTitle">
            
随笔档案



        </h3>

        <ul>
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2021/04.html" rel="" target="">
    2021年4月(2)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2021/03.html" rel="" target="">
    2021年3月(2)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2021/02.html" rel="" target="">
    2021年2月(12)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2020/11.html" rel="" target="">
    2020年11月(11)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2020/04.html" rel="" target="">
    2020年4月(1)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2020/03.html" rel="" target="">
    2020年3月(1)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2019/11.html" rel="" target="">
    2019年11月(2)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2019/10.html" rel="" target="">
    2019年10月(3)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2019/09.html" rel="" target="">
    2019年9月(1)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2019/08.html" rel="" target="">
    2019年8月(4)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2019/07.html" rel="" target="">
    2019年7月(4)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2019/06.html" rel="" target="">
    2019年6月(1)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2019/04.html" rel="" target="">
    2019年4月(2)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2019/03.html" rel="" target="">
    2019年3月(6)
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2019/02.html" rel="" target="">
    2019年2月(6)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2019/01.html" rel="" target="">
    2019年1月(6)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2018/12.html" rel="" target="">
    2018年12月(9)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2018/11.html" rel="" target="">
    2018年11月(7)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2018/10.html" rel="" target="">
    2018年10月(10)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2018/09.html" rel="" target="">
    2018年9月(9)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2018/08.html" rel="" target="">
    2018年8月(12)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2018/07.html" rel="" target="">
    2018年7月(11)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2018/06.html" rel="" target="">
    2018年6月(2)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2018/05.html" rel="" target="">
    2018年5月(12)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2018/04.html" rel="" target="">
    2018年4月(11)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2018/03.html" rel="" target="">
    2018年3月(9)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2018/02.html" rel="" target="">
    2018年2月(12)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2018/01.html" rel="" target="">
    2018年1月(21)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2017/12.html" rel="" target="">
    2017年12月(17)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2017/11.html" rel="" target="">
    2017年11月(12)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2017/10.html" rel="" target="">
    2017年10月(6)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2017/09.html" rel="" target="">
    2017年9月(9)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2017/08.html" rel="" target="">
    2017年8月(7)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2017/07.html" rel="" target="">
    2017年7月(5)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2017/06.html" rel="" target="">
    2017年6月(6)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2017/05.html" rel="" target="">
    2017年5月(8)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2017/04.html" rel="" target="">
    2017年4月(10)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2017/03.html" rel="" target="">
    2017年3月(11)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2017/02.html" rel="" target="">
    2017年2月(15)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2017/01.html" rel="" target="">
    2017年1月(36)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2016/12.html" rel="" target="">
    2016年12月(41)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2016/11.html" rel="" target="">
    2016年11月(34)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2016/10.html" rel="" target="">
    2016年10月(30)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2016/09.html" rel="" target="">
    2016年9月(35)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2016/08.html" rel="" target="">
    2016年8月(35)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2016/07.html" rel="" target="">
    2016年7月(37)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2016/06.html" rel="" target="">
    2016年6月(37)
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/kevingrace/archive/2016/03.html" rel="" target="">
    2016年3月(3)
</a>
 

                </li>                
            <li><a href="javascript:void(0)" onclick="sideColumnManager.loadMore(this)">更多</a></li>
        </ul>
    </div>    
    <div class="catList">
        <h3 class="catListTitle">
            
Linux加油站



        </h3>

        <ul>
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="http://man.linuxde.net/" rel="nofollow noopener noreferrer" target="">
    Linux命令大全
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="http://www.runoob.com/git/git-basic-operations.html" rel="nofollow noopener noreferrer" target="">
    Git基础教程
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.bookstack.cn/read/prometheus-manual/introduction-overview.md" rel="nofollow noopener noreferrer" target="">
    Prometheus中文手册
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="http://www.cnblogs.com/xuliangwei/p/6658838.html" rel="nofollow noopener noreferrer" target="">
    Zabbix监控配置教程
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="http://dl.fedoraproject.org/pub/epel/" rel="nofollow noopener noreferrer" target="">
    Centos的epel源下载
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="http://nginx.org/en/docs/" rel="nofollow noopener noreferrer" target="">
    Nginx官方文档
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="http://ftp.ntu.edu.tw/MySQL/Downloads/" rel="nofollow noopener noreferrer" target="">
    Mysql源码下载
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://github.com/yorkoliu/pyauto" rel="nofollow noopener noreferrer" target="">
    Python自动化运维-案例源码
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="http://mirrors.aliyun.com/" rel="nofollow noopener noreferrer" target="">
    阿里开源镜像
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://hub.docker.com/explore/" rel="nofollow noopener noreferrer" target="">
    Docker镜像-hub.docker
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/xiaozhiqi/default.html?page=1" rel="nofollow noopener noreferrer" target="">
    Python自动化运维之路
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="http://wiki.jikexueyuan.com/project/docker-technology-and-combat/what.html" rel="nofollow noopener noreferrer" target="">
    Docker基础学习
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="http://doc.redisfans.com/" rel="nofollow noopener noreferrer" target="">
    Redis命令参考
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="http://www.ziqiangxuetang.com/django/django-tutorial.html" rel="nofollow noopener noreferrer" target="">
    Django基础教程
</a>
 

                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="http://www.runoob.com/" rel="nofollow noopener noreferrer" target="">
    RUNOOB.COM - 编程学习
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://elasticsearch.cn/article/" rel="nofollow noopener noreferrer" target="">
    Elasticsearch 中文社区
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="http://tengine.taobao.org/documentation_cn.html" rel="nofollow noopener noreferrer" target="">
    Tengine参考文档
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="http://www.restapitutorial.com/httpstatuscodes.html#" rel="nofollow noopener noreferrer" target="">
    HTTP Status Codes
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://blog.cactifans.com/" rel="nofollow noopener noreferrer" target="">
    Linux监控专注
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="http://yum.puppetlabs.com/" rel="nofollow noopener noreferrer" target="">
    Puppet版本下载
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://book.open-falcon.org/zh" rel="nofollow noopener noreferrer" target="">
    Open-falcon社区文档
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="http://www.cnblogs.com/peida/archive/2012/12/05/2803591.html" rel="" target="">
    每天一个Linux命令
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/001432712108300322c61f256c74803b43bfd65c6f8d0d0000" rel="nofollow noopener noreferrer" target="">
    Python学习- 推荐网站
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="http://www.91ri.org/" rel="nofollow noopener noreferrer" target="">
    攻防安全指南
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="http://www.phpfans.net/manu/Squid/" rel="nofollow noopener noreferrer" target="">
    Squid中文权威指南
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="http://ceph.org.cn/category/docs/" rel="" target="">
    Ceph开源社区
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.centos.bz/tag/docker/" rel="nofollow noopener noreferrer" target="">
    Linux运维日记本
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/emanlee/p/3327576.html" rel="nofollow noopener noreferrer" target="">
    AWK使用手册
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.runoob.com/docker/docker-tutorial.html" rel="nofollow noopener noreferrer" target="">
    Docker学习汇总
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.kubernetes.org.cn/docs" rel="nofollow noopener noreferrer" target="">
    Kubernetes 中文社区
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.zsythink.net/archives/tag/ansible/page/3/" rel="nofollow noopener noreferrer" target="">
    Technology blog1 of learning
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://alanhou.org/python-scripting-overview/" rel="nofollow noopener noreferrer" target="">
    精通Python自动化脚本
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.runoob.com/linux/linux-shell-passing-arguments.html" rel="nofollow noopener noreferrer" target="">
    Shell传递参数
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://rancher.com/docs/rancher/v1.6/zh/" rel="nofollow noopener noreferrer" target="">
    Rancher 部署文档
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://github.com/opsnull/follow-me-install-kubernetes-cluster" rel="nofollow noopener noreferrer" target="">
    Kubernetes 部署手册
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://blog.csdn.net/u013613428/article/details/78179430" rel="nofollow noopener noreferrer" target="">
    ElasticSearch性能监控指标
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://github.com/jackhu1990/golangman" rel="nofollow noopener noreferrer" target="">
    Go语言学习速查手册
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://studygolang.com/articles" rel="nofollow noopener noreferrer" target="">
    Go语言中文网
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="http://www.yunweipai.com/category/jingyan" rel="" target="">
    运维派
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.kancloud.cn/huyipow/prometheus/527093" rel="nofollow noopener noreferrer" target="">
    优雅姿态监控Kubernetes
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://mritd.me/2018/01/07/kubernetes-tls-bootstrapping-note/" rel="nofollow noopener noreferrer" target="">
    K8S TLS bootstrapping 
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://github.com/yunlzheng/prometheus-book" rel="nofollow noopener noreferrer" target="">
    Prometheus 操作指南
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="http://www.supervisord.org/configuration.html" rel="nofollow noopener noreferrer" target="">
    Supervisor教程
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="http://ylzheng.com/2018/03/07/promethues-remote-storage/" rel="nofollow noopener noreferrer" target="">
    Prometheus 高可用
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://kionf.com/2018/11/21/tower-useage/" rel="nofollow noopener noreferrer" target="">
    Ansible Tower 实战
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="http://docs.kubernetes.org.cn/632.html" rel="nofollow noopener noreferrer" target="">
    Kubernetes 中文文档
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://feisky.gitbooks.io/kubernetes/troubleshooting/pod.html" rel="nofollow noopener noreferrer" target="">
    Kubernetes 学习指南
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.elastic.co/guide/cn/elasticsearch/guide/cn/index.html" rel="nofollow noopener noreferrer" target="">
    Elasticsearch 权威指南 
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://pdf.us/category/yunwei/elk-stack" rel="" target="">
    Technology blog2 of learning
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://ivanzz1001.github.io/records/post/docker/2018/04/11/docker-harbor-uage" rel="nofollow noopener noreferrer" target="">
    Harbor 使用手册
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.bookstack.cn/read/kubernetes-handbook/concepts-pod-disruption-budget.md" rel="nofollow noopener noreferrer" target="">
    Kubernetes 使用手册
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="http://www.dockerinfo.net/docker/rancher%e4%b8%ad%e6%96%87%e6%89%8b%e5%86%8c" rel="nofollow noopener noreferrer" target="">
    Rancher 中文手册
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://rancher2.docs.rancher.cn/" rel="nofollow noopener noreferrer" target="">
    Rancher 中文文档
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://jimmysong.io/kubernetes-handbook/guide/kubectl-cheatsheet.html" rel="nofollow noopener noreferrer" target="">
    kubernetes 最佳实践
</a>
 

                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://preliminary.istio.io/latest/zh/docs/setup/getting-started/" rel="nofollow noopener noreferrer" target="">
    Istio 中文手册
</a>
 

                </li>                
            <li><a href="javascript:void(0)" onclick="sideColumnManager.loadMore(this)">更多</a></li>
        </ul>
    </div>    
</div>

<!-- 最新评论 -->
<div id="sidebar_recentcomments" class="sidebar-block"><div class="catListComment">
<h3 class="catListTitle">最新评论</h3>

	<div class="RecentCommentBlock">
        <ul>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/kevingrace/p/11753294.html">1. Re:Shell脚本中的while getopts用法小结</a></li>
                    <li class="recent_comment_body">文中有好几处笔误 getpots是Shell命令行参数解析工具，旨在从Shell Script的命令行当中解析参数。 c 6 #-c参数位置为4，是处理带值选项参数，即-a参数的OPTIND为4+2=...</li>
                    <li class="recent_comment_author">--0o一泓秋水o0</li>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/kevingrace/p/9365840.html">2. Re:Mycat 读写分离、主从切换、分库分表的操作记录</a></li>
                    <li class="recent_comment_body"><p>服气666</p>
</li>
                    <li class="recent_comment_author">--明仰望星空</li>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/kevingrace/p/6133818.html">3. Re:MySQL 优化系列（1）-- InnoDB重要参数优化</a></li>
                    <li class="recent_comment_body"><p>学习了，简直是非常的实用</p>
</li>
                    <li class="recent_comment_author">--嘎子哥~</li>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/kevingrace/p/10470226.html">4. Re:MySQL+MGR 单主模式和多主模式的集群环境 - 部署手册 (Centos7.5)</a></li>
                    <li class="recent_comment_body"><p>生产上MIC，稳定吗</p>
</li>
                    <li class="recent_comment_author">--嘎子哥~</li>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/kevingrace/p/5707750.html">5. Re:Nginx防止cookie丢失的配置  &lt;nginx proxy_pass&gt; &lt;proxy_cookie_domain&gt;</a></li>
                    <li class="recent_comment_body"><p></p>
</li>
                    <li class="recent_comment_author">--漫漫人生路总会错几步</li>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/kevingrace/p/5685486.html">6. Re:Mongodb主从复制/ 副本集/分片集群介绍</a></li>
                    <li class="recent_comment_body"><p>博主写的太好了！让我忍不住登录上来感谢你！非常感谢博主的分享！！！！</p>
</li>
                    <li class="recent_comment_author">--叶子喧闹</li>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/kevingrace/p/10438256.html">7. Re:MongoDB副本集(一主两从)读写分离、故障转移功能环境部署记录</a></li>
                    <li class="recent_comment_body"><p>不需要设置仲裁节点就能转移吗？</p>
</li>
                    <li class="recent_comment_author">--Sober丶</li>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/kevingrace/p/6114810.html">8. Re:gitlab两种连接方式:ssh和http配置介绍</a></li>
                    <li class="recent_comment_body"><p>3楼说的对，第一次创建项目的时候选择的是private,然后发现可以用http方式 git clone,git push</p>
</li>
                    <li class="recent_comment_author">--wei7</li>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/kevingrace/p/10961264.html">9. Re:Kubernetes容器集群管理环境 - 完整部署（上篇）</a></li>
                    <li class="recent_comment_body"><h2 id="section">我看秃了</h2>
</li>
                    <li class="recent_comment_author">--GinLaravel</li>
                    <li class="recent_comment_title"><a href="https://www.cnblogs.com/kevingrace/p/6114810.html">10. Re:gitlab两种连接方式:ssh和http配置介绍</a></li>
                    <li class="recent_comment_body">http连接方式 "这种方式要求project在创建的时候只能选择“Public”公开状态，Private和Internal私有模式下不能使用http方式进行连接"。 试了一下，新建的 Private...</li>
                    <li class="recent_comment_author">--ChrisZZ</li>
        </ul>
    </div>
</div>

</div>


<!-- 阅读排行榜 -->
<div id="sidebar_topviewedposts" class="sidebar-block"><div class="catListView">
<h3 class="catListTitle">阅读排行榜</h3>
	<div id="TopViewPostsBlock">
        <ul style="word-break:break-all">
                    <li>
                        <a href="https://www.cnblogs.com/kevingrace/p/5690241.html">
                            1. Git忽略提交规则 - .gitignore配置运维总结(487816)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/kevingrace/p/5919021.html">
                            2. ELK实时日志分析平台环境部署--完整记录(185674)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/kevingrace/p/5904800.html">
                            3. MySQL 数据库误删除后的数据恢复操作说明(147718)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/kevingrace/p/5707003.html">
                            4. 完整部署CentOS7.2+OpenStack+kvm 云平台环境（1）--基础环境搭建(142807)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/kevingrace/p/6496899.html">
                            5. Linux终端复用神器-Tmux使用梳理(137600)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/kevingrace/p/6259905.html">
                            6. 执行git push出现"Everything up-to-date"(135537)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/kevingrace/p/6196885.html">
                            7. Mysql连接错误：Lost connection to Mysql server at 'waiting for initial communication packet'(96108)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/kevingrace/p/9512287.html">
                            8. Nginx支持WebSocket反向代理-学习小结(89240)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/kevingrace/p/5896706.html">
                            9. 简单对比git pull和git pull --rebase的使用(84881)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/kevingrace/p/8072860.html">
                            10. Linux下环境变量配置方法梳理（.bash_profile和.bashrc的区别）(83104)
                        </a>
                    </li>
        </ul>
    </div>
</div>

</div>

<!-- 评论排行榜 -->
<div id="sidebar_topcommentedposts" class="sidebar-block"><div class="catListFeedback">
<h3 class="catListTitle">评论排行榜</h3>
	<div id="TopFeedbackPostsBlock">
        <ul style="word-break:break-all">
                    <li>
                        <a href="https://www.cnblogs.com/kevingrace/p/5707003.html">
                            1. 完整部署CentOS7.2+OpenStack+kvm 云平台环境（1）--基础环境搭建(124)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/kevingrace/p/5919021.html">
                            2. ELK实时日志分析平台环境部署--完整记录(24)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/kevingrace/p/6479813.html">
                            3. Gitlab利用Webhook实现Push代码后的jenkins自动构建(22)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/kevingrace/p/5651447.html">
                            4. [原创]CI持续集成系统环境--Gitlab+Gerrit+Jenkins完整对接(21)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/kevingrace/p/5737724.html">
                            5. kvm虚拟化管理平台WebVirtMgr部署-完整记录(1)(19)
                        </a>
                    </li>
        </ul>
    </div>
</div>

</div>

<!-- 推荐排行榜 -->
<div id="sidebar_topdiggedposts" class="sidebar-block"><div id="topdigg_posts_wrap">
    <div class="catListView">
        <h3 class="catListTitle">推荐排行榜</h3>
        <div id="TopDiggPostsBlock">
            <ul style="word-break: break-all">
                        <li>
                            <a href="https://www.cnblogs.com/kevingrace/p/5690241.html">
                                1. Git忽略提交规则 - .gitignore配置运维总结(48)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/kevingrace/p/5919021.html">
                                2. ELK实时日志分析平台环境部署--完整记录(36)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/kevingrace/p/9004460.html">
                                3. Redis哨兵模式（sentinel）学习总结及部署记录（主从复制、读写分离、主从切换）(28)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/kevingrace/p/5707003.html">
                                4. 完整部署CentOS7.2+OpenStack+kvm 云平台环境（1）--基础环境搭建(24)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/kevingrace/p/6137881.html">
                                5. linux负载均衡总结性说明（四层负载/七层负载）(20)
                            </a>
                        </li>
            </ul>
        </div>
    </div>
</div></div></div>
                    <script>loadBlogSideColumn();</script>
			</div>
			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		<!--done-->
Copyright © 2021 散尽浮华
<br><span id="poweredby">Powered by .NET 5.0 on Kubernetes</span>



	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->


    

    <input type="hidden" id="antiforgery_token" value="CfDJ8L-rpLgFVEJMgssCVvNUAjuPepgUz2Svyhm2JULniMOFd9hFWHBtlHKFF93VSbBCdBh3chkqF2fP51Q4jl9b11v7_MAspWH7bW5ReEkCFzJnfQ4UME1EGtk_3ujSSDm6qzl-lWiBwkZsJf5oc0ql8lE">


</body><div id="saladict-saladbowl-root" class="saladict-div saladict-external"><div class="saladict-external"></div></div></html>